"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[321],{569:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=void 0;var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}(this,a(t).call(this,e)),c(l(l(n)),"image",void 0),c(l(l(n)),"loadImage",(function(e,t){n.image&&(n.image.onload=null,n.image.onerror=null);var r=new Image;n.image=r,r.onload=n.onLoad,r.onerror=n.onError,r.src=e,t&&(r.srcset=t.srcSet,r.sizes=t.sizes)})),c(l(l(n)),"onLoad",(function(){n.props.delay?n.setImageWithDelay():n.setImage()})),c(l(l(n)),"setImageWithDelay",(function(){setTimeout((function(){n.setImage()}),n.props.delay)})),c(l(l(n)),"setImage",(function(){n.setState({image:n.image.src,loading:!1,srcSetData:{srcSet:n.image.srcset||"",sizes:n.image.sizes||""}})})),c(l(l(n)),"onError",(function(e){var t=n.props.onError;t&&t(e)})),n.state={image:e.placeholder,loading:!0,srcSetData:{srcSet:"",sizes:""}},n}var n,u,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),n=t,(u=[{key:"componentDidMount",value:function(){var e=this.props,t=e.src,n=e.srcSetData;this.loadImage(t,n)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.src,o=n.placeholder,a=n.srcSetData;r!==e.src&&this.setState({image:o,loading:!0},(function(){t.loadImage(r,a)}))}},{key:"componentWillUnmount",value:function(){this.image&&(this.image.onload=null,this.image.onerror=null)}},{key:"render",value:function(){var e=this.state,t=e.image,n=e.loading,r=e.srcSetData,o=this.props.children;if(!o||"function"!=typeof o)throw new Error("ProgressiveImage requires a function as its only child");return o(t,n,r)}}])&&o(n.prototype,u),s&&o(n,s),t}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7294)).Component);t.Z=u},86:function(e,t,n){var r=n(7294),o=n(1930),a=n(6289),i=n(5444),l=n(7752),c=n(7220);n(6359);t.Z=function(e){var t=e.dataList,n=(e.onClickAppsIcon,e.showFallBack,e.isOwner),u=e.vertical,s=e.render,f=r.useContext(o.b),m=(0,r.useState)(!1),p=m[0],g=m[1],d=(0,r.useState)([]),h=d[0],y=(d[1],{xxsmall:"100%",xsmall:"100%",small:"100%",medium:"24%",xlarge:"20%",full:"20%"});return r.createElement(a.x,{fill:!0,wrap:!0,direction:u?"column":"row",gap:"10px"},t&&t.map((function(e,t){e.thumbnail,e.title,e.cta;var n=e.cardHref,o=(e.image,e.description,n?{style:{cursor:"pointer"},onClick:function(){return(0,i.c4)(n)}}:{});return r.createElement(a.x,Object.assign({},o,{outline:!1,key:t,width:y[f],gap:"xxsmall",direction:u?"row":"column"}),s&&s(e,t))})),p&&h&&r.createElement(l.Z,{onClose:function(){return g(!1)}},r.createElement(a.x,null,r.createElement(c.Z,{showUpload:n,files:h}))))}},7220:function(e,t,n){var r=n(7294),o=n(6289),a=n(733),i=n(3277),l=n(2059),c=n(8905);t.Z=function(e){var t=e.files,n=e.showUpload,u=e.imageFit,s=void 0===u?"contain":u,f=(0,r.useState)(t),m=f[0],p=f[1],g=(0,r.useState)(0),d=g[0],h=g[1],y=(0,r.useState)(null),v=y[0],b=y[1];r.useContext(c.Z);return(0,r.useEffect)((function(){d<m.length&&d>-1&&b(m[d])}),[d]),r.createElement(o.x,null,n&&r.createElement(l.Z,{onChange:function(e,t){p(m.concat([t]))}}),r.createElement(o.x,{width:{min:"300px",max:"600px"},height:"340px",overflow:"hidden"},v&&r.createElement(a.E,{fit:s,src:v.url()})),r.createElement(o.x,{direction:"row",gap:"small"},r.createElement(o.x,null,r.createElement(i.e,{onClick:function(){return d-1>-1&&h(d-1)}},"Prev")),r.createElement(o.x,{margin:{left:"auto"}},r.createElement(i.e,{onClick:function(){return d+1<m.length&&h(d+1)}},"Next"))))}},6359:function(e,t,n){n.d(t,{E:function(){return u}});var r=n(9756),o=n(7294),a=n(733),i="https://parsefiles.back4app.com/32hrI9O4UWscR1vOtkNt62eoLtZgyS9SUIEwp0HL/ef090da5003a00bc6c4bf12255c43aa3_fallback.png",l=n(569),c=["src","onImageClick","imageProps"],u=function(e){var t=e.src,n=e.onImageClick,u=e.imageProps,s=((0,r.Z)(e,c),o.createElement(a.E,{src:i,fit:"cover"}));return o.createElement(o.Fragment,null,o.createElement(l.Z,{src:t,placeholder:i},(function(e,t){return t?s:o.createElement(o.Fragment,null,o.createElement(a.E,Object.assign({fallback:i,src:e,onClick:n},u)))})))}},1314:function(e,t,n){n.r(t);var r=n(7294),o=n(86),a=n(6289),i=n(733),l=n(3336),c=n(5444),u=l.default.div.withConfig({displayName:"list__ImageContainer",componentId:"sc-1yhd98w-0"})(["cursor:pointer;"]);t.default=function(e){var t=e.data,n=(e.location,new Date);n.setMonth(n.getMonth()-6);var l=(0,r.useState)([]),s=l[0],f=l[1],m=(0,r.useState)([]),p=m[0],g=m[1];return(0,r.useEffect)((function(){var e=t.allAggVideo.edges.map((function(e){var t,n,r=e.node;return console.log(r),{id:r.key,image:null==r||null===(t=r.thumbnails)||void 0===t||null===(n=t.high)||void 0===n?void 0:n.url,title:r.title,publishTime:r.publishTime}}));f(function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}(e)),g(e.filter((function(e){return e.publishTime>n.toISOString()})))}),[t.allAggVideo.edges]),r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,r.createElement(a.x,{alignContent:"center",direction:"row",justify:"center"}),r.createElement(a.x,{alignContent:"center",justify:"center"},"OpenFengShui",r.createElement(a.x,null,"Recent Video"),r.createElement(o.Z,{dataList:p,render:function(e,t){return r.createElement(u,{onClick:function(){(0,c.c4)("/video?id="+e.id)}},r.createElement(i.E,{src:e.image,imageProps:{fit:"contain"}}),r.createElement(a.x,null," ",e.title," "))}}),r.createElement(a.x,null,"More Videos"),r.createElement(o.Z,{dataList:s,render:function(e,t){return r.createElement(u,{onClick:function(){(0,c.c4)("/video?id="+e.id)}},r.createElement(i.E,{src:e.image,imageProps:{fit:"contain"}}),r.createElement(a.x,null," ",e.title," "))}}))))}}}]);
//# sourceMappingURL=component---src-pages-list-js-1022ae4527af6dad5a47.js.map