"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[646],{9760:function(e,r,n){n.d(r,{r:function(){return A}});var t=n(7294),a=n(3336),o=n(4192),i=n(7459),u=n(9409),l={center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},s=(0,a.css)(["align-items:",";"],(function(e){return l[e.align]})),c={around:"space-around",between:"space-between",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},f=(0,a.css)(["align-content:",";"],(function(e){return c[e.alignContent]})),m={center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},d=(0,a.css)(["justify-items:",";"],(function(e){return m[e.justify]})),p={around:"space-around",between:"space-between",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},g=(0,a.css)(["justify-content:",";"],(function(e){return p[e.justifyContent]})),h={flex:"1fr",full:"100%","1/2":"50%","1/4":"25%","2/4":"50%","3/4":"75%","1/3":"33.33%","2/3":"66.66%"},w=function(e,r){return Array.isArray(e)?"minmax("+(r.global.size[e[0]]||e[0])+", "+(r.global.size[e[1]]||e[1])+")":"flex"===e?"1fr":"minmax("+(r.global.size[e]||e)+", 1fr)"},y=function(e,r,n){var t=h[e];return!n||!t||r.fillContainer&&"horizontal"!==r.fillContainer||console.warn("Grid needs `fill` when using fractional row sizes"),t||r.theme.global.size[e]||e},b=a.default.div.attrs((function(e){return{"aria-label":e.a11yTitleProp}})).withConfig({displayName:"StyledGrid",componentId:"sc-1wofa1l-0"})(["display:grid;box-sizing:border-box;"," "," "," "," "," "," "," "," "," "," "," "," ",""],o.$G,(function(e){return e.border&&(Array.isArray(e.border)?e.border.map((function(r){return(0,i.$)(r,e.responsive,e.theme)})):(0,i.$)(e.border,e.responsive,e.theme))}),(function(e){return(r=e.fillContainer)?"horizontal"===r?"width: 100%;":"vertical"===r?"height: 100%;":"\n      width: 100%;\n      height: 100%;\n    ":r;var r}),(function(e){return e.align&&s}),(function(e){return e.alignContent&&f}),(function(e){return e.areas&&function(e){if(Array.isArray(e.rowsProp)&&Array.isArray(e.columns)||console.warn("Grid `areas` requires `rows` and `columns` to be arrays."),Array.isArray(e.areas)&&e.areas.every((function(e){return Array.isArray(e)})))return"grid-template-areas: "+e.areas.map((function(e){return'"'+e.join(" ")+'"'})).join(" ")+";";var r=e.rowsProp.map((function(){return e.columns.map((function(){return"."}))}));return e.areas.forEach((function(e){for(var n=e.start[1];n<=e.end[1];n+=1)for(var t=e.start[0];t<=e.end[0];t+=1)r[n][t]=e.name})),"grid-template-areas: "+r.map((function(e){return'"'+e.join(" ")+'"'})).join(" ")+";"}(e)}),(function(e){return e.columns&&function(e){return Array.isArray(e.columns)?(0,a.css)(["grid-template-columns:",";"],e.columns.map((function(r){return Array.isArray(r)?"minmax("+y(r[0],e)+", "+y(r[1],e)+")":y(r,e)})).join(" ")):"object"==typeof e.columns?(0,a.css)(["grid-template-columns:repeat( ",","," );"],"number"==typeof(r=e.columns.count)?r:"auto-"+r,w(e.columns.size,e.theme)):(0,a.css)(["grid-template-columns:repeat( auto-fill,"," );"],w(e.columns,e.theme));var r}(e)}),(function(e){return e.gap&&function(e){if("string"==typeof e.gap){var r=e.theme.global.edgeSize[e.gap]||e.gap;return"grid-gap: "+r+" "+r+";"}return e.gap.row&&e.gap.column?"\n      grid-row-gap: "+(e.theme.global.edgeSize[e.gap.row]||e.gap.row)+";\n      grid-column-gap: "+(e.theme.global.edgeSize[e.gap.column]||e.gap.column)+";\n    ":e.gap.row?"\n      grid-row-gap: "+(e.theme.global.edgeSize[e.gap.row]||e.gap.row)+";\n    ":e.gap.column?"\n      grid-column-gap: "+(e.theme.global.edgeSize[e.gap.column]||e.gap.column)+";\n    ":""}(e)}),(function(e){return e.justify&&d}),(function(e){return e.justifyContent&&g}),(function(e){return e.pad&&(0,o.oW)("padding",e.pad,e.responsive,e.theme.global.edgeSize.responsiveBreakpoint,e.theme)}),(function(e){return e.rowsProp&&function(e){return Array.isArray(e.rowsProp)?(0,a.css)(["grid-template-rows:",";"],e.rowsProp.map((function(r){return Array.isArray(r)?"minmax("+y(r[0],e,!0)+", "+y(r[1],e,!0)+")":y(r,e,!0)})).join(" ")):(0,a.css)(["grid-auto-rows:",";"],e.theme.global.size[e.rowsProp])}(e)}),(function(e){return e.theme.grid&&e.theme.grid.extend}));function v(){return(v=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}b.defaultProps={},Object.setPrototypeOf(b.defaultProps,u.l);var x=(0,t.forwardRef)((function(e,r){var n=e.a11yTitle,a=e.border,o=e.fill,i=e.responsive,u=void 0===i||i,l=e.rows,s=e.tag,c=e.as,f=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["a11yTitle","border","fill","responsive","rows","tag","as"]);return t.createElement(b,v({ref:r,a11yTitleProp:n,as:!c&&s?s:c,border:a,fillContainer:o,responsive:u,rowsProp:l},f))}));x.displayName="Grid";var A=x;A.available="undefined"!=typeof window&&window.CSS&&window.CSS.supports&&window.CSS.supports("display","grid")},2876:function(e,r,n){n.r(r),n.d(r,{default:function(){return h}});var t=n(7294),a=n(9499),o=n(9760),i=n(6289),u=n(1165),l=n(4278),s=n(2137),c=n(7757),f=n.n(c),m=n(5796),d=n(3277),p=function(e){var r=e.initialActiveId,n=e.senderRoleName,a=(0,t.useState)([]),o=a[0],u=a[1],c=(0,t.useState)(r||0)[0],p=(0,t.useState)({}),g=p[0],h=p[1];return(0,t.useEffect)((function(){(function(){var e=(0,s.Z)(f().mark((function e(){var r,t,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.a9)(n);case 2:return r=e.sent,u(r),t=r.reduce((function(e,r){return e.concat(r.get("uniqueName").split("_"))}),[]),e.next=7,(0,l.Ld)(t);case 7:a=e.sent,o=r.reduce((function(e,r){var t=r.get("uniqueName").split("_").filter((function(e){return e!==n}));return e[r.id]=t.map((function(e){var r=a.find((function(r){return r.role&&r.role.get("name")===e}));return r?r&&r.rolePublicProfile&&r.rolePublicProfile.get("name"):""})).join(" "),e}),{}),h(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),t.createElement(t.Fragment,null,t.createElement(i.x,{fill:!0,direction:"row"},t.createElement(m.a,{width:"100%",children:function(e){var r=g[e.id],a=e.get("uniqueName").split("_").filter((function(e){return e!==n}));return t.createElement(i.x,{pad:"small",background:c===e.objectId?"light-2":"white"},t.createElement(d.e,{href:"/chat/r/"+n+"/c/"+a},r))},pad:"0",primaryKey:"name",data:o})))},g=function(e){var r=e.senderRoleName,n=e.recipientRoleName,a=(0,t.useState)(null),s=a[0],c=a[1];return(0,t.useEffect)((function(){(0,l.Ld)([n]).then((function(e){e&&e.length&&c(e[0].rolePublicProfile)}))}),[n]),t.createElement(t.Fragment,null,t.createElement(o.r,{gap:"small",pad:"small",fill:!0,areas:[{name:"chat",start:[0,0],end:[0,0]},{name:"room",start:[1,0],end:[1,0]}],columns:["3/4","1/4"],rows:["auto"]},t.createElement(i.x,{fill:!0,gridArea:"room",direction:"row"},t.createElement(p,{senderRoleName:r})),t.createElement(i.x,{gridArea:"chat",pad:"medium",height:"405px"},r&&t.createElement(u.Z,{chatroomName:s&&s.get("name"),senderRoleName:r,recipientRoleName:n,publicRoom:!1}))))},h=function(){return t.createElement(t.Fragment,null,t.createElement(a.Router,{basepath:"/chat"},t.createElement(g,{path:"/r/:senderRoleName/c/:recipientRoleName"})))}}}]);
//# sourceMappingURL=component---src-pages-chat-js-1fd8653a8fc1a267e629.js.map