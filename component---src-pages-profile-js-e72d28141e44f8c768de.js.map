{"version":3,"sources":["webpack:///./src/pages/profile.js"],"names":["Component","useState","rolePublicProfile","setRolePublicProfile","useEffect","getMyRoleObject","then","e","role","find","o","get","Parse","User","current","id","searchObject","limit","f","t","v","c","objects","buttonText","heading","mode","onClick","action","model","createObject","updateObject","toJSON","formConfig","config","property","headerText"],"mappings":"8FAAA,wDAkEeA,UA9DG,WAAO,IAAD,EAC4BC,mBAAS,IAApDC,EADe,KACIC,EADJ,KAwBtB,OArBAC,qBAAU,WAEJC,cACAC,MAAK,SAACC,GACJ,IAAMC,EAAOD,EAAEE,MAAK,SAAAC,GAAC,OAAIA,EAAEC,IAAI,UAAN,QAA0BC,IAAMC,KAAKC,UAAUC,MACrEP,GACDQ,YAAa,oBAAqB,CAChCC,MAAO,EACPT,KAAM,CACJU,EAAG,UACHC,EAAG,UACHC,EAAGZ,EAAKO,GACRM,EAAG,WAEJf,MAAK,SAACgB,GAAD,OAAaA,GAAWA,EAAQ,GAAKnB,EAAqBmB,EAAQ,IAAMnB,EAAqB,YAK5G,IAGD,oCACI,kBAAC,IAAD,CACIoB,WAAW,yBACXC,QAAQ,yBACRC,KAAMvB,EAAkBa,GAAK,SAAW,SACxCW,QAAS,SAACC,EAAQC,GAChB,MAAc,WAAXD,EACME,YAAa,oBAAqBD,GAG7B,WAAXD,EACMG,YAAa,oBAAqBF,QAD3C,GAIFA,MAAO1B,EAAkBa,GAAKb,EAAkB6B,SAAW,GAC3DC,WAAY,CACVC,OAAQ,CACN,CACAC,SAAU,OACVC,WAAY,QAEZ,CACED,SAAU,gBACVC,WAAY,kBAEZ,CACED,SAAU,eACVC,WAAY","file":"component---src-pages-profile-js-e72d28141e44f8c768de.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Anchor } from \"grommet\";\nimport Parse, { getMyRoleObject, searchObject, updateObject, createObject } from \"../library/parse\";\nimport CRUDForm from '../containers/CRUDForm'\nconst Component = () => {\n  const [rolePublicProfile, setRolePublicProfile] = useState({});\n  \n  useEffect(() => {\n\n        getMyRoleObject()\n       .then((e) => { \n          const role = e.find(o => o.get('name') === `User-${Parse.User.current().id}`)\n          if(role) {\n            searchObject(\"RolePublicProfile\", {\n              limit: 1,\n              role: {\n                f: 'equalTo',\n                t: 'pointer',\n                v: role.id,\n                c: '_Role'\n              }\n            }).then((objects) => objects && objects[0] ? setRolePublicProfile(objects[0]) : setRolePublicProfile({}));\n          }\n       });\n\n\n  }, []);\n\n  return (\n    <>\n        <CRUDForm\n            buttonText=\"Update Contact Details\"\n            heading=\"Update Contact Details\"\n            mode={rolePublicProfile.id ? 'update' : 'create' }\n            onClick={(action, model) => {\n              if(action === 'create') {\n                return createObject('RolePublicProfile', model)\n              }\n\n              if(action === 'update') {\n                return updateObject('RolePublicProfile', model)\n              }\n            }}\n            model={rolePublicProfile.id ? rolePublicProfile.toJSON() : {}}\n            formConfig={{\n              config: [\n                {\n                property: \"name\",\n                headerText: \"Name\",\n                },\n                {\n                  property: \"contactNumber\",\n                  headerText: \"Contact Number\",\n                  },\n                  {\n                    property: \"contactEmail\",\n                    headerText: \"Contact Email\",\n                    },\n            \n            ],\n            }}\n        />\n    </>\n  );\n};\n\nexport default Component;\n"],"sourceRoot":""}