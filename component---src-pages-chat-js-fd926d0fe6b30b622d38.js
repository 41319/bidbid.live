(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{QQwb:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("YwZP"),i=n("7t0v"),l=n("otPn"),o=n("6Rr0"),u=n("LXcg"),m=n("o0o1"),s=n.n(m),f=(n("ls82"),n("HaE+")),d=n("IcFT"),p=n("463D"),h=function(e){var t=e.initialActiveId,n=e.senderRoleName,c=Object(a.useState)([]),i=c[0],o=c[1],m=Object(a.useState)(t||0)[0],h=Object(a.useState)({}),b=h[0],g=h[1];return Object(a.useEffect)((function(){(function(){var e=Object(f.a)(s.a.mark((function e(){var t,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.h)(n);case 2:return t=e.sent,o(t),a=t.reduce((function(e,t){return e.concat(t.get("uniqueName").split("_"))}),[]),e.next=7,Object(u.q)(a);case 7:r=e.sent,c=t.reduce((function(e,t){var a=t.get("uniqueName").split("_").filter((function(e){return e!==n}));return e[t.id]=a.map((function(e){var t=r.find((function(t){return t.role&&t.role.get("name")===e}));return t?t.rolePublicProfile.get("name"):""})).join(" "),e}),{}),g(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{fill:!0,direction:"row"},r.a.createElement(d.a,{width:"100%",children:function(e){var t=b[e.id],a=e.get("uniqueName").split("_").filter((function(e){return e!==n}));return r.a.createElement(l.a,{pad:"small",background:m===e.objectId?"light-2":"white"},r.a.createElement(p.a,{href:"/chat/r/"+n+"/c/"+a},t))},pad:"0",primaryKey:"name",data:i})))},b=function(e){var t=e.senderRoleName,n=e.recipientRoleName,c=Object(a.useState)(null),m=c[0],s=c[1];return Object(a.useEffect)((function(){Object(u.q)([n]).then((function(e){e&&e.length&&s(e[0].rolePublicProfile)}))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{gap:"small",pad:"small",fill:!0,areas:[{name:"chat",start:[0,0],end:[0,0]},{name:"room",start:[1,0],end:[1,0]}],columns:["3/4","1/4"],rows:["auto"]},r.a.createElement(l.a,{fill:!0,gridArea:"room",direction:"row"},r.a.createElement(h,{senderRoleName:t,recipientRoleName:n,onActive:function(){}})),r.a.createElement(l.a,{gridArea:"chat",pad:"medium",height:"405px"},t&&r.a.createElement(o.a,{chatroomName:m&&m.get("name"),senderRoleName:t,recipientRoleName:n,publicRoom:!1}))))};t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Router,{basepath:"/chat"},r.a.createElement(b,{path:"/r/:senderRoleName/c/:recipientRoleName"})))}}}]);
//# sourceMappingURL=component---src-pages-chat-js-fd926d0fe6b30b622d38.js.map