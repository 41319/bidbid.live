{"version":3,"sources":["webpack:///./src/pages/account.js"],"names":["App","useState","alignContent","justify","width","margin","label","onClick","Parse","FacebookUtils","logIn","then","user","existed","navigateTo","FB","api","response","set","name","email","save","success","error","alert","message"],"mappings":"2FAAA,wGAuDeA,UAvCH,WAAO,IAAD,EACkBC,mBAAS,MAD3B,UAyBhB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,aAAa,SAASC,QAAQ,UACjC,kBAAC,IAAD,CAAKC,MAAM,OACT,kBAAC,IAAD,CACEC,OAAO,QACPC,MAAM,wBACNC,QAAS,WA7BjBC,MAAMC,cAAcC,MAAM,uBAAwB,IAAIC,MAAK,SAACC,GACrDA,EAAKC,UAiBRC,qBAAW,KAhBXC,GAAGC,IAAI,wCAAwC,SAAUC,GACvDL,EAAKM,IAAI,WAAYD,EAASE,MAC9BP,EAAKM,IAAI,QAASD,EAASG,OAE3BR,EAAKS,KAAK,KAAM,CACdC,QAAS,SAAUV,GACjBE,qBAAW,MAEbS,MAAO,SAAUX,EAAMW,GACrBC,MACE,+CAAiDD,EAAME","file":"component---src-pages-account-js-7bee77982d3d40532a89.js","sourcesContent":["/* global Parse, FB */\nimport React, { useState } from \"react\";\nimport { Router } from \"@reach/router\";\nimport Layout from \"../containers/layout\";\n\nimport { Button, Box } from \"grommet\";\nimport { isBrowser } from \"../helpers\";\nimport { navigateTo } from \"gatsby-link\";\n\nfunction logOutWithFacebook() {\n  // The callback function\n  // Delete the current session for the user\n  alert(\"User logged out of Facebook!\");\n  window.location.replace(\"http://js-fb-login.back4app.io\"); // Redirects the user to another webpage\n}\n\nconst App = () => {\n  const [loginInfo, setLoginInfo] = useState(null);\n  const logIn = () => {\n    Parse.FacebookUtils.logIn(\"public_profile,email\", {}).then((user) => {\n      if (!user.existed()) {\n        FB.api(\"/me?fields=id,name,email,permissions\", function (response) {\n          user.set(\"username\", response.name);\n          user.set(\"email\", response.email);\n\n          user.save(null, {\n            success: function (user) {\n              navigateTo(\"/\");\n            },\n            error: function (user, error) {\n              alert(\n                \"Failed to save user to database with error: \" + error.message\n              );\n            },\n          });\n        });\n      } else {\n        navigateTo(\"/\");\n      }\n    });\n  };\n  return (\n    <Layout>\n      <Box alignContent=\"center\" justify=\"center\">\n        <Box width=\"20%\">\n          <Button\n            margin=\"small\"\n            label=\"Sign In With Facebook\"\n            onClick={() => logIn()}\n          />\n        </Box>\n      </Box>\n    </Layout>\n  );\n};\nexport default App;\n"],"sourceRoot":""}