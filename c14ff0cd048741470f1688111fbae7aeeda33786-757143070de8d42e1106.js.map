{"version":3,"sources":["webpack:///./node_modules/fbjs/lib/hyphenate.js","webpack:///./node_modules/date-fns/esm/toDate/index.js","webpack:///./node_modules/draft-js/lib/convertFromDraftStateToRaw.js","webpack:///./node_modules/draft-js/lib/DraftEntitySegments.js","webpack:///./node_modules/draft-js/lib/getContentEditableContainer.js","webpack:///./node_modules/draft-js/lib/keyCommandMoveSelectionToEndOfBlock.js","webpack:///./node_modules/draft-js/lib/DefaultDraftInlineStyle.js","webpack:///./node_modules/htmlparser2/lib/Stream.js","webpack:///./node_modules/htmlparser2/lib/CollectingHandler.js","webpack:///./node_modules/react-html-parser/lib/elementTypes/TextElementType.js","webpack:///./node_modules/draft-js/lib/getRangeClientRects.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/to-object.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/draft-js/lib/DraftEditorEditHandler.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/draft-js/lib/convertFromHTMLToContentBlocks.js","webpack:///./node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","webpack:///./node_modules/fbjs/lib/invariant.js","webpack:///./node_modules/fbjs/lib/warning.js","webpack:///./node_modules/draft-js/lib/keyCommandPlainBackspace.js","webpack:///./node_modules/date-fns/esm/_lib/protectedTokens/index.js","webpack:///./node_modules/draft-js/lib/EditorState.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-array.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/draft-js/lib/DOMObserver.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/react-html-parser/lib/elementTypes/UnsupportedElementType.js","webpack:///./node_modules/draft-js/lib/getUpdatedSelectionState.js","webpack:///./node_modules/fbjs/lib/Style.js","webpack:///./node_modules/draft-js/lib/DraftEditor.react.js","webpack:///./node_modules/draft-js/lib/isHTMLAnchorElement.js","webpack:///./node_modules/fbjs/lib/Keys.js","webpack:///./node_modules/draft-js/lib/insertTextIntoContentState.js","webpack:///./node_modules/fbjs/lib/getDocumentScrollElement.js","webpack:///./node_modules/draft-js/lib/CompositeDraftDecorator.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/draft-js/lib/removeTextWithStrategy.js","webpack:///./node_modules/draft-js/lib/ContentBlock.js","webpack:///./node_modules/fbjs/lib/isNode.js","webpack:///./node_modules/domutils/lib/helpers.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/draft-js/lib/adjustBlockDepthForContentState.js","webpack:///./node_modules/domhandler/lib/node.js","webpack:///./node_modules/react-html-parser/lib/utils/isValidTagOrAttributeName.js","webpack:///./node_modules/draft-js/lib/getDefaultKeyBinding.js","webpack:///./node_modules/draft-js/lib/splitBlockInContentState.js","webpack:///./node_modules/dom-serializer/node_modules/entities/lib/decode.js","webpack:///./node_modules/draft-js/lib/DraftEditorBlockNode.react.js","webpack:///./node_modules/draft-js/lib/editOnKeyDown.js","webpack:///./node_modules/draft-js/lib/DraftEditorLeaf.react.js","webpack:///./node_modules/fbjs/lib/UserAgent.js","webpack:///./node_modules/domutils/index.js","webpack:///./node_modules/draft-js/lib/moveSelectionForward.js","webpack:///./node_modules/draft-js/lib/getContentStateFragment.js","webpack:///./node_modules/fbjs/lib/getScrollPosition.js","webpack:///./node_modules/draft-js/lib/DraftEditorBlock.react.js","webpack:///./node_modules/react-html-parser/lib/dom/attributes/BooleanAttributes.js","webpack:///./node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","webpack:///./node_modules/date-fns/esm/_lib/getUTCWeek/index.js","webpack:///./node_modules/react-html-parser/lib/elementTypes/TagElementType.js","webpack:///./node_modules/draft-js/lib/getCorrectDocumentFromNode.js","webpack:///./node_modules/draft-js/lib/DraftJsDebugLogging.js","webpack:///./node_modules/dom-serializer/index.js","webpack:///./node_modules/draft-js/lib/isHTMLImageElement.js","webpack:///./node_modules/draft-js/lib/draftKeyUtils.js","webpack:///./node_modules/draft-js/lib/isElement.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/draft-js/lib/keyCommandBackspaceToStartOfLine.js","webpack:///./node_modules/draft-js/lib/getTextContentFromFiles.js","webpack:///./node_modules/draft-js/lib/DraftEditorPlaceholder.react.js","webpack:///./node_modules/draft-js/lib/expandRangeToStartOfLine.js","webpack:///./node_modules/draft-js/lib/uuid.js","webpack:///./node_modules/draft-js/lib/sanitizeDraftText.js","webpack:///./node_modules/draft-js/lib/moveBlockInContentState.js","webpack:///./node_modules/fbjs/lib/UnicodeBidiService.js","webpack:///./node_modules/draft-js/lib/DraftEditorDragHandler.js","webpack:///./node_modules/draft-js/lib/getDraftEditorSelectionWithNodes.js","webpack:///./node_modules/date-fns/esm/_lib/format/longFormatters/index.js","webpack:///./node_modules/draft-js/lib/DraftEditorContents.react.js","webpack:///./node_modules/draft-js/lib/DraftOffsetKey.js","webpack:///./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","webpack:///./node_modules/draft-js/lib/editOnBlur.js","webpack:///./node_modules/draft-js/lib/ContentBlockNode.js","webpack:///./node_modules/immutable/dist/immutable.js","webpack:///./node_modules/domutils/lib/traversal.js","webpack:///./node_modules/ua-parser-js/src/ua-parser.js","webpack:///./node_modules/fbjs/lib/UserAgentData.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/dom-serializer/node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-create.js","webpack:///./node_modules/draft-js/lib/BlockTree.js","webpack:///./node_modules/draft-js/lib/insertFragmentIntoContentState.js","webpack:///./node_modules/draft-js/lib/ContentState.js","webpack:///./node_modules/draft-js/lib/ContentStateInlineStyle.js","webpack:///./node_modules/draft-js/lib/keyCommandInsertNewline.js","webpack:///./node_modules/draft-js/lib/isInstanceOfNode.js","webpack:///./node_modules/draft-js/lib/modifyBlockForContentState.js","webpack:///./node_modules/fbjs/lib/getUnboundedScrollPosition.js","webpack:///./node_modules/fbjs/lib/PhotosMimeType.js","webpack:///./node_modules/react-html-parser/lib/utils/isEmptyTextNode.js","webpack:///./node_modules/fbjs/lib/camelize.js","webpack:///./node_modules/domhandler/index.js","webpack:///./node_modules/draft-js/lib/RichTextEditorUtil.js","webpack:///./node_modules/draft-js/lib/setDraftEditorSelection.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/draft-js/lib/isHTMLElement.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/draft-js/lib/DraftTreeAdapter.js","webpack:///./node_modules/draft-js/lib/DraftPasteProcessor.js","webpack:///./node_modules/draft-js/lib/DraftEditorDecoratedLeaves.react.js","webpack:///./node_modules/fbjs/lib/VersionRange.js","webpack:///./node_modules/fbjs/lib/DataTransfer.js","webpack:///./node_modules/draft-js/lib/decodeInlineStyleRanges.js","webpack:///./node_modules/draft-js/lib/splitTextIntoTextBlocks.js","webpack:///./node_modules/fbjs/lib/getStyleProperty.js","webpack:///./node_modules/draft-js/lib/DraftRemovableWord.js","webpack:///./node_modules/fbjs/lib/isTextNode.js","webpack:///./node_modules/draft-js/lib/keyCommandUndo.js","webpack:///./node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","webpack:///./node_modules/draft-js/lib/isEventHandled.js","webpack:///./node_modules/domelementtype/index.js","webpack:///./node_modules/fbjs/lib/containsNode.js","webpack:///./node_modules/draft-js/lib/findRangesImmutable.js","webpack:///./node_modules/draft-js/lib/createCharacterList.js","webpack:///./node_modules/draft-js/lib/DraftEntity.js","webpack:///./node_modules/draft-js/lib/encodeEntityRanges.js","webpack:///./node_modules/draft-js/lib/getOwnObjectValues.js","webpack:///./node_modules/htmlparser2/lib/FeedHandler.js","webpack:///./node_modules/draft-js/lib/randomizeBlockMapKeys.js","webpack:///./node_modules/draft-js/lib/EditorBidiService.js","webpack:///./node_modules/draft-js/lib/getNextDelimiterBlockKey.js","webpack:///./src/containers/DataGrid/index.js","webpack:///./node_modules/htmlparser2/lib/Parser.js","webpack:///./node_modules/draft-js/lib/editOnSelect.js","webpack:///./node_modules/draft-js/lib/DraftEditorTextNode.react.js","webpack:///./node_modules/draft-js/lib/getWindowForNode.js","webpack:///./node_modules/draft-js/lib/SecondaryClipboard.js","webpack:///./node_modules/dom-serializer/node_modules/entities/lib/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.array.flat-map.js","webpack:///./node_modules/draft-js/lib/editOnDragStart.js","webpack:///./node_modules/draft-js/lib/DraftEditorContents-core.react.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/draft-js/lib/editOnCopy.js","webpack:///./node_modules/draft-js/lib/keyCommandDeleteWord.js","webpack:///./node_modules/fbjs/lib/cx.js","webpack:///./node_modules/draft-js/lib/BlockMapBuilder.js","webpack:///./node_modules/draft-js/lib/DraftEditorContentsExperimental.react.js","webpack:///./node_modules/draft-js/lib/isSelectionAtLeafStart.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.array.unscopables.flat-map.js","webpack:///./node_modules/fbjs/lib/URI.js","webpack:///./node_modules/draft-js/lib/insertIntoList.js","webpack:///./node_modules/draft-js/lib/getDraftEditorSelection.js","webpack:///./node_modules/domhandler/lib/element.js","webpack:///./node_modules/draft-js/lib/isHTMLBRElement.js","webpack:///./node_modules/domutils/lib/stringify.js","webpack:///./node_modules/react-html-parser/lib/utils/inlineStyleToObject.js","webpack:///./node_modules/htmlparser2/lib/Tokenizer.js","webpack:///./node_modules/draft-js/lib/decodeEntityRanges.js","webpack:///./node_modules/draftjs-to-html/lib/draftjs-to-html.js","webpack:///./node_modules/fbjs/lib/mapObject.js","webpack:///./node_modules/draft-js/lib/removeEntitiesAtEdges.js","webpack:///./node_modules/draft-js/lib/getCharacterRemovalRange.js","webpack:///./node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/draft-js/lib/editOnDragOver.js","webpack:///./node_modules/draft-js/lib/gkx.js","webpack:///./node_modules/domutils/lib/querying.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.string.trim-start.js","webpack:///./node_modules/html-to-draftjs/dist/html-to-draftjs.js","webpack:///./node_modules/dom-serializer/node_modules/domelementtype/lib/index.js","webpack:///./node_modules/draft-js/lib/DraftStringKey.js","webpack:///./node_modules/draft-js/lib/editOnCut.js","webpack:///./node_modules/fbjs/lib/setImmediate.js","webpack:///./node_modules/react-html-parser/lib/dom/attributes/ReactAttributes.js","webpack:///./node_modules/dom-serializer/node_modules/entities/lib/encode.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/domutils/lib/manipulation.js","webpack:///./node_modules/fbjs/lib/TokenizeUtil.js","webpack:///./node_modules/draft-js/lib/removeRangeFromContentState.js","webpack:///./node_modules/draft-js/lib/getRangesForDraftEntity.js","webpack:///./node_modules/string_decoder/lib/string_decoder.js","webpack:///./node_modules/fbjs/lib/UnicodeBidi.js","webpack:///./node_modules/fbjs/lib/joinClasses.js","webpack:///./node_modules/react-html-parser/lib/index.js","webpack:///./node_modules/node-libs-browser/node_modules/events/events.js","webpack:///./node_modules/draft-js/lib/DraftModifier.js","webpack:///./node_modules/draft-js/lib/AtomicBlockUtils.js","webpack:///./node_modules/react-html-parser/lib/convertNodeToElement.js","webpack:///./node_modules/date-fns/esm/addMilliseconds/index.js","webpack:///./node_modules/date-fns/esm/subMilliseconds/index.js","webpack:///./node_modules/fbjs/lib/nullthrows.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/html.js","webpack:///./node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","webpack:///./node_modules/draft-js/lib/editOnBeforeInput.js","webpack:///./node_modules/htmlparser2/lib/WritableStream.js","webpack:///./node_modules/draft-js/lib/SelectionState.js","webpack:///./node_modules/htmlparser2/lib/index.js","webpack:///./node_modules/draft-js/lib/getEntityKeyForSelection.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/draft-js/lib/getFragmentFromSelection.js","webpack:///./node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","webpack:///./node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","webpack:///./node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","webpack:///./node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","webpack:///./node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","webpack:///./node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","webpack:///./node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","webpack:///./node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","webpack:///./node_modules/date-fns/esm/locale/en-US/index.js","webpack:///./node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","webpack:///./node_modules/react-html-parser/lib/elementTypes/index.js","webpack:///./node_modules/fbjs/lib/getElementRect.js","webpack:///./node_modules/draft-js/lib/applyEntityToContentState.js","webpack:///./node_modules/react-html-parser/lib/elementTypes/StyleElementType.js","webpack:///./node_modules/draft-js/lib/editOnCompositionStart.js","webpack:///./node_modules/fbjs/lib/UnicodeUtils.js","webpack:///./node_modules/draft-js/lib/DraftEditorCompositionHandler.js","webpack:///./node_modules/fbjs/lib/getActiveElement.js","webpack:///./node_modules/draft-js/lib/editOnInput.js","webpack:///./node_modules/draft-js/lib/editOnPaste.js","webpack:///./node_modules/draft-js/lib/isSoftNewlineEvent.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/draft-js/lib/moveSelectionBackward.js","webpack:///./node_modules/draft-js/lib/findAncestorOffsetKey.js","webpack:///./node_modules/draft-js/lib/CharacterMetadata.js","webpack:///./node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","webpack:///./node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","webpack:///./node_modules/draft-js/lib/DraftEffects.js","webpack:///./node_modules/fbjs/lib/UnicodeBidiDirection.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.string.trim-end.js","webpack:///./node_modules/domutils/lib/legacy.js","webpack:///./src/components/Rte/index.js","webpack:///./node_modules/draft-js/lib/keyCommandTransposeCharacters.js","webpack:///./node_modules/fbjs/lib/emptyFunction.js","webpack:///./node_modules/fbjs/lib/getElementPosition.js","webpack:///./node_modules/draft-js/lib/editOnFocus.js","webpack:///./node_modules/fbjs/lib/Scroll.js","webpack:///./node_modules/draft-js/lib/DraftEntityInstance.js","webpack:///./node_modules/draft-js/lib/DraftTreeInvariants.js","webpack:///./node_modules/fbjs/lib/createArrayFromMixed.js","webpack:///./node_modules/react-html-parser/lib/processNodes.js","webpack:///./node_modules/react-html-parser/lib/dom/elements/VoidElements.js","webpack:///./node_modules/draft-js/lib/DefaultDraftBlockRenderMap.js","webpack:///./node_modules/draft-js/lib/generateRandomKey.js","webpack:///./node_modules/fbjs/lib/memoizeStringOnly.js","webpack:///./node_modules/react-html-parser/lib/HtmlParser.js","webpack:///./node_modules/draft-js/lib/KeyBindingUtil.js","webpack:///./node_modules/date-fns/esm/isValid/index.js","webpack:///./node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","webpack:///./node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","webpack:///./node_modules/date-fns/esm/_lib/format/formatters/index.js","webpack:///./node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","webpack:///./node_modules/date-fns/esm/format/index.js","webpack:///./node_modules/fbjs/lib/getViewportDimensions.js","webpack:///./node_modules/date-fns/esm/_lib/assign/index.js","webpack:///./node_modules/date-fns/esm/_lib/setUTCDay/index.js","webpack:///./node_modules/date-fns/esm/parse/_lib/parsers/index.js","webpack:///./node_modules/date-fns/esm/_lib/setUTCWeek/index.js","webpack:///./node_modules/date-fns/esm/_lib/setUTCISOWeek/index.js","webpack:///./node_modules/date-fns/esm/_lib/setUTCISODay/index.js","webpack:///./node_modules/date-fns/esm/parse/index.js","webpack:///./src/components/DateTimePicker/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","webpack:///./node_modules/draft-js/lib/keyCommandPlainDelete.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/draft-js/lib/DraftEditorFlushControlled.js","webpack:///./node_modules/draft-js/lib/convertFromRawToDraftState.js","webpack:///./node_modules/draft-js/lib/keyCommandMoveSelectionToStartOfBlock.js","webpack:///./node_modules/draft-js/lib/Draft.js","webpack:///./node_modules/htmlparser2/lib/ProxyHandler.js","webpack:///./node_modules/draft-js/lib/applyEntityToContentBlock.js","webpack:///./node_modules/draft-js/lib/keyCommandBackspaceWord.js","webpack:///./node_modules/react-html-parser/lib/utils/generatePropsFromAttributes.js","webpack:///./node_modules/draft-js/lib/getSafeBodyFromHTML.js","webpack:///./node_modules/draft-js/lib/DraftEditorNode.react.js","webpack:///./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js","webpack:///./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js","webpack:///./node_modules/draft-js/lib/encodeInlineStyleRanges.js","webpack:///./node_modules/draft-js/lib/getSelectionOffsetKeyForNode.js","webpack:///./node_modules/draft-js/lib/getRangeBoundingClientRect.js","webpack:///./node_modules/react-html-parser/lib/utils/htmlAttributesToReact.js","webpack:///./node_modules/draft-js/lib/getVisibleSelectionRect.js"],"names":["_uppercasePattern","module","exports","string","replace","toLowerCase","toDate","argument","arguments","argStr","Object","prototype","toString","call","Date","getTime","console","warn","Error","stack","NaN","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","ContentBlock","ContentBlockNode","DraftStringKey","encodeEntityRanges","encodeInlineStyleRanges","invariant","createRawBlock","block","entityStorageMap","getKey","text","getText","type","getType","depth","getDepth","inlineStyleRanges","entityRanges","data","getData","toObject","insertRawBlock","entityMap","rawBlocks","blockCacheRef","push","parentKey","getParentKey","rawBlock","target","i","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_objectSpread","children","contentState","rawDraftContentState","blocks","rawState","entityCacheRef","entityStorageKey","getBlockMap","findEntityRanges","character","getEntity","start","entityKey","getEntityAt","stringifiedEntityKey","stringify","encodeRawBlocks","rawEntityMap","index","entity","unstringify","mutability","getMutability","encodeRawEntityMap","getRemovalRange","selectionStart","selectionEnd","entityStart","direction","segments","split","map","segment","ii","segmentEnd","segmentStart","removalStart","removalEnd","jj","entityEnd","atStart","atEnd","end","isHTMLElement","editor","editorNode","editorContainer","firstChild","EditorState","editorState","selection","getSelection","endKey","getEndKey","textLength","getCurrentContent","getBlockForKey","getLength","set","merge","anchorKey","anchorOffset","focusKey","focusOffset","isBackward","forceSelection","BOLD","fontWeight","CODE","fontFamily","wordWrap","ITALIC","fontStyle","STRIKETHROUGH","textDecoration","UNDERLINE","Stream","Parser","options","this","Cbs","scope","readable","EVENTS","name","emit","a","b","CollectingHandler","cbs","_cbs","events","onreset","restart","len","num","default","node","UserAgent","getRangeClientRects","isBrowser","range","tempRange","cloneRange","clientRects","ancestor","endContainer","parentNode","atCommonAncestor","commonAncestorContainer","setStart","startContainer","startOffset","_ref","rects","Array","from","getClientRects","reverse","apply","setEndBefore","requireObjectCoercible","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","String","trim","onBeforeInput","onBlur","onCompositionStart","onCopy","onCut","onDragOver","onDragStart","onFocus","onInput","onKeyDown","onPaste","onSelect","isChrome","isFirefox","selectionHandler","e","DraftEditorEditHandler","onMouseUp","onKeyUp","internalObjectKeys","enumBugKeys","O","_knownListItemDepthCl","CharacterMetadata","DefaultDraftBlockRenderMap","DraftEntity","URI","cx","generateRandomKey","getSafeBodyFromHTML","gkx","_require","List","Map","OrderedSet","isHTMLAnchorElement","isHTMLBRElement","isHTMLImageElement","experimentalTreeDataSupport","REGEX_CR","REGEX_LF","REGEX_LEADING_LF","REGEX_NBSP","REGEX_CARRIAGE","REGEX_ZWS","boldValues","notBoldValues","anchorAttr","imgAttr","knownListItemDepthClasses","HTMLTagToRawInlineStyleMap","code","del","em","s","strike","strong","u","mark","buildBlockTypeMap","blockRenderMap","blockTypeMap","mapKeys","blockType","desc","elements","element","undefined","aliasedElements","detectInlineStyle","style","includes","getListItemDepth","some","depthClass","classList","contains","isValidAnchor","anchorNode","href","protocol","_","isValidImage","imageNode","attributes","getNamedItem","styleFromNodeAttributes","htmlElement","withMutations","indexOf","add","remove","isListNode","nodeName","ContentBlocksBuilder","disambiguate","clear","_proto","characterList","blockConfigs","currentBlockType","currentDepth","currentEntity","currentText","wrapper","contentBlocks","addDOMNode","_this$blockConfigs","_toBlockConfigs","_trimCurrentText","_makeBlockConfig","getContentBlocks","_toContentBlocks","_toFlatContentBlocks","config","parent","prevSibling","nextSibling","childConfigs","nodes","wasCurrentDepth","wasWrapper","childNodes","get","_addImgNode","_addAnchorNode","newStyle","has","inlineStyle","_addBreakNode","_addTextNode","_wasCurrentDepth","_wasWrapper","_appendText","_this$characterList","characterMetadata","create","fill","l","begin","trimLeft","trimRight","findEntry","Math","min","max","slice","textContent","image","entityConfig","attr","imageAttribute","getAttribute","__create","anchor","anchorAttribute","url","child","_hoistContainersInBlockConfigs","_this","flatMap","blockConfig","_this2","_this2$_extractTextFr","_extractTextFromBlockConfigs","last","html","DOMBuilder","safeBody","tag","startOfUTCWeek","dirtyDate","dirtyOptions","locale","localeWeekStartsOn","weekStartsOn","defaultWeekStartsOn","RangeError","date","day","getUTCDay","diff","setUTCDate","getUTCDate","setUTCHours","validateFormat","format","condition","_len","args","_key","error","argIndex","framesToPop","warning","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy","afterRemoval","strategyState","content","getAnchorKey","offset","getAnchorOffset","charBehind","getUTF16Length","isCollapsed","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","token","isProtectedWeekYearToken","throwProtectedError","input","BlockTree","ContentState","EditorBidiService","SelectionState","Immutable","Record","Stack","OrderedMap","EditorStateRecord","allowUndo","currentContent","decorator","directionMap","inCompositionMode","inlineStyleOverride","lastChangeType","nativelyRenderedContent","redoStack","treeMap","undoStack","createEmpty","createWithText","createWithContent","createFromText","count","firstKey","first","recordConfig","generateNewTreeMap","getDirectionMap","fromJS","v","put","getImmutable","state","existingDecorator","newContent","newTreeMap","blockMap","previousTreeMap","toSeq","getDecorations","generate","regenerateTreeForNewDecorator","newBlockMap","newEntityMap","prevBlockMap","regenerateTreeForNewBlocks","getEntityMap","immutable","_immutable","toJS","getAllowUndo","getUndoStack","getRedoStack","getDecorator","isInCompositionMode","mustForceSelection","getNativelyRenderedContent","getLastChangeType","getInlineStyleOverride","setInlineStyleOverride","getCurrentInlineStyle","override","startKey","getStartKey","getStartOffset","startBlock","getInlineStyleAt","lookUpwardForInlineStyle","getInlineStyleForCollapsedSelection","getInlineStyleForNonCollapsedSelection","getBlockTree","blockKey","getIn","isSelectionAtStartOfContent","hasEdgeWithin","isSelectionAtEndOfContent","acceptSelection","updateSelection","getHasFocus","moveSelectionToEnd","lastBlock","getLastBlock","lastKey","moveFocusToEnd","afterSelectionMove","changeType","getSelectionAfter","mustBecomeBoundary","getSelectionBefore","overrideChangeTypes","editorStateChanges","undo","newCurrentContent","peek","shift","redo","toOrderedMap","fromKey","lastNonEmpty","skipUntil","k","skip","classof","isArray","arg","arr","findAncestorOffsetKey","getWindowForNode","nullthrows","DOM_OBSERVER_OPTIONS","subtree","characterData","childList","characterDataOldValue","USE_CHAR_DATA","DOMObserver","container","mutations","containerWindow","MutationObserver","observer","registerMutations","onCharData","Node","registerMutation","observe","addEventListener","stopAndFlushMutations","takeRecords","disconnect","removeEventListener","getMutationTextContent","mutation","removedNodes","offsetKey","fails","whitespaces","METHOD_NAME","DraftOffsetKey","anchorPath","decode","anchorBlockKey","anchorLeafBlockTree","anchorLeaf","decoratorKey","leafKey","focusPath","focusBlockKey","focusLeafBlockTree","focusLeaf","anchorLeafStart","focusLeafStart","anchorBlockOffset","focusBlockOffset","getFocusKey","getFocusOffset","anchorLeafEnd","focusLeafEnd","keySeq","_isNodeScrollable","overflow","Style","getScrollParent","ownerDocument","body","defaultView","parentWindow","_assign","_extends","hasOwnProperty","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","constructor","__proto__","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","flushControlled","DraftEditorPlaceholder","DraftEffects","React","Scroll","getDefaultKeyBinding","getScrollPosition","isIE","allowSpellCheck","handlerMap","edit","composite","drag","cut","render","didInitODS","UpdateDraftEditorFlags","_React$Component","componentDidMount","_update","componentDidUpdate","props","_latestEditorState","_blockSelectEvents","Component","DraftEditor","_React$Component2","scrollPosition","alreadyHasFocus","scrollParent","x","y","focus","window","scrollTo","setTop","update","blur","mode","_this$props","editHandler","handler","_handler","setMode","setState","contentsKey","clipboard","_clipboard","onChange","_dragCount","exitCurrentMode","_editorKey","editorKey","_placeholderAccessibilityID","_latestCommittedEditorState","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","getEditorKey","_proto2","eventName","readOnly","method","_showPlaceholder","placeholder","hasText","_renderPlaceholder","placeHolderProps","textAlignment","accessibilityID","createElement","_renderARIADescribedBy","describedBy","ariaDescribedBy","placeholderID","_this$props2","blockRendererFn","blockStyleFn","customStyleFn","customStyleMap","preventScroll","textDirectionality","rootClass","ariaRole","role","ariaExpanded","editorContentsProps","className","ref","_handleEditorContainerRef","ariaActiveDescendantID","ariaAutoComplete","ariaControls","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","autoCapitalize","autoComplete","autoCorrect","notranslate","contentEditable","webDriverTestID","onCompositionEnd","onDragEnd","onDragEnter","onDragLeave","onDrop","onKeyPress","editorRef","spellCheck","outline","userSelect","WebkitUserSelect","whiteSpace","suppressContentEditableWarning","tabIndex","initODS","execCommand","global","keyBindingFn","stripPastedStyles","isElement","BACKSPACE","TAB","RETURN","ALT","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","DELETE","COMMA","PERIOD","A","Z","ZERO","NUMPAD_0","NUMPAD_9","insertIntoList","Repeat","selectionState","blockText","newBlock","getCharacterList","toList","newOffset","selectionAfter","isWebkit","navigator","userAgent","doc","document","scrollingElement","compatMode","documentElement","CompositeDraftDecorator","decorators","_decorators","decorations","counter","strategy","canOccupySlice","targetArr","componentKey","occupySlice","getComponentForKey","parseInt","component","getPropsForKey","isObject","SPECIES","wellKnownSymbol","originalArray","C","DraftModifier","anchorBlock","anchorBlockSibling","removeRange","findRangesImmutable","EMPTY_SET","ContentBlockRecord","_ContentBlockRecord","EMPTY","decorateCharacterList","getStyle","findStyleRanges","filterFn","callback","haveEqualStyle","haveEqualEntity","charA","charB","object","nodeType","removeSubsets","idx","splice","POSITION","comparePos","compareDocumentPosition","nodeA","nodeB","current","sharedParent","siblings","aSibling","bSibling","aParents","bParents","unshift","uniqueSort","position","sort","relative","toLength","bind","flattenIntoArray","original","sourceLen","mapper","thisArg","targetIndex","sourceIndex","mapFn","TypeError","adjustment","maxDepth","takeUntil","selectionBefore","NodePrototype","nodeTypes","domLvl1","tagName","previousSibling","nodeValue","cdata","comment","shorthand","val","nameCache","VALID_TAG_REGEX","test","KeyBindingUtil","Keys","isOSX","isPlatform","shouldFixFirefoxMovement","hasCommandModifier","isCtrlKeyCommand","shouldRemoveWord","altKey","keyCode","shiftKey","getZCommand","getDeleteCommand","getBackspaceCommand","modifyBlockForContentState","transformBlock","func","blockToSplit","chars","keyBelow","isExperimentalTreeBlock","blockAbove","blockBelow","blocksBefore","blocksAfter","rest","newBlocks","getChildKeys","isEmpty","originalBlock","belowBlock","originalBlockKey","belowBlockKey","parentChildrenList","insertionIndex","newChildrenArray","toArray","getNextSiblingKey","updateBlockMapLinks","__importDefault","mod","__esModule","decodeHTML","decodeHTMLStrict","decodeXML","entities_json_1","legacy_json_1","xml_json_1","decode_codepoint_1","getStrictDecoder","join","getReplacer","re","str","sorter","charAt","secondChar","substr","legacy","j","replacer","DraftEditorNode","getElementPosition","getViewportDimensions","isBlockOnSelectionEdge","getDraftRenderConfig","configForType","wrapperTemplate","Element","getCustomRenderConfig","customRenderer","CustomComponent","customProps","customEditable","editable","getElementPropsConfig","customConfig","elementProps","customClass","DraftEditorBlockNode","createRef","shouldComponentUpdate","nextProps","tree","isContainerNode","blockHasChanged","blockNode","wrapperRef","scrollDelta","nodePosition","height","htmlBlockNode","offsetHeight","offsetTop","getTop","size","reduce","acc","encode","_getDraftRenderConfig","childProps","blockProps","nextSiblingKey","shouldNotAddWrapperElement","wrappedSiblings","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","sibling","err","childrenIs","cloneElement","applyWrapperElementToSiblings","hasSelection","SecondaryClipboard","isEventHandled","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo","isOptionKeyCommand","which","callDeprecatedHandler","handlerName","deprecatedHandler","preventDefault","handleReturn","command","handleKeyCommand","timeStamp","newState","paste","onKeyCommand","replaceText","DraftEditorTextNode","setDraftEditorSelection","DraftEditorLeaf","_setSelection","leaf","targetNode","TEXT_NODE","leafNode","styleSet","endsWith","isLast","styleObj","styleName","mergedStyles","newStyles","UserAgentData","VersionRange","mapObject","memoizeStringOnly","compare","version","query","normalizer","startsWith","normalizePlatformVersion","platformName","browserName","browserFullVersion","isBrowserArchitecture","browserArchitecture","isDevice","deviceName","isEngine","engineName","engineVersion","platformFullVersion","isPlatformArchitecture","platformArchitecture","DomUtils","ext","maxDistance","getKeyAfter","randomizeBlockMapKeys","removeEntitiesAtEdges","endOffset","getEndOffset","blockKeys","startIndex","endIndex","getDocumentScrollElement","getUnboundedScrollPosition","scrollable","documentScrollElement","Window","viewport","xMax","scrollWidth","clientWidth","yMax","scrollHeight","clientHeight","UnicodeBidi","UnicodeBidiDirection","DraftEditorBlock","_node","_renderChildren","lastLeafSet","leafSet","leavesForLeafSet","lastLeaf","leaves","DecoratorComponent","decoratorProps","decoratorOffsetKey","decoratedText","dir","getHTMLDirIfDifferent","getDirection","commonProps","_this3","startOfUTCWeekYear","requiredArgs","localeFirstWeekContainsDate","firstWeekContainsDate","defaultFirstWeekContainsDate","toInteger","year","getUTCWeekYear","firstWeek","setUTCFullYear","getUTCWeek","round","transform","_isValidTagOrAttributeName2","_generatePropsFromAttributes2","attribs","_VoidElements2","_processNodes2","_react2","_interopRequireDefault","logBlockedSelectionEvent","logSelectionStateFailure","ElementType","entities","foreignNames","elementNames","attributeNames","unencodedElements","script","xmp","iframe","noembed","noframes","plaintext","noscript","singleTag","area","base","basefont","br","col","embed","frame","hr","img","isindex","keygen","link","meta","param","track","wbr","dom","opts","cheerio","output","elem","isTag","renderTag","Directive","renderDirective","Comment","renderComment","CDATA","renderCdata","renderText","foreignModeIntegrationPoints","xmlMode","assign","decodeEntities","encodeXML","formatAttrs","notEmptyKey","ELEMENT_NODE","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","len2","encodeChunk","lookup","Uint8Array","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","currentTarget","getRangeAt","TEXT_CLIPPING_REGEX","TEXT_TYPES","files","readCount","results","file","FileReader","_contents","reader","onload","result","onerror","readAsText","readFile","hasFocus","id","getCorrectDocumentFromNode","areRectsOnOneLine","lineHeight","minTop","Infinity","minBottom","maxTop","maxBottom","rect","width","top","bottom","getNodeLength","DOCUMENT_TYPE_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","collapsed","containingElement","computed","getComputedStyle","correctDocument","div","fontSize","documentBody","appendChild","getBoundingClientRect","removeChild","getLineHeightPx","bestContainer","bestOffset","setStartBefore","display","currentContainer","maxIndexToConsider","isSurrogatePair","c","r","random","REGEX_BLOCK_DELIMITER","getNextDelimiterBlockKey","originalBlockToBeMoved","originalTargetBlock","insertionMode","isInsertedAfterTarget","originalTargetKey","originalParentKey","originalNextSiblingKey","originalPrevSiblingKey","getPrevSiblingKey","newParentKey","newNextSiblingKey","newPrevSiblingKey","newParentChildrenList","targetBlockIndex","blockToBeMoved","targetBlock","targetKey","blocksToBeMoved","blockMapWithoutBlocksToBeMoved","nextDelimiterBlockKey","takeWhile","isBlockToBeMoved","hasNextSiblingAndIsNotNextSibling","doesNotHaveNextSiblingAndIsNotDelimiter","slicedBlocks","blockBefore","getBlockBefore","blockAfter","getBlockAfter","UnicodeBidiService","defaultDir","isStrong","getGlobalDir","_defaultDir","reset","_lastDir","DataTransfer","getTextContentFromFiles","getUpdatedSelectionState","endDrag","nativeEvent","dataTransfer","dropSelection","event","eventTargetDocument","caretRangeFromPoint","dropRange","rangeParent","rangeOffset","getSelectionForEvent","getFiles","handleDroppedFiles","fileText","insertTextAtSelection","dragType","_internalDrag","handleDrop","targetSelection","newContentState","moveText","mouseUpEvent","MouseEvent","view","bubbles","cancelable","dispatchEvent","insertText","getSelectionOffsetKeyForNode","getPointForNonTextNode","editorRoot","startNode","childOffset","firstLeaf","getFirstLeaf","nodeBeforeCursor","lastChild","getLastLeaf","getTextContentLength","root","focusNode","anchorIsTextNode","focusIsTextNode","needsRecovery","anchorPoint","focusPoint","dateLongFormatter","pattern","formatLong","timeLongFormatter","time","longFormatters","p","P","dateTimeFormat","matchResult","match","datePattern","timePattern","dateTime","_offsetKey$split$reve","getDateMillisecondsPart","getTimezoneOffsetInMilliseconds","baseTimezoneOffset","ceil","getTimezoneOffset","setSeconds","containsNode","getActiveElement","Boolean","preserveSelectionOnBlur","_selection","rangeCount","removeAllRanges","currentSelection","defaultRecord","SLICE$0","createClass","ctor","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","Set","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","newArr","ensureSize","iter","__iterate","returnTrue","wrapIndex","uint32Index","wholeSlice","resolveBegin","resolveIndex","resolveEnd","defaultIndex","EMPTY_SEQ","EMPTY_REPEAT","EMPTY_RANGE","REAL_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","isArrayLike","emptySequence","seq","maybeIndexedSeqFromValue","ObjectSeq","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","ArraySeq","array","_array","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iteratorCache","isSeq","maybeSeq","seqIterate","fn","useKeys","cache","_cache","maxIndex","entry","__iterateUncached","seqIterator","__iteratorUncached","json","converter","fromJSWith","parentJSON","isPlainObj","fromJSDefault","toMap","is","valueA","valueB","valueOf","equals","deepEqual","__hash","notAssociative","entries","every","flipped","cacheResult","allEqual","bSize","times","_value","Range","step","abs","_start","_end","Collection","KeyedCollection","IndexedCollection","SetCollection","KEYS","VALUES","ENTRIES","inspect","toSource","of","__toString","__iterator","notSetValue","iterations","searchValue","lastIndexOf","this$0","other","possibleIndex","floor","offsetValue","imul","d","smi","i32","hash","o","h","STRING_HASH_CACHE_MIN_STRLEN","stringHashCache","hashString","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","cachedHashString","hashCode","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","uniqueID","getIENodeHash","objHashUID","isExtensible","hashJSObj","WeakMap","assertNotInfinite","emptyMap","isMap","maybeMap","IS_MAP_SENTINEL","_root","updateMap","setIn","keyPath","updateIn","deleteIn","updater","updatedValue","updateInDeepMap","existing","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","forceIterator","__ownerID","__altered","mergeIntoMapWith","mergeWith","merger","iters","mergeIn","m","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","sortFactory","sortBy","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","EMPTY_MAP","MapPrototype","ArrayMapNode","BitmapIndexedNode","bitmap","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","prev","__prev","newRoot","newSize","didChangeSize","didAlter","updateNode","isLeafNode","mergeIntoNode","newNode","idx1","SIZE","idx2","iterables","mergeIntoCollectionWith","nextValue","collection","mergeIntoMap","popCount","canEdit","newArray","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","pop","bit","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","including","expandedNodes","expandNodes","newBitmap","newNodes","newLen","after","spliceOut","spliceIn","newCount","MIN_HASH_ARRAY_MAP_SIZE","excluding","packedII","packedNodes","packNodes","keyMatch","subNode","empty","emptyList","isList","makeList","VNode","list","setSize","maybeList","IS_LIST_SENTINEL","listNodeFor","_origin","setListBounds","newTail","_tail","getTailOffset","_capacity","updateVNode","_level","updateList","insert","values","oldSize","mergeIntoListWith","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","newChild","removingFirst","oldChild","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","EMPTY_ORDERED_MAP","left","right","tailPos","tail","iterateNodeOrLeaf","to","iterateLeaf","iterateNode","origin","capacity","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","cacheResultThrough","mapFactory","context","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","flatten","sum","flattenFactory","flatSequence","stopped","flatDeep","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","reify","validateEntry","resolveSize","iterableClass","defaultValues","hasInitialized","RecordType","names","setProp","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","valueSeq","indexedIterable","recordName","defaultVal","_empty","makeRecord","likeRecord","record","getPrototypeOf","emptySet","isSet","maybeSet","IS_SET_SENTINEL","fromKeys","updateSet","union","intersect","originalSet","subtract","__make","SetPrototype","__empty","makeSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","head","_head","makeStack","pushAll","EMPTY_STACK","StackPrototype","mixin","methods","keyCopier","__toJS","toJSON","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","find","found","findLastEntry","sideEffect","separator","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","not","butLast","countBy","grouper","groups","countByFactory","entriesSequence","entryMapper","filterNot","findLast","coerce","flatMapFactory","searchKey","searchKeyPath","nested","groupBy","isKeyedIter","groupByFactory","hasIn","isSubset","isSuperset","keyMapper","maxBy","neg","defaultNegComparator","minBy","amount","skipLast","skipWhile","take","takeLast","takeSequence","iterating","takeWhileFactory","ordered","keyed","murmurHashOfSize","hashMerge","hashIterable","IterablePrototype","quoteString","chain","noLengthWarning","findKey","findLastKey","keyOf","lastKeyOf","mapEntries","KeyedIterablePrototype","JSON","defaultZipper","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interposedSequence","interposeFactory","interleave","zipped","interleaved","zip","zipWith","factory","getChildren","getParent","getSiblings","getAttributeValue","hasAttrib","getName","MODEL","NAME","VENDOR","VERSION","MOBILE","TABLET","SMARTTV","util","extend","regexes","extensions","mergedRegexes","str1","str2","lowerize","major","rgx","ua","arrays","q","matches","regex","exec","_str","maps","browser","oldsafari","device","amazon","model","sprint","vendor","os","windows","cpu","engine","UAParser","uastring","getResult","rgxmap","getBrowser","getCPU","architecture","getDevice","getEngine","getOS","getUA","setUA","BROWSER","MAJOR","CPU","ARCHITECTURE","DEVICE","CONSOLE","WEARABLE","EMBEDDED","ENGINE","OS","$","jQuery","Zepto","parser","prop","UNKNOWN","PLATFORM_MAP","browserVersionData","minor","getBrowserVersion","uaData","browserMinorVersion","browserVersion","platformVersion","decode_json_1","codePoint","fromCharCode","activeXDocument","anObject","defineProperties","hiddenKeys","documentCreateElement","sharedKey","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","write","close","temp","NullProtoObjectViaActiveX","src","contentWindow","open","F","Properties","getOwnObjectValues","LeafRange","DecoratorRange","leafSets","areEqual","generateLeaves","excluded","sourceKeys","_objectWithoutPropertiesLoose","characters","inlineStyles","BlockMapBuilder","updateExistingBlock","fragmentBlock","targetOffset","mergeBlockData","finalKey","finalOffset","insertFragment","fragment","isTreeBasedBlockMap","newBlockArr","fragmentSize","shouldNotUpdateFromFragmentBlock","headText","headCharacters","appendToHead","updateHead","blockSize","tailText","tailCharacters","prependToTail","updateTail","updatedBlockMap","createFromArray","originalBlockMap","fragmentHeadBlock","blockMapState","headKey","targetNextKey","targetParentKey","fragmentRootBlocks","rootBlock","rootBlocks","lastSiblingKey","getRootBlocks","lastRootFragmentBlockKey","originalTargetParentChildKeys","newChildrenKeysArray","fragmentBlockMap","sanitizeDraftText","ImmutableMap","ContentStateRecord","ContentBlockNodeRecord","_ContentStateRecord","getKeyBefore","getBlocksAsArray","getFirstBlock","getPlainText","delimiter","getLastCreatedEntityKey","__getLastCreatedEntityKey","escape","createEntity","mergeEntityData","toMerge","__mergeData","replaceEntityData","newData","__replaceData","addEntity","instance","__add","__get","getAllEntities","__getAll","loadWithEntities","__loadWithEntities","createFromBlockArray","theBlocks","strings","createContentBlockFromJS","ContentStateInlineStyle","modifyInlineStyle","addOrRemove","sliceStart","sliceEnd","applyStyle","removeStyle","splitBlock","operation","pageXOffset","scrollLeft","pageYOffset","scrollTop","PhotosMimeType","isImage","mimeString","getParts","isJpeg","_hyphenPattern","toUpperCase","re_whitespace","ElementPrototype","DomHandler","elementCB","defaultOpts","_callback","_options","_elementCB","_done","_tagStack","_parser","normalizeWhitespace","withStartIndices","withEndIndices","onparserinit","onend","_handleCallback","onclosetag","_createDomElement","properties","withDomLvl1","_addDomElement","onopentag","Script","Tag","ontext","lastTag","normalize","ignoreWhitespace","Text","oncomment","oncdatastart","oncommentend","oncdataend","onprocessinginstruction","adjustBlockDepthForContentState","RichTextEditorUtil","currentBlockContainsLink","getCurrentBlockType","getDataObjectForLinkURL","uri","eventTimeStamp","toggleInlineStyle","toggleCode","onBackspace","onDelete","insertSoftNewline","newEditorState","withoutAtomicBlock","withoutBlockStyle","tryToRemoveBlockStyle","atomicBlockTarget","onTab","withAdjustment","toggleBlockType","typeToSet","setBlockType","currentStyle","removeInlineStyle","applyInlineStyle","toggleLink","withoutLink","applyEntity","DraftJsDebugLogging","getAnonymizedDOM","getNodeLabels","anonymized","anonymizeTextWithin","labels","createTextNode","clone","cloneNode","setAttribute","outerHTML","getAnonymizedEditorDOM","currentNode","castedNode","hasAttribute","addFocusToSelection","activeElement","anonymizedDom","extraParams","nodeWasFocus","n","activeElementName","nodeIsFocus","selectionRangeCount","selectionAnchorNodeName","selectionAnchorOffset","selectionFocusNodeName","selectionFocusOffset","message","setEnd","addRange","addPointToSelection","createRange","handleExtensionCausedError","nodeStart","nodeEnd","documentObject","getIsBackward","tempKey","tempOffset","hasAnchor","storedFocusNode","storedFocusOffset","DESCRIPTORS","definePropertyModule","objectKeys","f","HTMLElement","superCtor","super_","TempCtor","isListBlock","DraftTreeAdapter","fromRawTreeStateToRawState","draftTreeState","transformedBlocks","_block","traverseInDepthOrder","addDepthToChildren","fromRawStateToRawTreeState","draftState","parentStack","treeBlock","lastParent","newParent","convertFromHTMLToContentBlocks","DraftPasteProcessor","processHTML","processText","textBlocks","textLine","blockNodeConfig","prevSiblingIndex","DraftEditorDecoratedLeaves","componentRegex","orRegex","rangeRegex","modifierRegex","numericRegex","checkOrExpression","expressions","checkSimpleExpression","startVersion","endVersion","isSimpleVersion","checkRangeExpression","versionComponents","_getModifierAndCompon","getModifierAndComponents","modifier","rangeComponents","checkLessThan","compareComponents","checkGreaterThanOrEqual","checkGreaterThan","lowerBound","upperBound","lastIndex","numeric","isNumber","checkApproximateVersion","checkEqual","number","isNaN","isFinite","zeroPad","compareNumeric","aPrefix","bPrefix","aNumeric","bNumeric","_normalizeVersions","normalizeVersions","aNormalized","bNormalized","createArrayFromMixed","emptyFunction","CR_LF_REGEX","RICH_TEXT_TYPES","getFileFromDataTransfer","item","kind","getAsFile","types","isRichText","getHTML","isLink","getLink","items","getCount","mozItemCount","thatReturnsArgument","hasFiles","ranges","styles","cursor","NEWLINE_REGEX","camelize","hyphenate","asString","computedStyle","getPropertyValue","cssFloat","styleFloat","WHITESPACE_AND_PUNCTUATION","getPunctuation","DELETE_REGEX","BACKSPACE_REGEX","getRemovableWord","DraftRemovableWord","getBackward","getForward","isNode","updateFn","undoneState","setTimeout","getUTCFullYear","firstWeekOfNextYear","startOfNextYear","firstWeekOfThisYear","startOfThisYear","Doctype","isTextNode","outerNode","innerNode","haystack","areEqualFn","foundFn","nextIndex","characterArray","DraftEntityInstance","uuid","instances","instanceKey","logWarning","oldMethodCall","newMethodCall","mergeData","replaceData","newInstance","strlen","storageMap","encoded","Number","FeedHandler","init","getElements","what","where","getElementsByTagName","getOneElement","fetch","recurse","addConditionally","isValidFeed","childs","feed","feedRoot","updated","description","pubDate","lastRootBlock","newKeysRef","oldKey","nextKey","prevKey","childrenKeys","childKey","randomizeContentBlockNodeKeys","randomizeContentBlockKeys","bidiService","prevBidiMap","nextBidi","bidiMap","nextNonDescendantBlock","Home","suffix","objectClass","columns","fetchData","useState","activeModel","setActiveModel","formModel","setFormModel","showFormModal","setShowFormModal","stores","setStores","loadData","useCallback","callCloud","action","params","useEffect","dtColumn","property","header","headerText","primary","objectId","onClick","datum","onClose","dtIso","iso","toISOString","parseISO","checked","label","crud","Tokenizer","formTags","option","optgroup","select","button","datalist","textarea","openImpliesClose","tr","th","td","thead","li","h1","h2","h3","h4","h5","h6","voidElements","foreignContextElements","math","svg","htmlIntegrationElements","mi","mo","mn","ms","mtext","foreignObject","title","re_nameEnd","_tagname","_attribname","_attribvalue","_attribs","_foreignContext","_lowerCaseTagNames","lowerCaseTags","_lowerCaseAttributeNames","lowerCaseAttributeNames","_tokenizer","EventEmitter","_updatePosition","initialOffset","_sectionStart","getAbsoluteIndex","onopentagname","el","onopentagend","_closeCurrentTag","pos","onselfclosingtag","recognizeSelfClosing","onattribname","onattribdata","onattribend","onattribute","_getInstructionName","search","ondeclaration","oncdata","recognizeCDATA","parseComplete","chunk","pause","resume","parseChunk","getContentEditableContainer","getDraftEditorSelection","stacktrace","documentSelection","updatedSelectionState","useNewlineChar","_forceFlag","shouldBeNewline","elementNode","isNewline","NEWLINE_A","NEWLINE_B","getContentStateFragment","targetRange","blockEnd","keyAfter","replaceWithFragment","decodeStrict","decode_1","encode_1","encodeHTML","encode_2","decode_2","aFunction","arraySpeciesCreate","proto","callbackfn","joinClasses","getListItemClasses","shouldResetCount","prevEditorState","nextEditorState","nextNativeContent","wasComposing","nowComposing","prevContent","nextContent","prevDecorator","nextDecorator","blocksAsArray","processedBlocks","lastWrapperTemplate","componentProps","_className","outputBlocks","_ii","info","wrapperElement","setImmediate","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","process","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","onreadystatechange","attachEvent","Function","task","clearImmediate","run","getFragmentFromSelection","setClipboard","moveSelectionForward","toRemove","classNames","DraftEditorContentsExperimental","nodeBlock","nextBlockKey","blockTree","isAtStart","leafStart","addToUnscopables","_uri","targetListArg","toInsert","targetList","getOuterHTML","getInnerHTML","_slicedToArray","_arr","_n","_d","_e","_s","_i","sliceIterator","styleObject","stylePropertyValue","_stylePropertyValue$s","_stylePropertyValue$s2","decodeCodePoint","legacyMap","xmlMap","TEXT","BEFORE_TAG_NAME","IN_TAG_NAME","IN_SELF_CLOSING_TAG","BEFORE_CLOSING_TAG_NAME","IN_CLOSING_TAG_NAME","AFTER_CLOSING_TAG_NAME","BEFORE_ATTRIBUTE_NAME","IN_ATTRIBUTE_NAME","AFTER_ATTRIBUTE_NAME","BEFORE_ATTRIBUTE_VALUE","IN_ATTRIBUTE_VALUE_DQ","IN_ATTRIBUTE_VALUE_SQ","IN_ATTRIBUTE_VALUE_NQ","BEFORE_DECLARATION","IN_DECLARATION","IN_PROCESSING_INSTRUCTION","BEFORE_COMMENT","IN_COMMENT","AFTER_COMMENT_1","AFTER_COMMENT_2","BEFORE_CDATA_1","BEFORE_CDATA_2","BEFORE_CDATA_3","BEFORE_CDATA_4","BEFORE_CDATA_5","BEFORE_CDATA_6","IN_CDATA","AFTER_CDATA_1","AFTER_CDATA_2","BEFORE_SPECIAL","BEFORE_SPECIAL_END","BEFORE_SCRIPT_1","BEFORE_SCRIPT_2","BEFORE_SCRIPT_3","BEFORE_SCRIPT_4","BEFORE_SCRIPT_5","AFTER_SCRIPT_1","AFTER_SCRIPT_2","AFTER_SCRIPT_3","AFTER_SCRIPT_4","AFTER_SCRIPT_5","BEFORE_STYLE_1","BEFORE_STYLE_2","BEFORE_STYLE_3","BEFORE_STYLE_4","AFTER_STYLE_1","AFTER_STYLE_2","AFTER_STYLE_3","AFTER_STYLE_4","BEFORE_ENTITY","BEFORE_NUMERIC_ENTITY","IN_NAMED_ENTITY","IN_NUMERIC_ENTITY","IN_HEX_ENTITY","SPECIAL_NONE","SPECIAL_SCRIPT","SPECIAL_STYLE","ifElseState","upper","SUCCESS","FAILURE","lower","_state","_index","consumeSpecialNameChar","NEXT_STATE","_buffer","_bufferOffset","_baseState","_special","_running","_ended","_xmlMode","_decodeEntities","_stateText","_getSection","_stateBeforeTagName","_stateInTagName","_emitToken","_stateBeforeCloseingTagName","_stateInCloseingTagName","_stateAfterCloseingTagName","_stateBeforeAttributeName","_stateInSelfClosingTag","_stateInAttributeName","_stateAfterAttributeName","_stateBeforeAttributeValue","_stateInAttributeValueDoubleQuotes","_stateInAttributeValueSingleQuotes","_stateInAttributeValueNoQuotes","_stateBeforeDeclaration","_stateInDeclaration","_stateInProcessingInstruction","_stateBeforeComment","_stateInComment","_stateAfterComment1","_stateAfterComment2","substring","_stateBeforeCdata1","_stateBeforeCdata2","_stateBeforeCdata3","_stateBeforeCdata4","_stateBeforeCdata5","_stateBeforeCdata6","_stateInCdata","_stateAfterCdata1","_stateAfterCdata2","_stateBeforeSpecial","_stateBeforeSpecialEnd","_stateBeforeScript1","_stateBeforeScript2","_stateBeforeScript3","_stateBeforeScript4","_stateBeforeScript5","_stateAfterScript1","_stateAfterScript2","_stateAfterScript3","_stateAfterScript4","_stateAfterScript5","_stateBeforeStyle1","_stateBeforeStyle2","_stateBeforeStyle3","_stateBeforeStyle4","_stateAfterStyle1","_stateAfterStyle2","_stateAfterStyle3","_stateAfterStyle4","_stateBeforeEntity","_stateBeforeNumericEntity","_parseNamedEntityStrict","_emitPartial","_parseLegacyEntity","limit","_stateInNamedEntity","_decodeNumericEntity","sectionStart","parsed","_stateInNumericEntity","_stateInHexEntity","_cleanup","_parse","_finish","_handleTrailingData","blockTypesMapping","unstyled","blockquote","getBlockTag","getBlockStyle","getStylesAtOffset","COLOR","BGCOLOR","FONTSIZE","FONTFAMILY","SUBSCRIPT","SUPERSCRIPT","sameStyleAsPrevious","sameStyled","getEntityMarkup","customEntityTransform","targetOption","alignment","alt","getInlineStyleSections","styleSections","section","getStyleArrayForBlock","getInlineStyleSectionMarkup","styleSection","styleTagSections","styleSectionText","stylePropertySection","ch","getSectionText","addInlineStyleMarkup","getStyleTagSectionMarkup","styleString","addStylePropertyMarkup","getBlockInnerMarkup","hashtagConfig","blockMarkup","sections","lastOffset","sectionRanges","trigger","hashtag","getHashtagRanges","s1","s2","getSections","sectionText","entityInlineMarkup","getSectionMarkup","replacedText","trimLeadingZeros","trimTrailingZeros","getListMarkup","listBlocks","directional","previousBlock","listHtml","nestedListBlock","nestedBlock","blockStyle","editorContent","blockHtml","isAtomicEntityBlock","blockTag","getBlockMarkup","removeForBlock","charBefore","charAfter","entityBeforeCursor","entityAfterCursor","_getRemovalRange","removalRange","updatedBlocks","updatedStart","endBlock","updatedEnd","DraftEntitySegments","getRangesForDraftEntity","getEntityRemovalRange","isEntireSelectionWithinEntity","isEntityAtStart","sideToConsider","entityRange","startEntityKey","endEntityKey","newSelectionState","startSelectionState","endSelectionState","_startSelectionState","_endSelectionState","decodeMap","__DRAFT_GKX","elems","findOneChild","findOne","existsOne","findAll","$trimStart","FORCED","forcedStringTrimMethod","trimStart","forced","t","inlines","M","E","w","T","L","atomic","ins","sub","sup","S","textAlign","marginLeft","HTMLAnchorElement","dataset","mention","innerHTML","Entity","I","HTMLImageElement","float","HTMLVideoElement","HTMLIFrameElement","color","backgroundColor","g","implementation","createHTMLDocument","genKey","toStringTag","restoreEditorDOM","removeFragment","accept","accesskey","allowfullscreen","allowtransparency","as","async","autocomplete","autoplay","capture","cellpadding","cellspacing","charset","challenge","cite","classid","class","cols","colspan","contenteditable","contextmenu","controls","controlsList","coords","crossorigin","datetime","defer","disabled","download","draggable","enctype","form","formaction","formenctype","formmethod","formnovalidate","formtarget","frameborder","headers","hidden","high","hreflang","for","icon","inputmode","integrity","keyparams","keytype","lang","loop","low","manifest","marginheight","marginwidth","maxlength","media","mediagroup","minlength","multiple","muted","nonce","novalidate","optimum","playsinline","poster","preload","profile","radiogroup","readonly","referrerpolicy","rel","required","rows","rowspan","sandbox","scoped","scrolling","seamless","selected","shape","sizes","slot","span","spellcheck","srcdoc","srclang","srcset","summary","tabindex","usemap","wmode","wrap","about","datatype","inlist","prefix","resource","typeof","vocab","autocapitalize","autocorrect","autosave","itemprop","itemscope","itemtype","itemid","itemref","security","unselectable","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getInverse","inverseHTML","htmlReplacer","inverse","single","_a","reNonASCII","singleCharReplacer","codePointAt","reXmlChars","that","removeElement","replaceElement","replacement","append","currNext","prepend","getAncestorsKeys","parents","getNextValidSibling","nextValidSiblingKey","getPrevValidSibling","prevValidSiblingKey","nextDelimiters","nextDelimiter","getNextDelimitersBlockKeys","delimiterKey","prevSiblingKey","removeFromList","parentAncestors","endBlockchildrenKeys","endBlockAncestors","modifiedStart","Buffer","isEncoding","encoding","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","allocUnsafe","utf8CheckByte","byte","buf","utf8CheckExtraBytes","copy","total","utf8CheckIncomplete","RANGE_BY_BIDI_TYPE","REGEX_STRONG","REGEX_RTL","firstStrongChar","firstStrongCharDir","strongChar","NEUTRAL","RTL","LTR","resolveBlockDir","fallback","blockDir","strongFallback","isDirectionLTR","isDirectionRTL","newClassName","argLength","nextClass","htmlparser2","convertNodeToElement","processNodes","_processNodes","_convertNodeToElement","_htmlparser","_HtmlParser2","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","once","emitter","Promise","resolve","reject","eventListener","errorListener","removeListener","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","newListener","warned","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","doError","er","listeners","addListener","on","prependListener","prependOnceListener","originalListener","spliceOne","off","removeAllListeners","rawListeners","eventNames","applyEntityToContentState","getCharacterRemovalRange","insertFragmentIntoContentState","insertTextIntoContentState","removeRangeFromContentState","splitBlockInContentState","rangeToReplace","withoutEntities","withoutText","movedFragment","rangeToRemove","removalDirection","adjustedRemovalRange","setBlockData","blockData","moveBlockInContentState","AtomicBlockUtils","insertAtomicBlock","afterSplit","insertionTarget","asAtomicBlock","charData","atomicBlockConfig","atomicDividerBlockConfig","fragmentArray","withAtomicBlock","moveAtomicBlock","atomicBlock","withMovedAtomicBlock","selectionAfterRemoval","_targetBlock","selectionAfterSplit","_targetBlock2","_elementTypes2","_elementTypes","addMilliseconds","dirtyAmount","timestamp","subMilliseconds","getBuiltIn","getUTCISOWeekYear","fourthOfJanuaryOfNextYear","fourthOfJanuaryOfThisYear","getEntityKeyForSelection","isSelectionAtLeafStart","_pendingStateFromBeforeInput","handleBeforeInput","mustPreventNative","oldBlockTree","newBlockTree","oldLeafSet","newLeafSet","oldStart","adjustedStart","oldEnd","adjustedEnd","newStart","newEnd","newDecoratorKey","WritableStream","Writable","decoder","_decoder","decodeStrings","_write","cb","_SelectionStateRecord","serialize","offsetToCheck","defineProp","DefaultHandler","parseDOM","parseFeed","createDomStream","elementCb","attribute","cdatastart","cdataend","processinginstruction","commentend","closetag","opentag","opentagname","filterKey","buffer","copyProps","dst","SafeBuffer","encodingOrOffset","alloc","allocUnsafeSlow","SlowBuffer","formatDistanceLocale","lessThanXSeconds","one","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","buildFormatLongFn","defaultWidth","formats","full","long","medium","short","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","buildLocalizeFn","dirtyIndex","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","argumentCallback","buildMatchFn","dirtyString","matchPattern","matchPatterns","defaultMatchWidth","matchedString","parsePatterns","defaultParseWidth","valueCallback","formatDistance","addSuffix","comparison","formatRelative","_date","_baseDate","localize","ordinalNumber","dirtyNumber","_dirtyOptions","rem100","era","narrow","abbreviated","wide","quarter","month","dayPeriod","am","pm","midnight","noon","morning","afternoon","evening","night","parsePattern","parseResult","any","_ElementType$Text$Ele","_TextElementType2","_TagElementType2","_StyleElementType2","_UnsupportedElementType2","docElem","clientLeft","clientTop","applyEntityToContentBlock","SURROGATE_UNITS_REGEX","isCodeUnitInSurrogateRange","codeUnit","hasSurrogateUnit","posA","posB","getCodePoints","codePoints","second","editOnSelect","resolved","stillComposing","domObserver","startDOMObserver","resolveComposition","_editor","composedChars","_DraftOffsetKey$decod","_editorState$getBlock","replacementRange","compositionEndSelectionState","editorStateWithUpdatedSelection","isGecko","domSelection","isNotTextOrElementNode","domText","modelText","preserveEntity","charDelta","contentWithAdjustedDOMSelection","inputType","onInputType","splitTextIntoTextBlocks","clipboardData","defaultFileText","handlePastedFiles","withInsertedText","formatPastedText","_editor$props$formatP","handlePastedText","_html","internalClipboard","getClipboard","areTextBlocksAndClipboardEqual","htmlFragment","htmlMap","textFragment","textMap","getModifierState","read","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","pow","rt","log","LN2","keyBefore","searchNode","_CharacterMetadataRec","hasStyle","withStyle","withoutStyle","withEntity","configMap","pool","newCharacter","startOfUTCISOWeekYear","fourthOfJanuary","startOfUTCISOWeek","getUTCISOWeek","globalDir","getHTMLDir","setGlobalDir","otherDir","initGlobalDir","$trimEnd","trimEnd","testElement","tag_name","tag_type","tag_contains","Checks","getAttribCheck","attrib","combineFuncs","funcs","getElementById","getElementsByTagType","EditorComponent","blocksFromHtml","htmlToDraft","convertHtmltoDraft","setEditorState","draftToHtml","convertToRaw","onEditorStateChange","finalSelection","afterInsert","makeEmptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","getElementRect","_isViewportScrollElement","newTop","getLeft","setLeft","newLeft","_DraftEntityInstanceR","DraftTreeInvariants","isValidBlock","isConnectedTree","eligibleFirstNodes","nodesSeen","currentKey","visitedStack","childKeys","_firstNode","isValidTree","hasArrayNature","callee","_isEmptyTextNode2","transformed","_convertNodeToElement2","article","seenKeys","MULTIPLIER","_ref$decodeEntities","_ref$preprocessNodes","preprocessNodes","_htmlparser2","isSoftNewlineEvent","ctrlKey","usesMacOSHeuristics","metaKey","isValid","addLeadingZeros","targetLength","sign","signedYear","getUTCMonth","dayPeriodEnumValue","getUTCHours","H","getUTCMinutes","getUTCSeconds","numberOfDigits","milliseconds","getUTCMilliseconds","dayPeriodEnum","formatTimezoneShort","dirtyDelimiter","absOffset","hours","minutes","formatTimezoneWithOptionalMinutes","formatTimezone","G","unit","lightFormatters","Y","signedWeekYear","weekYear","Q","week","isoWeek","D","dayOfYear","setUTCMonth","startOfYearTimestamp","difference","getUTCDayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","B","K","X","_localize","timezoneOffset","_originalDate","z","originalDate","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","formatStr","utcDate","formatterOptions","firstCharacter","longFormatter","cleanEscapedString","formatter","useAdditionalWeekYearTokens","useAdditionalDayOfYearTokens","getViewportWidth","getViewportHeight","innerWidth","innerHeight","withoutScrollbars","dirtyObject","setUTCDay","dirtyDay","currentDay","remainder","dayIndex","numericPatterns","timezonePatterns","parseNumericPattern","parseTimezonePattern","parseAnyDigitsSigned","parseNDigits","parseNDigitsSigned","dayPeriodEnumToHours","enumValue","normalizeTwoDigitYear","twoDigitYear","currentYear","isCommonEra","absCurrentYear","rangeEnd","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP_YEAR","isLeapYearIndex","priority","parse","flags","incompatibleTokens","isTwoDigitYear","validate","normalizedTwoDigitYear","_match","_flags","firstWeekOfYear","dirtyWeek","setUTCWeek","dirtyISOWeek","setUTCISOWeek","subPriority","isLeapYear","wholeWeekDays","setUTCISODay","isPM","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","timestampIsSet","_token","notWhitespaceRegExp","dateToSystemTimezone","convertedDate","setFullYear","setHours","DateTimePicker","setDate","setTime","dirtyDateString","dirtyFormatString","dirtyReferenceDate","dateString","formatString","subFnOptions","setters","tokens","usedTokens","incompatibleToken","usedToken","fullToken","uniquePrioritySetters","setter","setterArray","MaskedInput","mask","regexp","fixed","padStart","getDate","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","ArrayBuffer","byteOffset","fromArrayLike","fromArrayBuffer","actual","fromString","isBuffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","_isBuffer","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","out","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","stringtrim","base64clean","charAhead","UNSCOPABLES","ArrayPrototype","unstable_flushControlled","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","decodeBlockNodeConfig","decodeCharacterList","rawEntityRanges","rawInlineStyleRanges","addKeyIfMissing","updateNodeStack","parentRef","nodesWithParentRef","decodeRawBlocks","isTreeRawBlock","contentBlockNode","_children","_contentBlockNode","decodeContentBlockNodes","contentBlock","decodeContentBlocks","rawEntityKey","_rawEntityMap$rawEnti","decodeRawEntityMap","RawDraftContentState","convertFromDraftStateToRaw","convertFromRawToDraftState","getVisibleSelectionRect","DraftPublic","Editor","EditorBlock","CompositeDecorator","EntityInstance","Modifier","RichUtils","convertFromHTML","convertFromRaw","ProxyHandler","startArg","_htmlAttributesToReact2","_inlineStyleToObject2","isOldIE","Leaves","StyledMaskedInput","withConfig","displayName","componentId","plain","theme","edgeSize","large","maskedInput","opacity","StyledMaskedInputContainer","StyledIcon","parseValue","valueParts","valueIndex","maskIndex","matching","part","minLength","_length","_part","_length2","_part2","defaultMask","dropAlign","a11yTitle","focusProp","_ref$mask","valueProp","_formContext$useFormI","FormContext","useFormInput","setValue","_useState","setValueParts","inputRef","dropRef","_useState2","setFocus","_useState3","activeMaskIndex","setActiveMaskIndex","_useState4","activeOptionIndex","setActiveOptionIndex","_useState5","showDrop","setShowDrop","timer","caretIndex","clearTimeout","setInputValue","HTMLInputElement","Event","onChangeInput","onOption","nextValueParts","onNextOption","onPreviousOption","onSelectOption","onEsc","stopPropagation","stopImmediatePropagation","onHideDrop","Keyboard","onLeft","onRight","onUp","onDown","onEnter","Drop","align","responsive","onClickOutside","Box","pad","horizontal","vertical","flex","Button","onMouseOver","active","hoverIndicator","MaskedInputWrapper","isTruthy","EMPTY_ARRAY","styleList","styleToEncode","filteredInlines","getEncodedInlinesForType","childOffsetKey","_rects$","_rects$2","mappedAttributes","lowerCaseAttribute","_ReactAttributes2","_BooleanAttributes2","getParsedAttributeValue","getRangeBoundingClientRect","boundingRect"],"mappings":"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","file":"c14ff0cd048741470f1688111fbae7aeeda33786-757143070de8d42e1106.js","sourcesContent":["\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar _uppercasePattern = /([A-Z])/g;\n/**\n * Hyphenates a camelcased string, for example:\n *\n *   > hyphenate('backgroundColor')\n *   < \"background-color\"\n *\n * For CSS style names, use `hyphenateStyleName` instead which works properly\n * with all vendor prefixes, including `ms`.\n *\n * @param {string} string\n * @return {string}\n */\n\nfunction hyphenate(string) {\n  return string.replace(_uppercasePattern, '-$1').toLowerCase();\n}\n\nmodule.exports = hyphenate;","import requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DraftStringKey = require(\"./DraftStringKey\");\n\nvar encodeEntityRanges = require(\"./encodeEntityRanges\");\n\nvar encodeInlineStyleRanges = require(\"./encodeInlineStyleRanges\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar createRawBlock = function createRawBlock(block, entityStorageMap) {\n  return {\n    key: block.getKey(),\n    text: block.getText(),\n    type: block.getType(),\n    depth: block.getDepth(),\n    inlineStyleRanges: encodeInlineStyleRanges(block),\n    entityRanges: encodeEntityRanges(block, entityStorageMap),\n    data: block.getData().toObject()\n  };\n};\n\nvar insertRawBlock = function insertRawBlock(block, entityMap, rawBlocks, blockCacheRef) {\n  if (block instanceof ContentBlock) {\n    rawBlocks.push(createRawBlock(block, entityMap));\n    return;\n  }\n\n  !(block instanceof ContentBlockNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'block is not a BlockNode') : invariant(false) : void 0;\n  var parentKey = block.getParentKey();\n\n  var rawBlock = blockCacheRef[block.getKey()] = _objectSpread({}, createRawBlock(block, entityMap), {\n    children: []\n  });\n\n  if (parentKey) {\n    blockCacheRef[parentKey].children.push(rawBlock);\n    return;\n  }\n\n  rawBlocks.push(rawBlock);\n};\n\nvar encodeRawBlocks = function encodeRawBlocks(contentState, rawState) {\n  var entityMap = rawState.entityMap;\n  var rawBlocks = [];\n  var blockCacheRef = {};\n  var entityCacheRef = {};\n  var entityStorageKey = 0;\n  contentState.getBlockMap().forEach(function (block) {\n    block.findEntityRanges(function (character) {\n      return character.getEntity() !== null;\n    }, function (start) {\n      var entityKey = block.getEntityAt(start); // Stringify to maintain order of otherwise numeric keys.\n\n      var stringifiedEntityKey = DraftStringKey.stringify(entityKey); // This makes this function resilient to two entities\n      // erroneously having the same key\n\n      if (entityCacheRef[stringifiedEntityKey]) {\n        return;\n      }\n\n      entityCacheRef[stringifiedEntityKey] = entityKey; // we need the `any` casting here since this is a temporary state\n      // where we will later on flip the entity map and populate it with\n      // real entity, at this stage we just need to map back the entity\n      // key used by the BlockNode\n\n      entityMap[stringifiedEntityKey] = \"\".concat(entityStorageKey);\n      entityStorageKey++;\n    });\n    insertRawBlock(block, entityMap, rawBlocks, blockCacheRef);\n  });\n  return {\n    blocks: rawBlocks,\n    entityMap: entityMap\n  };\n}; // Flip storage map so that our storage keys map to global\n// DraftEntity keys.\n\n\nvar encodeRawEntityMap = function encodeRawEntityMap(contentState, rawState) {\n  var blocks = rawState.blocks,\n      entityMap = rawState.entityMap;\n  var rawEntityMap = {};\n  Object.keys(entityMap).forEach(function (key, index) {\n    var entity = contentState.getEntity(DraftStringKey.unstringify(key));\n    rawEntityMap[index] = {\n      type: entity.getType(),\n      mutability: entity.getMutability(),\n      data: entity.getData()\n    };\n  });\n  return {\n    blocks: blocks,\n    entityMap: rawEntityMap\n  };\n};\n\nvar convertFromDraftStateToRaw = function convertFromDraftStateToRaw(contentState) {\n  var rawDraftContentState = {\n    entityMap: {},\n    blocks: []\n  }; // add blocks\n\n  rawDraftContentState = encodeRawBlocks(contentState, rawDraftContentState); // add entities\n\n  rawDraftContentState = encodeRawEntityMap(contentState, rawDraftContentState);\n  return rawDraftContentState;\n};\n\nmodule.exports = convertFromDraftStateToRaw;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Identify the range to delete from a segmented entity.\n *\n * Rules:\n *\n *  Example: 'John F. Kennedy'\n *\n *   - Deletion from within any non-whitespace (i.e. ['John', 'F.', 'Kennedy'])\n *     will return the range of that text.\n *\n *       'John F. Kennedy' -> 'John F.'\n *                  ^\n *\n *   - Forward deletion of whitespace will remove the following section:\n *\n *       'John F. Kennedy' -> 'John Kennedy'\n *            ^\n *\n *   - Backward deletion of whitespace will remove the previous section:\n *\n *       'John F. Kennedy' -> 'F. Kennedy'\n *            ^\n */\n\nvar DraftEntitySegments = {\n  getRemovalRange: function getRemovalRange(selectionStart, selectionEnd, text, entityStart, direction) {\n    var segments = text.split(' ');\n    segments = segments.map(function (\n    /*string*/\n    segment,\n    /*number*/\n    ii) {\n      if (direction === 'forward') {\n        if (ii > 0) {\n          return ' ' + segment;\n        }\n      } else if (ii < segments.length - 1) {\n        return segment + ' ';\n      }\n\n      return segment;\n    });\n    var segmentStart = entityStart;\n    var segmentEnd;\n    var segment;\n    var removalStart = null;\n    var removalEnd = null;\n\n    for (var jj = 0; jj < segments.length; jj++) {\n      segment = segments[jj];\n      segmentEnd = segmentStart + segment.length; // Our selection overlaps this segment.\n\n      if (selectionStart < segmentEnd && segmentStart < selectionEnd) {\n        if (removalStart !== null) {\n          removalEnd = segmentEnd;\n        } else {\n          removalStart = segmentStart;\n          removalEnd = segmentEnd;\n        }\n      } else if (removalStart !== null) {\n        break;\n      }\n\n      segmentStart = segmentEnd;\n    }\n\n    var entityEnd = entityStart + text.length;\n    var atStart = removalStart === entityStart;\n    var atEnd = removalEnd === entityEnd;\n\n    if (!atStart && atEnd || atStart && !atEnd) {\n      if (direction === 'forward') {\n        if (removalEnd !== entityEnd) {\n          removalEnd++;\n        }\n      } else if (removalStart !== entityStart) {\n        removalStart--;\n      }\n    }\n\n    return {\n      start: removalStart,\n      end: removalEnd\n    };\n  }\n};\nmodule.exports = DraftEntitySegments;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nfunction getContentEditableContainer(editor) {\n  var editorNode = editor.editorContainer;\n  !editorNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !isHTMLElement(editorNode.firstChild) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var htmlElement = editorNode.firstChild;\n  return htmlElement;\n}\n\nmodule.exports = getContentEditableContainer;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n/**\n * See comment for `moveSelectionToStartOfBlock`.\n */\n\n\nfunction keyCommandMoveSelectionToEndOfBlock(editorState) {\n  var selection = editorState.getSelection();\n  var endKey = selection.getEndKey();\n  var content = editorState.getCurrentContent();\n  var textLength = content.getBlockForKey(endKey).getLength();\n  return EditorState.set(editorState, {\n    selection: selection.merge({\n      anchorKey: endKey,\n      anchorOffset: textLength,\n      focusKey: endKey,\n      focusOffset: textLength,\n      isBackward: false\n    }),\n    forceSelection: true\n  });\n}\n\nmodule.exports = keyCommandMoveSelectionToEndOfBlock;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nmodule.exports = {\n  BOLD: {\n    fontWeight: 'bold'\n  },\n  CODE: {\n    fontFamily: 'monospace',\n    wordWrap: 'break-word'\n  },\n  ITALIC: {\n    fontStyle: 'italic'\n  },\n  STRIKETHROUGH: {\n    textDecoration: 'line-through'\n  },\n  UNDERLINE: {\n    textDecoration: 'underline'\n  }\n};","module.exports = Stream;\n\nvar Parser = require(\"./WritableStream.js\");\n\nfunction Stream(options) {\n  Parser.call(this, new Cbs(this), options);\n}\n\nrequire(\"inherits\")(Stream, Parser);\n\nStream.prototype.readable = true;\n\nfunction Cbs(scope) {\n  this.scope = scope;\n}\n\nvar EVENTS = require(\"../\").EVENTS;\n\nObject.keys(EVENTS).forEach(function (name) {\n  if (EVENTS[name] === 0) {\n    Cbs.prototype[\"on\" + name] = function () {\n      this.scope.emit(name);\n    };\n  } else if (EVENTS[name] === 1) {\n    Cbs.prototype[\"on\" + name] = function (a) {\n      this.scope.emit(name, a);\n    };\n  } else if (EVENTS[name] === 2) {\n    Cbs.prototype[\"on\" + name] = function (a, b) {\n      this.scope.emit(name, a, b);\n    };\n  } else {\n    throw Error(\"wrong number of arguments!\");\n  }\n});","module.exports = CollectingHandler;\n\nfunction CollectingHandler(cbs) {\n  this._cbs = cbs || {};\n  this.events = [];\n}\n\nvar EVENTS = require(\"./\").EVENTS;\n\nObject.keys(EVENTS).forEach(function (name) {\n  if (EVENTS[name] === 0) {\n    name = \"on\" + name;\n\n    CollectingHandler.prototype[name] = function () {\n      this.events.push([name]);\n      if (this._cbs[name]) this._cbs[name]();\n    };\n  } else if (EVENTS[name] === 1) {\n    name = \"on\" + name;\n\n    CollectingHandler.prototype[name] = function (a) {\n      this.events.push([name, a]);\n      if (this._cbs[name]) this._cbs[name](a);\n    };\n  } else if (EVENTS[name] === 2) {\n    name = \"on\" + name;\n\n    CollectingHandler.prototype[name] = function (a, b) {\n      this.events.push([name, a, b]);\n      if (this._cbs[name]) this._cbs[name](a, b);\n    };\n  } else {\n    throw Error(\"wrong number of arguments\");\n  }\n});\n\nCollectingHandler.prototype.onreset = function () {\n  this.events = [];\n  if (this._cbs.onreset) this._cbs.onreset();\n};\n\nCollectingHandler.prototype.restart = function () {\n  if (this._cbs.onreset) this._cbs.onreset();\n\n  for (var i = 0, len = this.events.length; i < len; i++) {\n    if (this._cbs[this.events[i][0]]) {\n      var num = this.events[i].length;\n\n      if (num === 1) {\n        this._cbs[this.events[i][0]]();\n      } else if (num === 2) {\n        this._cbs[this.events[i][0]](this.events[i][1]);\n      } else {\n        this._cbs[this.events[i][0]](this.events[i][1], this.events[i][2]);\n      }\n    }\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TextElementType;\n/**\n * Converts a text node to a React text element\n *\n * @param {Object} node The text node\n * @returns {String} The text\n */\n\nfunction TextElementType(node) {\n  // React will accept plain text for rendering so just return the node data\n  return node.data;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isChrome = UserAgent.isBrowser('Chrome'); // In Chrome, the client rects will include the entire bounds of all nodes that\n// begin (have a start tag) within the selection, even if the selection does\n// not overlap the entire node. To resolve this, we split the range at each\n// start tag and join the client rects together.\n// https://code.google.com/p/chromium/issues/detail?id=324437\n\n/* eslint-disable consistent-return */\n\nfunction getRangeClientRectsChrome(range) {\n  var tempRange = range.cloneRange();\n  var clientRects = [];\n\n  for (var ancestor = range.endContainer; ancestor != null; ancestor = ancestor.parentNode) {\n    // If we've climbed up to the common ancestor, we can now use the\n    // original start point and stop climbing the tree.\n    var atCommonAncestor = ancestor === range.commonAncestorContainer;\n\n    if (atCommonAncestor) {\n      tempRange.setStart(range.startContainer, range.startOffset);\n    } else {\n      tempRange.setStart(tempRange.endContainer, 0);\n    }\n\n    var rects = Array.from(tempRange.getClientRects());\n    clientRects.push(rects);\n\n    if (atCommonAncestor) {\n      var _ref;\n\n      clientRects.reverse();\n      return (_ref = []).concat.apply(_ref, clientRects);\n    }\n\n    tempRange.setEndBefore(ancestor);\n  }\n\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Found an unexpected detached subtree when getting range client rects.') : invariant(false) : void 0;\n}\n/* eslint-enable consistent-return */\n\n/**\n * Like range.getClientRects() but normalizes for browser bugs.\n */\n\n\nvar getRangeClientRects = isChrome ? getRangeClientRectsChrome : function (range) {\n  return Array.from(range.getClientRects());\n};\nmodule.exports = getRangeClientRects;","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar onBeforeInput = require(\"./editOnBeforeInput\");\n\nvar onBlur = require(\"./editOnBlur\");\n\nvar onCompositionStart = require(\"./editOnCompositionStart\");\n\nvar onCopy = require(\"./editOnCopy\");\n\nvar onCut = require(\"./editOnCut\");\n\nvar onDragOver = require(\"./editOnDragOver\");\n\nvar onDragStart = require(\"./editOnDragStart\");\n\nvar onFocus = require(\"./editOnFocus\");\n\nvar onInput = require(\"./editOnInput\");\n\nvar onKeyDown = require(\"./editOnKeyDown\");\n\nvar onPaste = require(\"./editOnPaste\");\n\nvar onSelect = require(\"./editOnSelect\");\n\nvar isChrome = UserAgent.isBrowser('Chrome');\nvar isFirefox = UserAgent.isBrowser('Firefox');\nvar selectionHandler = isChrome || isFirefox ? onSelect : function (e) {};\nvar DraftEditorEditHandler = {\n  onBeforeInput: onBeforeInput,\n  onBlur: onBlur,\n  onCompositionStart: onCompositionStart,\n  onCopy: onCopy,\n  onCut: onCut,\n  onDragOver: onDragOver,\n  onDragStart: onDragStart,\n  onFocus: onFocus,\n  onInput: onInput,\n  onKeyDown: onKeyDown,\n  onPaste: onPaste,\n  onSelect: onSelect,\n  // In certain cases, contenteditable on chrome does not fire the onSelect\n  // event, causing problems with cursor positioning. Therefore, the selection\n  // state update handler is added to more events to ensure that the selection\n  // state is always synced with the actual cursor positions.\n  onMouseUp: selectionHandler,\n  onKeyUp: selectionHandler\n};\nmodule.exports = DraftEditorEditHandler;","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nrequire(\"core-js/modules/es.array.flat-map\");\n\nrequire(\"core-js/modules/es.array.unscopables.flat-map\");\n\nrequire(\"core-js/modules/es.string.trim-end\");\n\nrequire(\"core-js/modules/es.string.trim-start\");\n\nvar _knownListItemDepthCl;\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar URI = require(\"fbjs/lib/URI\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getSafeBodyFromHTML = require(\"./getSafeBodyFromHTML\");\n\nvar gkx = require(\"./gkx\");\n\nvar _require = require(\"immutable\"),\n    List = _require.List,\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet;\n\nvar isHTMLAnchorElement = require(\"./isHTMLAnchorElement\");\n\nvar isHTMLBRElement = require(\"./isHTMLBRElement\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar isHTMLImageElement = require(\"./isHTMLImageElement\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar NBSP = '&nbsp;';\nvar SPACE = ' '; // used for replacing characters in HTML\n\nvar REGEX_CR = new RegExp('\\r', 'g');\nvar REGEX_LF = new RegExp('\\n', 'g');\nvar REGEX_LEADING_LF = new RegExp('^\\n', 'g');\nvar REGEX_NBSP = new RegExp(NBSP, 'g');\nvar REGEX_CARRIAGE = new RegExp('&#13;?', 'g');\nvar REGEX_ZWS = new RegExp('&#8203;?', 'g'); // https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight\n\nvar boldValues = ['bold', 'bolder', '500', '600', '700', '800', '900'];\nvar notBoldValues = ['light', 'lighter', 'normal', '100', '200', '300', '400'];\nvar anchorAttr = ['className', 'href', 'rel', 'target', 'title'];\nvar imgAttr = ['alt', 'className', 'height', 'src', 'width'];\nvar knownListItemDepthClasses = (_knownListItemDepthCl = {}, _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth0'), 0), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth1'), 1), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth2'), 2), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth3'), 3), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth4'), 4), _knownListItemDepthCl);\nvar HTMLTagToRawInlineStyleMap = Map({\n  b: 'BOLD',\n  code: 'CODE',\n  del: 'STRIKETHROUGH',\n  em: 'ITALIC',\n  i: 'ITALIC',\n  s: 'STRIKETHROUGH',\n  strike: 'STRIKETHROUGH',\n  strong: 'BOLD',\n  u: 'UNDERLINE',\n  mark: 'HIGHLIGHT'\n});\n/**\n * Build a mapping from HTML tags to draftjs block types\n * out of a BlockRenderMap.\n *\n * The BlockTypeMap for the default BlockRenderMap looks like this:\n *   Map({\n *     h1: 'header-one',\n *     h2: 'header-two',\n *     h3: 'header-three',\n *     h4: 'header-four',\n *     h5: 'header-five',\n *     h6: 'header-six',\n *     blockquote: 'blockquote',\n *     figure: 'atomic',\n *     pre: ['code-block'],\n *     div: 'unstyled',\n *     p: 'unstyled',\n *     li: ['ordered-list-item', 'unordered-list-item'],\n *   })\n */\n\nvar buildBlockTypeMap = function buildBlockTypeMap(blockRenderMap) {\n  var blockTypeMap = {};\n  blockRenderMap.mapKeys(function (blockType, desc) {\n    var elements = [desc.element];\n\n    if (desc.aliasedElements !== undefined) {\n      elements.push.apply(elements, desc.aliasedElements);\n    }\n\n    elements.forEach(function (element) {\n      if (blockTypeMap[element] === undefined) {\n        blockTypeMap[element] = blockType;\n      } else if (typeof blockTypeMap[element] === 'string') {\n        blockTypeMap[element] = [blockTypeMap[element], blockType];\n      } else {\n        blockTypeMap[element].push(blockType);\n      }\n    });\n  });\n  return Map(blockTypeMap);\n};\n\nvar detectInlineStyle = function detectInlineStyle(node) {\n  if (isHTMLElement(node)) {\n    var element = node; // Currently only used to detect preformatted inline code\n\n    if (element.style.fontFamily.includes('monospace')) {\n      return 'CODE';\n    }\n  }\n\n  return null;\n};\n/**\n * If we're pasting from one DraftEditor to another we can check to see if\n * existing list item depth classes are being used and preserve this style\n */\n\n\nvar getListItemDepth = function getListItemDepth(node) {\n  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  Object.keys(knownListItemDepthClasses).some(function (depthClass) {\n    if (node.classList.contains(depthClass)) {\n      depth = knownListItemDepthClasses[depthClass];\n    }\n  });\n  return depth;\n};\n/**\n * Return true if the provided HTML Element can be used to build a\n * Draftjs-compatible link.\n */\n\n\nvar isValidAnchor = function isValidAnchor(node) {\n  if (!isHTMLAnchorElement(node)) {\n    return false;\n  }\n\n  var anchorNode = node;\n\n  if (!anchorNode.href || anchorNode.protocol !== 'http:' && anchorNode.protocol !== 'https:' && anchorNode.protocol !== 'mailto:' && anchorNode.protocol !== 'tel:') {\n    return false;\n  }\n\n  try {\n    // Just checking whether we can actually create a URI\n    var _ = new URI(anchorNode.href);\n\n    return true; // We need our catch statements to have arguments, else\n    // UglifyJS (which we use for our OSS builds) will crash.\n    // eslint-disable-next-line fb-www/no-unused-catch-bindings\n  } catch (_) {\n    return false;\n  }\n};\n/**\n * Return true if the provided HTML Element can be used to build a\n * Draftjs-compatible image.\n */\n\n\nvar isValidImage = function isValidImage(node) {\n  if (!isHTMLImageElement(node)) {\n    return false;\n  }\n\n  var imageNode = node;\n  return !!(imageNode.attributes.getNamedItem('src') && imageNode.attributes.getNamedItem('src').value);\n};\n/**\n * Try to guess the inline style of an HTML element based on its css\n * styles (font-weight, font-style and text-decoration).\n */\n\n\nvar styleFromNodeAttributes = function styleFromNodeAttributes(node, style) {\n  if (!isHTMLElement(node)) {\n    return style;\n  }\n\n  var htmlElement = node;\n  var fontWeight = htmlElement.style.fontWeight;\n  var fontStyle = htmlElement.style.fontStyle;\n  var textDecoration = htmlElement.style.textDecoration;\n  return style.withMutations(function (style) {\n    if (boldValues.indexOf(fontWeight) >= 0) {\n      style.add('BOLD');\n    } else if (notBoldValues.indexOf(fontWeight) >= 0) {\n      style.remove('BOLD');\n    }\n\n    if (fontStyle === 'italic') {\n      style.add('ITALIC');\n    } else if (fontStyle === 'normal') {\n      style.remove('ITALIC');\n    }\n\n    if (textDecoration === 'underline') {\n      style.add('UNDERLINE');\n    }\n\n    if (textDecoration === 'line-through') {\n      style.add('STRIKETHROUGH');\n    }\n\n    if (textDecoration === 'none') {\n      style.remove('UNDERLINE');\n      style.remove('STRIKETHROUGH');\n    }\n  });\n};\n/**\n * Determine if a nodeName is a list type, 'ul' or 'ol'\n */\n\n\nvar isListNode = function isListNode(nodeName) {\n  return nodeName === 'ul' || nodeName === 'ol';\n};\n/**\n *  ContentBlockConfig is a mutable data structure that holds all\n *  the information required to build a ContentBlock and an array of\n *  all the child nodes (childConfigs).\n *  It is being used a temporary data structure by the\n *  ContentBlocksBuilder class.\n */\n\n/**\n * ContentBlocksBuilder builds a list of ContentBlocks and an Entity Map\n * out of one (or several) HTMLElement(s).\n *\n * The algorithm has two passes: first it builds a tree of ContentBlockConfigs\n * by walking through the HTML nodes and their children, then it walks the\n * ContentBlockConfigs tree to compute parents/siblings and create\n * the actual ContentBlocks.\n *\n * Typical usage is:\n *     new ContentBlocksBuilder()\n *        .addDOMNode(someHTMLNode)\n *        .addDOMNode(someOtherHTMLNode)\n *       .getContentBlocks();\n *\n */\n\n\nvar ContentBlocksBuilder = /*#__PURE__*/function () {\n  // Most of the method in the class depend on the state of the content builder\n  // (i.e. currentBlockType, currentDepth, currentEntity etc.). Though it may\n  // be confusing at first, it made the code simpler than the alternative which\n  // is to pass those values around in every call.\n  // The following attributes are used to accumulate text and styles\n  // as we are walking the HTML node tree.\n  // Describes the future ContentState as a tree of content blocks\n  // The content blocks generated from the blockConfigs\n  // Entity map use to store links and images found in the HTML nodes\n  // Map HTML tags to draftjs block types and disambiguation function\n  function ContentBlocksBuilder(blockTypeMap, disambiguate) {\n    _defineProperty(this, \"characterList\", List());\n\n    _defineProperty(this, \"currentBlockType\", 'unstyled');\n\n    _defineProperty(this, \"currentDepth\", 0);\n\n    _defineProperty(this, \"currentEntity\", null);\n\n    _defineProperty(this, \"currentText\", '');\n\n    _defineProperty(this, \"wrapper\", null);\n\n    _defineProperty(this, \"blockConfigs\", []);\n\n    _defineProperty(this, \"contentBlocks\", []);\n\n    _defineProperty(this, \"entityMap\", DraftEntity);\n\n    _defineProperty(this, \"blockTypeMap\", void 0);\n\n    _defineProperty(this, \"disambiguate\", void 0);\n\n    this.clear();\n    this.blockTypeMap = blockTypeMap;\n    this.disambiguate = disambiguate;\n  }\n  /**\n   * Clear the internal state of the ContentBlocksBuilder\n   */\n\n\n  var _proto = ContentBlocksBuilder.prototype;\n\n  _proto.clear = function clear() {\n    this.characterList = List();\n    this.blockConfigs = [];\n    this.currentBlockType = 'unstyled';\n    this.currentDepth = 0;\n    this.currentEntity = null;\n    this.currentText = '';\n    this.entityMap = DraftEntity;\n    this.wrapper = null;\n    this.contentBlocks = [];\n  }\n  /**\n   * Add an HTMLElement to the ContentBlocksBuilder\n   */\n  ;\n\n  _proto.addDOMNode = function addDOMNode(node) {\n    var _this$blockConfigs;\n\n    this.contentBlocks = [];\n    this.currentDepth = 0; // Converts the HTML node to block config\n\n    (_this$blockConfigs = this.blockConfigs).push.apply(_this$blockConfigs, this._toBlockConfigs([node], OrderedSet())); // There might be some left over text in the builder's\n    // internal state, if so make a ContentBlock out of it.\n\n\n    this._trimCurrentText();\n\n    if (this.currentText !== '') {\n      this.blockConfigs.push(this._makeBlockConfig());\n    } // for chaining\n\n\n    return this;\n  }\n  /**\n   * Return the ContentBlocks and the EntityMap that corresponds\n   * to the previously added HTML nodes.\n   */\n  ;\n\n  _proto.getContentBlocks = function getContentBlocks() {\n    if (this.contentBlocks.length === 0) {\n      if (experimentalTreeDataSupport) {\n        this._toContentBlocks(this.blockConfigs);\n      } else {\n        this._toFlatContentBlocks(this.blockConfigs);\n      }\n    }\n\n    return {\n      contentBlocks: this.contentBlocks,\n      entityMap: this.entityMap\n    };\n  } // ***********************************WARNING******************************\n  // The methods below this line are private - don't call them directly.\n\n  /**\n   * Generate a new ContentBlockConfig out of the current internal state\n   * of the builder, then clears the internal state.\n   */\n  ;\n\n  _proto._makeBlockConfig = function _makeBlockConfig() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var key = config.key || generateRandomKey();\n\n    var block = _objectSpread({\n      key: key,\n      type: this.currentBlockType,\n      text: this.currentText,\n      characterList: this.characterList,\n      depth: this.currentDepth,\n      parent: null,\n      children: List(),\n      prevSibling: null,\n      nextSibling: null,\n      childConfigs: []\n    }, config);\n\n    this.characterList = List();\n    this.currentBlockType = 'unstyled';\n    this.currentText = '';\n    return block;\n  }\n  /**\n   * Converts an array of HTML elements to a multi-root tree of content\n   * block configs. Some text content may be left in the builders internal\n   * state to enable chaining sucessive calls.\n   */\n  ;\n\n  _proto._toBlockConfigs = function _toBlockConfigs(nodes, style) {\n    var blockConfigs = [];\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var nodeName = node.nodeName.toLowerCase();\n\n      if (nodeName === 'body' || isListNode(nodeName)) {\n        // body, ol and ul are 'block' type nodes so create a block config\n        // with the text accumulated so far (if any)\n        this._trimCurrentText();\n\n        if (this.currentText !== '') {\n          blockConfigs.push(this._makeBlockConfig());\n        } // body, ol and ul nodes are ignored, but their children are inlined in\n        // the parent block config.\n\n\n        var wasCurrentDepth = this.currentDepth;\n        var wasWrapper = this.wrapper;\n\n        if (isListNode(nodeName)) {\n          this.wrapper = nodeName;\n\n          if (isListNode(wasWrapper)) {\n            this.currentDepth++;\n          }\n        }\n\n        blockConfigs.push.apply(blockConfigs, this._toBlockConfigs(Array.from(node.childNodes), style));\n        this.currentDepth = wasCurrentDepth;\n        this.wrapper = wasWrapper;\n        continue;\n      }\n\n      var blockType = this.blockTypeMap.get(nodeName);\n\n      if (blockType !== undefined) {\n        // 'block' type node means we need to create a block config\n        // with the text accumulated so far (if any)\n        this._trimCurrentText();\n\n        if (this.currentText !== '') {\n          blockConfigs.push(this._makeBlockConfig());\n        }\n\n        var _wasCurrentDepth = this.currentDepth;\n        var _wasWrapper = this.wrapper;\n        this.wrapper = nodeName === 'pre' ? 'pre' : this.wrapper;\n\n        if (typeof blockType !== 'string') {\n          blockType = this.disambiguate(nodeName, this.wrapper) || blockType[0] || 'unstyled';\n        }\n\n        if (!experimentalTreeDataSupport && isHTMLElement(node) && (blockType === 'unordered-list-item' || blockType === 'ordered-list-item')) {\n          var htmlElement = node;\n          this.currentDepth = getListItemDepth(htmlElement, this.currentDepth);\n        }\n\n        var key = generateRandomKey();\n\n        var childConfigs = this._toBlockConfigs(Array.from(node.childNodes), style);\n\n        this._trimCurrentText();\n\n        blockConfigs.push(this._makeBlockConfig({\n          key: key,\n          childConfigs: childConfigs,\n          type: blockType\n        }));\n        this.currentDepth = _wasCurrentDepth;\n        this.wrapper = _wasWrapper;\n        continue;\n      }\n\n      if (nodeName === '#text') {\n        this._addTextNode(node, style);\n\n        continue;\n      }\n\n      if (nodeName === 'br') {\n        this._addBreakNode(node, style);\n\n        continue;\n      }\n\n      if (isValidImage(node)) {\n        this._addImgNode(node, style);\n\n        continue;\n      }\n\n      if (isValidAnchor(node)) {\n        this._addAnchorNode(node, blockConfigs, style);\n\n        continue;\n      }\n\n      var newStyle = style;\n\n      if (HTMLTagToRawInlineStyleMap.has(nodeName)) {\n        newStyle = newStyle.add(HTMLTagToRawInlineStyleMap.get(nodeName));\n      }\n\n      newStyle = styleFromNodeAttributes(node, newStyle);\n      var inlineStyle = detectInlineStyle(node);\n\n      if (inlineStyle != null) {\n        newStyle = newStyle.add(inlineStyle);\n      }\n\n      blockConfigs.push.apply(blockConfigs, this._toBlockConfigs(Array.from(node.childNodes), newStyle));\n    }\n\n    return blockConfigs;\n  }\n  /**\n   * Append a string of text to the internal buffer.\n   */\n  ;\n\n  _proto._appendText = function _appendText(text, style) {\n    var _this$characterList;\n\n    this.currentText += text;\n    var characterMetadata = CharacterMetadata.create({\n      style: style,\n      entity: this.currentEntity\n    });\n    this.characterList = (_this$characterList = this.characterList).push.apply(_this$characterList, Array(text.length).fill(characterMetadata));\n  }\n  /**\n   * Trim the text in the internal buffer.\n   */\n  ;\n\n  _proto._trimCurrentText = function _trimCurrentText() {\n    var l = this.currentText.length;\n    var begin = l - this.currentText.trimLeft().length;\n    var end = this.currentText.trimRight().length; // We should not trim whitespaces for which an entity is defined.\n\n    var entity = this.characterList.findEntry(function (characterMetadata) {\n      return characterMetadata.getEntity() !== null;\n    });\n    begin = entity !== undefined ? Math.min(begin, entity[0]) : begin;\n    entity = this.characterList.reverse().findEntry(function (characterMetadata) {\n      return characterMetadata.getEntity() !== null;\n    });\n    end = entity !== undefined ? Math.max(end, l - entity[0]) : end;\n\n    if (begin > end) {\n      this.currentText = '';\n      this.characterList = List();\n    } else {\n      this.currentText = this.currentText.slice(begin, end);\n      this.characterList = this.characterList.slice(begin, end);\n    }\n  }\n  /**\n   * Add the content of an HTML text node to the internal state\n   */\n  ;\n\n  _proto._addTextNode = function _addTextNode(node, style) {\n    var text = node.textContent;\n    var trimmedText = text.trim(); // If we are not in a pre block and the trimmed content is empty,\n    // normalize to a single space.\n\n    if (trimmedText === '' && this.wrapper !== 'pre') {\n      text = ' ';\n    }\n\n    if (this.wrapper !== 'pre') {\n      // Trim leading line feed, which is invisible in HTML\n      text = text.replace(REGEX_LEADING_LF, ''); // Can't use empty string because MSWord\n\n      text = text.replace(REGEX_LF, SPACE);\n    }\n\n    this._appendText(text, style);\n  };\n\n  _proto._addBreakNode = function _addBreakNode(node, style) {\n    if (!isHTMLBRElement(node)) {\n      return;\n    }\n\n    this._appendText('\\n', style);\n  }\n  /**\n   * Add the content of an HTML img node to the internal state\n   */\n  ;\n\n  _proto._addImgNode = function _addImgNode(node, style) {\n    if (!isHTMLImageElement(node)) {\n      return;\n    }\n\n    var image = node;\n    var entityConfig = {};\n    imgAttr.forEach(function (attr) {\n      var imageAttribute = image.getAttribute(attr);\n\n      if (imageAttribute) {\n        entityConfig[attr] = imageAttribute;\n      }\n    }); // TODO: T15530363 update this when we remove DraftEntity entirely\n\n    this.currentEntity = this.entityMap.__create('IMAGE', 'IMMUTABLE', entityConfig); // The child text node cannot just have a space or return as content (since\n    // we strip those out), unless the image is for presentation only.\n    // See https://github.com/facebook/draft-js/issues/231 for some context.\n\n    if (gkx('draftjs_fix_paste_for_img')) {\n      if (image.getAttribute('role') !== 'presentation') {\n        this._appendText(\"\\uD83D\\uDCF7\", style);\n      }\n    } else {\n      this._appendText(\"\\uD83D\\uDCF7\", style);\n    }\n\n    this.currentEntity = null;\n  }\n  /**\n   * Add the content of an HTML 'a' node to the internal state. Child nodes\n   * (if any) are converted to Block Configs and appended to the provided\n   * blockConfig array.\n   */\n  ;\n\n  _proto._addAnchorNode = function _addAnchorNode(node, blockConfigs, style) {\n    // The check has already been made by isValidAnchor but\n    // we have to do it again to keep flow happy.\n    if (!isHTMLAnchorElement(node)) {\n      return;\n    }\n\n    var anchor = node;\n    var entityConfig = {};\n    anchorAttr.forEach(function (attr) {\n      var anchorAttribute = anchor.getAttribute(attr);\n\n      if (anchorAttribute) {\n        entityConfig[attr] = anchorAttribute;\n      }\n    });\n    entityConfig.url = new URI(anchor.href).toString(); // TODO: T15530363 update this when we remove DraftEntity completely\n\n    this.currentEntity = this.entityMap.__create('LINK', 'MUTABLE', entityConfig || {});\n    blockConfigs.push.apply(blockConfigs, this._toBlockConfigs(Array.from(node.childNodes), style));\n    this.currentEntity = null;\n  }\n  /**\n   * Walk the BlockConfig tree, compute parent/children/siblings,\n   * and generate the corresponding ContentBlockNode\n   */\n  ;\n\n  _proto._toContentBlocks = function _toContentBlocks(blockConfigs) {\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var l = blockConfigs.length - 1;\n\n    for (var i = 0; i <= l; i++) {\n      var config = blockConfigs[i];\n      config.parent = parent;\n      config.prevSibling = i > 0 ? blockConfigs[i - 1].key : null;\n      config.nextSibling = i < l ? blockConfigs[i + 1].key : null;\n      config.children = List(config.childConfigs.map(function (child) {\n        return child.key;\n      }));\n      this.contentBlocks.push(new ContentBlockNode(_objectSpread({}, config)));\n\n      this._toContentBlocks(config.childConfigs, config.key);\n    }\n  }\n  /**\n   * Remove 'useless' container nodes from the block config hierarchy, by\n   * replacing them with their children.\n   */\n  ;\n\n  _proto._hoistContainersInBlockConfigs = function _hoistContainersInBlockConfigs(blockConfigs) {\n    var _this = this;\n\n    var hoisted = List(blockConfigs).flatMap(function (blockConfig) {\n      // Don't mess with useful blocks\n      if (blockConfig.type !== 'unstyled' || blockConfig.text !== '') {\n        return [blockConfig];\n      }\n\n      return _this._hoistContainersInBlockConfigs(blockConfig.childConfigs);\n    });\n    return hoisted;\n  } // ***********************************************************************\n  // The two methods below are used for backward compatibility when\n  // experimentalTreeDataSupport is disabled.\n\n  /**\n   * Same as _toContentBlocks but replaces nested blocks by their\n   * text content.\n   */\n  ;\n\n  _proto._toFlatContentBlocks = function _toFlatContentBlocks(blockConfigs) {\n    var _this2 = this;\n\n    var cleanConfigs = this._hoistContainersInBlockConfigs(blockConfigs);\n\n    cleanConfigs.forEach(function (config) {\n      var _this2$_extractTextFr = _this2._extractTextFromBlockConfigs(config.childConfigs),\n          text = _this2$_extractTextFr.text,\n          characterList = _this2$_extractTextFr.characterList;\n\n      _this2.contentBlocks.push(new ContentBlock(_objectSpread({}, config, {\n        text: config.text + text,\n        characterList: config.characterList.concat(characterList)\n      })));\n    });\n  }\n  /**\n   * Extract the text and the associated inline styles form an\n   * array of content block configs.\n   */\n  ;\n\n  _proto._extractTextFromBlockConfigs = function _extractTextFromBlockConfigs(blockConfigs) {\n    var l = blockConfigs.length - 1;\n    var text = '';\n    var characterList = List();\n\n    for (var i = 0; i <= l; i++) {\n      var config = blockConfigs[i];\n      text += config.text;\n      characterList = characterList.concat(config.characterList);\n\n      if (text !== '' && config.type !== 'unstyled') {\n        text += '\\n';\n        characterList = characterList.push(characterList.last());\n      }\n\n      var children = this._extractTextFromBlockConfigs(config.childConfigs);\n\n      text += children.text;\n      characterList = characterList.concat(children.characterList);\n    }\n\n    return {\n      text: text,\n      characterList: characterList\n    };\n  };\n\n  return ContentBlocksBuilder;\n}();\n/**\n * Converts an HTML string to an array of ContentBlocks and an EntityMap\n * suitable to initialize the internal state of a Draftjs component.\n */\n\n\nvar convertFromHTMLToContentBlocks = function convertFromHTMLToContentBlocks(html) {\n  var DOMBuilder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getSafeBodyFromHTML;\n  var blockRenderMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultDraftBlockRenderMap; // Be ABSOLUTELY SURE that the dom builder you pass here won't execute\n  // arbitrary code in whatever environment you're running this in. For an\n  // example of how we try to do this in-browser, see getSafeBodyFromHTML.\n  // Remove funky characters from the HTML string\n\n  html = html.trim().replace(REGEX_CR, '').replace(REGEX_NBSP, SPACE).replace(REGEX_CARRIAGE, '').replace(REGEX_ZWS, ''); // Build a DOM tree out of the HTML string\n\n  var safeBody = DOMBuilder(html);\n\n  if (!safeBody) {\n    return null;\n  } // Build a BlockTypeMap out of the BlockRenderMap\n\n\n  var blockTypeMap = buildBlockTypeMap(blockRenderMap); // Select the proper block type for the cases where the blockRenderMap\n  // uses multiple block types for the same html tag.\n\n  var disambiguate = function disambiguate(tag, wrapper) {\n    if (tag === 'li') {\n      return wrapper === 'ol' ? 'ordered-list-item' : 'unordered-list-item';\n    }\n\n    return null;\n  };\n\n  return new ContentBlocksBuilder(blockTypeMap, disambiguate).addDOMNode(safeBody).getContentBlocks();\n};\n\nmodule.exports = convertFromHTMLToContentBlocks;","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nvar validateFormat = process.env.NODE_ENV !== \"production\" ? function (format) {\n  if (format === undefined) {\n    throw new Error('invariant(...): Second argument must be a string.');\n  }\n} : function (format) {};\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments to provide\n * information about what broke and what you were expecting.\n *\n * The invariant message will be stripped in production, but the invariant will\n * remain to ensure logic does not differ in production.\n */\n\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return String(args[argIndex++]);\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // Skip invariant's own stack frame.\n\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar emptyFunction = require(\"./emptyFunction\");\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\n\nfunction printWarning(format) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var argIndex = 0;\n  var message = 'Warning: ' + format.replace(/%s/g, function () {\n    return args[argIndex++];\n  });\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    // --- Welcome to debugging React ---\n    // This error was thrown as a convenience so that you can use this stack\n    // to find the callsite that caused this warning to fire.\n    throw new Error(message);\n  } catch (x) {}\n}\n\nvar warning = process.env.NODE_ENV !== \"production\" ? function (condition, format) {\n  if (format === undefined) {\n    throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n  }\n\n  if (!condition) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    printWarning.apply(void 0, [format].concat(args));\n  }\n} : emptyFunction;\nmodule.exports = warning;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar moveSelectionBackward = require(\"./moveSelectionBackward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Remove the selected range. If the cursor is collapsed, remove the preceding\n * character. This operation is Unicode-aware, so removing a single character\n * will remove a surrogate pair properly as well.\n */\n\n\nfunction keyCommandPlainBackspace(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var content = strategyState.getCurrentContent();\n    var key = selection.getAnchorKey();\n    var offset = selection.getAnchorOffset();\n    var charBehind = content.getBlockForKey(key).getText()[offset - 1];\n    return moveSelectionBackward(strategyState, charBehind ? UnicodeUtils.getUTF16Length(charBehind, 0) : 1);\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  var selection = editorState.getSelection();\n  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'backspace-character' : 'remove-range');\n}\n\nmodule.exports = keyCommandPlainBackspace;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar BlockTree = require(\"./BlockTree\");\n\nvar ContentState = require(\"./ContentState\");\n\nvar EditorBidiService = require(\"./EditorBidiService\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar Immutable = require(\"immutable\");\n\nvar OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Stack = Immutable.Stack,\n    OrderedMap = Immutable.OrderedMap,\n    List = Immutable.List; // When configuring an editor, the user can chose to provide or not provide\n// basically all keys. `currentContent` varies, so this type doesn't include it.\n// (See the types defined below.)\n\nvar defaultRecord = {\n  allowUndo: true,\n  currentContent: null,\n  decorator: null,\n  directionMap: null,\n  forceSelection: false,\n  inCompositionMode: false,\n  inlineStyleOverride: null,\n  lastChangeType: null,\n  nativelyRenderedContent: null,\n  redoStack: Stack(),\n  selection: null,\n  treeMap: null,\n  undoStack: Stack()\n};\nvar EditorStateRecord = Record(defaultRecord);\n\nvar EditorState = /*#__PURE__*/function () {\n  EditorState.createEmpty = function createEmpty(decorator) {\n    return this.createWithText('', decorator);\n  };\n\n  EditorState.createWithText = function createWithText(text, decorator) {\n    return EditorState.createWithContent(ContentState.createFromText(text), decorator);\n  };\n\n  EditorState.createWithContent = function createWithContent(contentState, decorator) {\n    if (contentState.getBlockMap().count() === 0) {\n      return EditorState.createEmpty(decorator);\n    }\n\n    var firstKey = contentState.getBlockMap().first().getKey();\n    return EditorState.create({\n      currentContent: contentState,\n      undoStack: Stack(),\n      redoStack: Stack(),\n      decorator: decorator || null,\n      selection: SelectionState.createEmpty(firstKey)\n    });\n  };\n\n  EditorState.create = function create(config) {\n    var currentContent = config.currentContent,\n        decorator = config.decorator;\n\n    var recordConfig = _objectSpread({}, config, {\n      treeMap: generateNewTreeMap(currentContent, decorator),\n      directionMap: EditorBidiService.getDirectionMap(currentContent)\n    });\n\n    return new EditorState(new EditorStateRecord(recordConfig));\n  };\n\n  EditorState.fromJS = function fromJS(config) {\n    return new EditorState(new EditorStateRecord(_objectSpread({}, config, {\n      directionMap: config.directionMap != null ? OrderedMap(config.directionMap) : config.directionMap,\n      inlineStyleOverride: config.inlineStyleOverride != null ? OrderedSet(config.inlineStyleOverride) : config.inlineStyleOverride,\n      nativelyRenderedContent: config.nativelyRenderedContent != null ? ContentState.fromJS(config.nativelyRenderedContent) : config.nativelyRenderedContent,\n      redoStack: config.redoStack != null ? Stack(config.redoStack.map(function (v) {\n        return ContentState.fromJS(v);\n      })) : config.redoStack,\n      selection: config.selection != null ? new SelectionState(config.selection) : config.selection,\n      treeMap: config.treeMap != null ? OrderedMap(config.treeMap).map(function (v) {\n        return List(v).map(function (v) {\n          return BlockTree.fromJS(v);\n        });\n      }) : config.treeMap,\n      undoStack: config.undoStack != null ? Stack(config.undoStack.map(function (v) {\n        return ContentState.fromJS(v);\n      })) : config.undoStack,\n      currentContent: ContentState.fromJS(config.currentContent)\n    })));\n  };\n\n  EditorState.set = function set(editorState, put) {\n    var map = editorState.getImmutable().withMutations(function (state) {\n      var existingDecorator = state.get('decorator');\n      var decorator = existingDecorator;\n\n      if (put.decorator === null) {\n        decorator = null;\n      } else if (put.decorator) {\n        decorator = put.decorator;\n      }\n\n      var newContent = put.currentContent || editorState.getCurrentContent();\n\n      if (decorator !== existingDecorator) {\n        var treeMap = state.get('treeMap');\n        var newTreeMap;\n\n        if (decorator && existingDecorator) {\n          newTreeMap = regenerateTreeForNewDecorator(newContent, newContent.getBlockMap(), treeMap, decorator, existingDecorator);\n        } else {\n          newTreeMap = generateNewTreeMap(newContent, decorator);\n        }\n\n        state.merge({\n          decorator: decorator,\n          treeMap: newTreeMap,\n          nativelyRenderedContent: null\n        });\n        return;\n      }\n\n      var existingContent = editorState.getCurrentContent();\n\n      if (newContent !== existingContent) {\n        state.set('treeMap', regenerateTreeForNewBlocks(editorState, newContent.getBlockMap(), newContent.getEntityMap(), decorator));\n      }\n\n      state.merge(put);\n    });\n    return new EditorState(map);\n  };\n\n  var _proto = EditorState.prototype;\n\n  _proto.toJS = function toJS() {\n    return this.getImmutable().toJS();\n  };\n\n  _proto.getAllowUndo = function getAllowUndo() {\n    return this.getImmutable().get('allowUndo');\n  };\n\n  _proto.getCurrentContent = function getCurrentContent() {\n    return this.getImmutable().get('currentContent');\n  };\n\n  _proto.getUndoStack = function getUndoStack() {\n    return this.getImmutable().get('undoStack');\n  };\n\n  _proto.getRedoStack = function getRedoStack() {\n    return this.getImmutable().get('redoStack');\n  };\n\n  _proto.getSelection = function getSelection() {\n    return this.getImmutable().get('selection');\n  };\n\n  _proto.getDecorator = function getDecorator() {\n    return this.getImmutable().get('decorator');\n  };\n\n  _proto.isInCompositionMode = function isInCompositionMode() {\n    return this.getImmutable().get('inCompositionMode');\n  };\n\n  _proto.mustForceSelection = function mustForceSelection() {\n    return this.getImmutable().get('forceSelection');\n  };\n\n  _proto.getNativelyRenderedContent = function getNativelyRenderedContent() {\n    return this.getImmutable().get('nativelyRenderedContent');\n  };\n\n  _proto.getLastChangeType = function getLastChangeType() {\n    return this.getImmutable().get('lastChangeType');\n  }\n  /**\n   * While editing, the user may apply inline style commands with a collapsed\n   * cursor, intending to type text that adopts the specified style. In this\n   * case, we track the specified style as an \"override\" that takes precedence\n   * over the inline style of the text adjacent to the cursor.\n   *\n   * If null, there is no override in place.\n   */\n  ;\n\n  _proto.getInlineStyleOverride = function getInlineStyleOverride() {\n    return this.getImmutable().get('inlineStyleOverride');\n  };\n\n  EditorState.setInlineStyleOverride = function setInlineStyleOverride(editorState, inlineStyleOverride) {\n    return EditorState.set(editorState, {\n      inlineStyleOverride: inlineStyleOverride\n    });\n  }\n  /**\n   * Get the appropriate inline style for the editor state. If an\n   * override is in place, use it. Otherwise, the current style is\n   * based on the location of the selection state.\n   */\n  ;\n\n  _proto.getCurrentInlineStyle = function getCurrentInlineStyle() {\n    var override = this.getInlineStyleOverride();\n\n    if (override != null) {\n      return override;\n    }\n\n    var content = this.getCurrentContent();\n    var selection = this.getSelection();\n\n    if (selection.isCollapsed()) {\n      return getInlineStyleForCollapsedSelection(content, selection);\n    }\n\n    return getInlineStyleForNonCollapsedSelection(content, selection);\n  };\n\n  _proto.getBlockTree = function getBlockTree(blockKey) {\n    return this.getImmutable().getIn(['treeMap', blockKey]);\n  };\n\n  _proto.isSelectionAtStartOfContent = function isSelectionAtStartOfContent() {\n    var firstKey = this.getCurrentContent().getBlockMap().first().getKey();\n    return this.getSelection().hasEdgeWithin(firstKey, 0, 0);\n  };\n\n  _proto.isSelectionAtEndOfContent = function isSelectionAtEndOfContent() {\n    var content = this.getCurrentContent();\n    var blockMap = content.getBlockMap();\n    var last = blockMap.last();\n    var end = last.getLength();\n    return this.getSelection().hasEdgeWithin(last.getKey(), end, end);\n  };\n\n  _proto.getDirectionMap = function getDirectionMap() {\n    return this.getImmutable().get('directionMap');\n  }\n  /**\n   * Incorporate native DOM selection changes into the EditorState. This\n   * method can be used when we simply want to accept whatever the DOM\n   * has given us to represent selection, and we do not need to re-render\n   * the editor.\n   *\n   * To forcibly move the DOM selection, see `EditorState.forceSelection`.\n   */\n  ;\n\n  EditorState.acceptSelection = function acceptSelection(editorState, selection) {\n    return updateSelection(editorState, selection, false);\n  }\n  /**\n   * At times, we need to force the DOM selection to be where we\n   * need it to be. This can occur when the anchor or focus nodes\n   * are non-text nodes, for instance. In this case, we want to trigger\n   * a re-render of the editor, which in turn forces selection into\n   * the correct place in the DOM. The `forceSelection` method\n   * accomplishes this.\n   *\n   * This method should be used in cases where you need to explicitly\n   * move the DOM selection from one place to another without a change\n   * in ContentState.\n   */\n  ;\n\n  EditorState.forceSelection = function forceSelection(editorState, selection) {\n    if (!selection.getHasFocus()) {\n      selection = selection.set('hasFocus', true);\n    }\n\n    return updateSelection(editorState, selection, true);\n  }\n  /**\n   * Move selection to the end of the editor without forcing focus.\n   */\n  ;\n\n  EditorState.moveSelectionToEnd = function moveSelectionToEnd(editorState) {\n    var content = editorState.getCurrentContent();\n    var lastBlock = content.getLastBlock();\n    var lastKey = lastBlock.getKey();\n    var length = lastBlock.getLength();\n    return EditorState.acceptSelection(editorState, new SelectionState({\n      anchorKey: lastKey,\n      anchorOffset: length,\n      focusKey: lastKey,\n      focusOffset: length,\n      isBackward: false\n    }));\n  }\n  /**\n   * Force focus to the end of the editor. This is useful in scenarios\n   * where we want to programmatically focus the input and it makes sense\n   * to allow the user to continue working seamlessly.\n   */\n  ;\n\n  EditorState.moveFocusToEnd = function moveFocusToEnd(editorState) {\n    var afterSelectionMove = EditorState.moveSelectionToEnd(editorState);\n    return EditorState.forceSelection(afterSelectionMove, afterSelectionMove.getSelection());\n  }\n  /**\n   * Push the current ContentState onto the undo stack if it should be\n   * considered a boundary state, and set the provided ContentState as the\n   * new current content.\n   */\n  ;\n\n  EditorState.push = function push(editorState, contentState, changeType) {\n    var forceSelection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    if (editorState.getCurrentContent() === contentState) {\n      return editorState;\n    }\n\n    var directionMap = EditorBidiService.getDirectionMap(contentState, editorState.getDirectionMap());\n\n    if (!editorState.getAllowUndo()) {\n      return EditorState.set(editorState, {\n        currentContent: contentState,\n        directionMap: directionMap,\n        lastChangeType: changeType,\n        selection: contentState.getSelectionAfter(),\n        forceSelection: forceSelection,\n        inlineStyleOverride: null\n      });\n    }\n\n    var selection = editorState.getSelection();\n    var currentContent = editorState.getCurrentContent();\n    var undoStack = editorState.getUndoStack();\n    var newContent = contentState;\n\n    if (selection !== currentContent.getSelectionAfter() || mustBecomeBoundary(editorState, changeType)) {\n      undoStack = undoStack.push(currentContent);\n      newContent = newContent.set('selectionBefore', selection);\n    } else if (changeType === 'insert-characters' || changeType === 'backspace-character' || changeType === 'delete-character') {\n      // Preserve the previous selection.\n      newContent = newContent.set('selectionBefore', currentContent.getSelectionBefore());\n    }\n\n    var inlineStyleOverride = editorState.getInlineStyleOverride(); // Don't discard inline style overrides for the following change types:\n\n    var overrideChangeTypes = ['adjust-depth', 'change-block-type', 'split-block'];\n\n    if (overrideChangeTypes.indexOf(changeType) === -1) {\n      inlineStyleOverride = null;\n    }\n\n    var editorStateChanges = {\n      currentContent: newContent,\n      directionMap: directionMap,\n      undoStack: undoStack,\n      redoStack: Stack(),\n      lastChangeType: changeType,\n      selection: contentState.getSelectionAfter(),\n      forceSelection: forceSelection,\n      inlineStyleOverride: inlineStyleOverride\n    };\n    return EditorState.set(editorState, editorStateChanges);\n  }\n  /**\n   * Make the top ContentState in the undo stack the new current content and\n   * push the current content onto the redo stack.\n   */\n  ;\n\n  EditorState.undo = function undo(editorState) {\n    if (!editorState.getAllowUndo()) {\n      return editorState;\n    }\n\n    var undoStack = editorState.getUndoStack();\n    var newCurrentContent = undoStack.peek();\n\n    if (!newCurrentContent) {\n      return editorState;\n    }\n\n    var currentContent = editorState.getCurrentContent();\n    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());\n    return EditorState.set(editorState, {\n      currentContent: newCurrentContent,\n      directionMap: directionMap,\n      undoStack: undoStack.shift(),\n      redoStack: editorState.getRedoStack().push(currentContent),\n      forceSelection: true,\n      inlineStyleOverride: null,\n      lastChangeType: 'undo',\n      nativelyRenderedContent: null,\n      selection: currentContent.getSelectionBefore()\n    });\n  }\n  /**\n   * Make the top ContentState in the redo stack the new current content and\n   * push the current content onto the undo stack.\n   */\n  ;\n\n  EditorState.redo = function redo(editorState) {\n    if (!editorState.getAllowUndo()) {\n      return editorState;\n    }\n\n    var redoStack = editorState.getRedoStack();\n    var newCurrentContent = redoStack.peek();\n\n    if (!newCurrentContent) {\n      return editorState;\n    }\n\n    var currentContent = editorState.getCurrentContent();\n    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());\n    return EditorState.set(editorState, {\n      currentContent: newCurrentContent,\n      directionMap: directionMap,\n      undoStack: editorState.getUndoStack().push(currentContent),\n      redoStack: redoStack.shift(),\n      forceSelection: true,\n      inlineStyleOverride: null,\n      lastChangeType: 'redo',\n      nativelyRenderedContent: null,\n      selection: newCurrentContent.getSelectionAfter()\n    });\n  }\n  /**\n   * Not for public consumption.\n   */\n  ;\n\n  function EditorState(immutable) {\n    _defineProperty(this, \"_immutable\", void 0);\n\n    this._immutable = immutable;\n  }\n  /**\n   * Not for public consumption.\n   */\n\n\n  _proto.getImmutable = function getImmutable() {\n    return this._immutable;\n  };\n\n  return EditorState;\n}();\n/**\n * Set the supplied SelectionState as the new current selection, and set\n * the `force` flag to trigger manual selection placement by the view.\n */\n\n\nfunction updateSelection(editorState, selection, forceSelection) {\n  return EditorState.set(editorState, {\n    selection: selection,\n    forceSelection: forceSelection,\n    nativelyRenderedContent: null,\n    inlineStyleOverride: null\n  });\n}\n/**\n * Regenerate the entire tree map for a given ContentState and decorator.\n * Returns an OrderedMap that maps all available ContentBlock objects.\n */\n\n\nfunction generateNewTreeMap(contentState, decorator) {\n  return contentState.getBlockMap().map(function (block) {\n    return BlockTree.generate(contentState, block, decorator);\n  }).toOrderedMap();\n}\n/**\n * Regenerate tree map objects for all ContentBlocks that have changed\n * between the current editorState and newContent. Returns an OrderedMap\n * with only changed regenerated tree map objects.\n */\n\n\nfunction regenerateTreeForNewBlocks(editorState, newBlockMap, newEntityMap, decorator) {\n  var contentState = editorState.getCurrentContent().set('entityMap', newEntityMap);\n  var prevBlockMap = contentState.getBlockMap();\n  var prevTreeMap = editorState.getImmutable().get('treeMap');\n  return prevTreeMap.merge(newBlockMap.toSeq().filter(function (block, key) {\n    return block !== prevBlockMap.get(key);\n  }).map(function (block) {\n    return BlockTree.generate(contentState, block, decorator);\n  }));\n}\n/**\n * Generate tree map objects for a new decorator object, preserving any\n * decorations that are unchanged from the previous decorator.\n *\n * Note that in order for this to perform optimally, decoration Lists for\n * decorators should be preserved when possible to allow for direct immutable\n * List comparison.\n */\n\n\nfunction regenerateTreeForNewDecorator(content, blockMap, previousTreeMap, decorator, existingDecorator) {\n  return previousTreeMap.merge(blockMap.toSeq().filter(function (block) {\n    return decorator.getDecorations(block, content) !== existingDecorator.getDecorations(block, content);\n  }).map(function (block) {\n    return BlockTree.generate(content, block, decorator);\n  }));\n}\n/**\n * Return whether a change should be considered a boundary state, given\n * the previous change type. Allows us to discard potential boundary states\n * during standard typing or deletion behavior.\n */\n\n\nfunction mustBecomeBoundary(editorState, changeType) {\n  var lastChangeType = editorState.getLastChangeType();\n  return changeType !== lastChangeType || changeType !== 'insert-characters' && changeType !== 'backspace-character' && changeType !== 'delete-character';\n}\n\nfunction getInlineStyleForCollapsedSelection(content, selection) {\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var startBlock = content.getBlockForKey(startKey); // If the cursor is not at the start of the block, look backward to\n  // preserve the style of the preceding character.\n\n  if (startOffset > 0) {\n    return startBlock.getInlineStyleAt(startOffset - 1);\n  } // The caret is at position zero in this block. If the block has any\n  // text at all, use the style of the first character.\n\n\n  if (startBlock.getLength()) {\n    return startBlock.getInlineStyleAt(0);\n  } // Otherwise, look upward in the document to find the closest character.\n\n\n  return lookUpwardForInlineStyle(content, startKey);\n}\n\nfunction getInlineStyleForNonCollapsedSelection(content, selection) {\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var startBlock = content.getBlockForKey(startKey); // If there is a character just inside the selection, use its style.\n\n  if (startOffset < startBlock.getLength()) {\n    return startBlock.getInlineStyleAt(startOffset);\n  } // Check if the selection at the end of a non-empty block. Use the last\n  // style in the block.\n\n\n  if (startOffset > 0) {\n    return startBlock.getInlineStyleAt(startOffset - 1);\n  } // Otherwise, look upward in the document to find the closest character.\n\n\n  return lookUpwardForInlineStyle(content, startKey);\n}\n\nfunction lookUpwardForInlineStyle(content, fromKey) {\n  var lastNonEmpty = content.getBlockMap().reverse().skipUntil(function (_, k) {\n    return k === fromKey;\n  }).skip(1).skipUntil(function (block, _) {\n    return block.getLength();\n  }).first();\n\n  if (lastNonEmpty) {\n    return lastNonEmpty.getInlineStyleAt(lastNonEmpty.getLength() - 1);\n  }\n\n  return OrderedSet();\n}\n\nmodule.exports = EditorState;","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar getWindowForNode = require(\"./getWindowForNode\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar Map = Immutable.Map; // Heavily based on Prosemirror's DOMObserver https://github.com/ProseMirror/prosemirror-view/blob/master/src/domobserver.js\n\nvar DOM_OBSERVER_OPTIONS = {\n  subtree: true,\n  characterData: true,\n  childList: true,\n  characterDataOldValue: false,\n  attributes: false\n}; // IE11 has very broken mutation observers, so we also listen to DOMCharacterDataModified\n\nvar USE_CHAR_DATA = UserAgent.isBrowser('IE <= 11');\n\nvar DOMObserver = /*#__PURE__*/function () {\n  function DOMObserver(container) {\n    var _this = this;\n\n    _defineProperty(this, \"observer\", void 0);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"mutations\", void 0);\n\n    _defineProperty(this, \"onCharData\", void 0);\n\n    this.container = container;\n    this.mutations = Map();\n    var containerWindow = getWindowForNode(container);\n\n    if (containerWindow.MutationObserver && !USE_CHAR_DATA) {\n      this.observer = new containerWindow.MutationObserver(function (mutations) {\n        return _this.registerMutations(mutations);\n      });\n    } else {\n      this.onCharData = function (e) {\n        !(e.target instanceof Node) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected target to be an instance of Node') : invariant(false) : void 0;\n\n        _this.registerMutation({\n          type: 'characterData',\n          target: e.target\n        });\n      };\n    }\n  }\n\n  var _proto = DOMObserver.prototype;\n\n  _proto.start = function start() {\n    if (this.observer) {\n      this.observer.observe(this.container, DOM_OBSERVER_OPTIONS);\n    } else {\n      /* $FlowFixMe[incompatible-call] (>=0.68.0 site=www,mobile) This event\n       * type is not defined by Flow's standard library */\n      this.container.addEventListener('DOMCharacterDataModified', this.onCharData);\n    }\n  };\n\n  _proto.stopAndFlushMutations = function stopAndFlushMutations() {\n    var observer = this.observer;\n\n    if (observer) {\n      this.registerMutations(observer.takeRecords());\n      observer.disconnect();\n    } else {\n      /* $FlowFixMe[incompatible-call] (>=0.68.0 site=www,mobile) This event\n       * type is not defined by Flow's standard library */\n      this.container.removeEventListener('DOMCharacterDataModified', this.onCharData);\n    }\n\n    var mutations = this.mutations;\n    this.mutations = Map();\n    return mutations;\n  };\n\n  _proto.registerMutations = function registerMutations(mutations) {\n    for (var i = 0; i < mutations.length; i++) {\n      this.registerMutation(mutations[i]);\n    }\n  };\n\n  _proto.getMutationTextContent = function getMutationTextContent(mutation) {\n    var type = mutation.type,\n        target = mutation.target,\n        removedNodes = mutation.removedNodes;\n\n    if (type === 'characterData') {\n      // When `textContent` is '', there is a race condition that makes\n      // getting the offsetKey from the target not possible.\n      // These events are also followed by a `childList`, which is the one\n      // we are able to retrieve the offsetKey and apply the '' text.\n      if (target.textContent !== '') {\n        // IE 11 considers the enter keypress that concludes the composition\n        // as an input char. This strips that newline character so the draft\n        // state does not receive spurious newlines.\n        if (USE_CHAR_DATA) {\n          return target.textContent.replace('\\n', '');\n        }\n\n        return target.textContent;\n      }\n    } else if (type === 'childList') {\n      if (removedNodes && removedNodes.length) {\n        // `characterData` events won't happen or are ignored when\n        // removing the last character of a leaf node, what happens\n        // instead is a `childList` event with a `removedNodes` array.\n        // For this case the textContent should be '' and\n        // `DraftModifier.replaceText` will make sure the content is\n        // updated properly.\n        return '';\n      } else if (target.textContent !== '') {\n        // Typing Chinese in an empty block in MS Edge results in a\n        // `childList` event with non-empty textContent.\n        // See https://github.com/facebook/draft-js/issues/2082\n        return target.textContent;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.registerMutation = function registerMutation(mutation) {\n    var textContent = this.getMutationTextContent(mutation);\n\n    if (textContent != null) {\n      var offsetKey = nullthrows(findAncestorOffsetKey(mutation.target));\n      this.mutations = this.mutations.set(offsetKey, textContent);\n    }\n  };\n\n  return DOMObserver;\n}();\n\nmodule.exports = DOMObserver;","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = UnsupportedElementType;\n/**\n * Handles an unsupported element type by returning null so nothing is rendered\n * @returns {null}\n */\n\nfunction UnsupportedElementType() {\n  // do nothing because the element type is unsupported\n  // comment, directive, script, cdata, doctype are all currently unsupported\n  return null;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nfunction getUpdatedSelectionState(editorState, anchorKey, anchorOffset, focusKey, focusOffset) {\n  var selection = nullthrows(editorState.getSelection());\n\n  if (!anchorKey || !focusKey) {\n    // If we cannot make sense of the updated selection state, stick to the current one.\n    if (process.env.NODE_ENV !== \"production\") {\n      /* eslint-disable-next-line */\n      console.warn('Invalid selection state.', arguments, editorState.toJS());\n    }\n\n    return selection;\n  }\n\n  var anchorPath = DraftOffsetKey.decode(anchorKey);\n  var anchorBlockKey = anchorPath.blockKey;\n  var anchorLeafBlockTree = editorState.getBlockTree(anchorBlockKey);\n  var anchorLeaf = anchorLeafBlockTree && anchorLeafBlockTree.getIn([anchorPath.decoratorKey, 'leaves', anchorPath.leafKey]);\n  var focusPath = DraftOffsetKey.decode(focusKey);\n  var focusBlockKey = focusPath.blockKey;\n  var focusLeafBlockTree = editorState.getBlockTree(focusBlockKey);\n  var focusLeaf = focusLeafBlockTree && focusLeafBlockTree.getIn([focusPath.decoratorKey, 'leaves', focusPath.leafKey]);\n\n  if (!anchorLeaf || !focusLeaf) {\n    // If we cannot make sense of the updated selection state, stick to the current one.\n    if (process.env.NODE_ENV !== \"production\") {\n      /* eslint-disable-next-line */\n      console.warn('Invalid selection state.', arguments, editorState.toJS());\n    }\n\n    return selection;\n  }\n\n  var anchorLeafStart = anchorLeaf.get('start');\n  var focusLeafStart = focusLeaf.get('start');\n  var anchorBlockOffset = anchorLeaf ? anchorLeafStart + anchorOffset : null;\n  var focusBlockOffset = focusLeaf ? focusLeafStart + focusOffset : null;\n  var areEqual = selection.getAnchorKey() === anchorBlockKey && selection.getAnchorOffset() === anchorBlockOffset && selection.getFocusKey() === focusBlockKey && selection.getFocusOffset() === focusBlockOffset;\n\n  if (areEqual) {\n    return selection;\n  }\n\n  var isBackward = false;\n\n  if (anchorBlockKey === focusBlockKey) {\n    var anchorLeafEnd = anchorLeaf.get('end');\n    var focusLeafEnd = focusLeaf.get('end');\n\n    if (focusLeafStart === anchorLeafStart && focusLeafEnd === anchorLeafEnd) {\n      isBackward = focusOffset < anchorOffset;\n    } else {\n      isBackward = focusLeafStart < anchorLeafStart;\n    }\n  } else {\n    var startKey = editorState.getCurrentContent().getBlockMap().keySeq().skipUntil(function (v) {\n      return v === anchorBlockKey || v === focusBlockKey;\n    }).first();\n    isBackward = startKey === focusBlockKey;\n  }\n\n  return selection.merge({\n    anchorKey: anchorBlockKey,\n    anchorOffset: anchorBlockOffset,\n    focusKey: focusBlockKey,\n    focusOffset: focusBlockOffset,\n    isBackward: isBackward\n  });\n}\n\nmodule.exports = getUpdatedSelectionState;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar getStyleProperty = require(\"./getStyleProperty\");\n/**\n * @param {DOMNode} element [description]\n * @param {string} name Overflow style property name.\n * @return {boolean} True if the supplied ndoe is scrollable.\n */\n\n\nfunction _isNodeScrollable(element, name) {\n  var overflow = Style.get(element, name);\n  return overflow === 'auto' || overflow === 'scroll';\n}\n/**\n * Utilities for querying and mutating style properties.\n */\n\n\nvar Style = {\n  /**\n   * Gets the style property for the supplied node. This will return either the\n   * computed style, if available, or the declared style.\n   *\n   * @param {DOMNode} node\n   * @param {string} name Style property name.\n   * @return {?string} Style property value.\n   */\n  get: getStyleProperty,\n\n  /**\n   * Determines the nearest ancestor of a node that is scrollable.\n   *\n   * NOTE: This can be expensive if used repeatedly or on a node nested deeply.\n   *\n   * @param {?DOMNode} node Node from which to start searching.\n   * @return {?DOMWindow|DOMElement} Scroll parent of the supplied node.\n   */\n  getScrollParent: function getScrollParent(node) {\n    if (!node) {\n      return null;\n    }\n\n    var ownerDocument = node.ownerDocument;\n\n    while (node && node !== ownerDocument.body) {\n      if (_isNodeScrollable(node, 'overflow') || _isNodeScrollable(node, 'overflowY') || _isNodeScrollable(node, 'overflowX')) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return ownerDocument.defaultView || ownerDocument.parentWindow;\n  }\n};\nmodule.exports = Style;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @preventMunge\n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar flushControlled = require(\"./DraftEditorFlushControlled\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\n\nvar DraftEditor = /*#__PURE__*/function (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n\n\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleEditorContainerRef\", function (node) {\n      _this.editorContainer = node; // Instead of having a direct ref on the child, we'll grab it here.\n      // This is safe as long as the rendered structure is static (which it is).\n      // This lets the child support ref={props.editorRef} without merging refs.\n\n      _this.editor = node !== null ? node.firstChild : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus(); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe[incompatible-type] (>=0.117.0 site=www,mobile) This comment\n         * suppresses an error found when Flow v0.117 was deployed. To see the\n         * error delete this comment and run Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread({}, handlerMap, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      _this.setState({\n        contentsKey: _this.state.contentsKey + 1\n      }, function () {\n        _this.focus(scrollPosition);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      _this._latestEditorState = editorState;\n\n      _this.props.onChange(editorState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/wHKQ3W).');\n        }\n      });\n    } // See `restoreEditorDOM()`.\n\n\n    _this.state = {\n      contentsKey: 0\n    };\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this; // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n\n\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This comment\n       * suppresses an error found when Flow v0.112 was deployed. To see the\n       * error delete this comment and run Flow. */\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  }\n  /**\n   * returns ariaDescribedBy prop with '{{editor_id_placeholder}}' replaced with\n   * the DOM id of the placeholder (if it exists)\n   * @returns aria-describedby attribute value\n   */\n  ;\n\n  _proto2._renderARIADescribedBy = function _renderARIADescribedBy() {\n    var describedBy = this.props.ariaDescribedBy || '';\n    var placeholderID = this._showPlaceholder() ? this._placeholderAccessibilityID : '';\n    return describedBy.replace('{{editor_id_placeholder}}', placeholderID) || undefined;\n  };\n\n  _proto2.render = function render() {\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        preventScroll = _this$props2.preventScroll,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      preventScroll: preventScroll,\n      textDirectionality: textDirectionality\n    };\n    return React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: this._handleEditorContainerRef\n    }, React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this._renderARIADescribedBy(),\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": this.props.ariaLabel,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: this.props.editorRef,\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  ariaDescribedBy: '{{editor_id_placeholder}}',\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nvar isElement = require(\"./isElement\");\n\nfunction isHTMLAnchorElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return isElement(node) && node.nodeName === 'A';\n}\n\nmodule.exports = isHTMLAnchorElement;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nmodule.exports = {\n  BACKSPACE: 8,\n  TAB: 9,\n  RETURN: 13,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46,\n  COMMA: 188,\n  PERIOD: 190,\n  A: 65,\n  Z: 90,\n  ZERO: 48,\n  NUMPAD_0: 96,\n  NUMPAD_9: 105\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Immutable = require(\"immutable\");\n\nvar insertIntoList = require(\"./insertIntoList\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar Repeat = Immutable.Repeat;\n\nfunction insertTextIntoContentState(contentState, selectionState, text, characterMetadata) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`insertText` should only be called with a collapsed range.') : invariant(false) : void 0;\n  var len = null;\n\n  if (text != null) {\n    len = text.length;\n  }\n\n  if (len == null || len === 0) {\n    return contentState;\n  }\n\n  var blockMap = contentState.getBlockMap();\n  var key = selectionState.getStartKey();\n  var offset = selectionState.getStartOffset();\n  var block = blockMap.get(key);\n  var blockText = block.getText();\n  var newBlock = block.merge({\n    text: blockText.slice(0, offset) + text + blockText.slice(offset, block.getLength()),\n    characterList: insertIntoList(block.getCharacterList(), Repeat(characterMetadata, len).toList(), offset)\n  });\n  var newOffset = offset + len;\n  return contentState.merge({\n    blockMap: blockMap.set(key, newBlock),\n    selectionAfter: selectionState.merge({\n      anchorOffset: newOffset,\n      focusOffset: newOffset\n    })\n  });\n}\n\nmodule.exports = insertTextIntoContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n'use strict';\n\nvar isWebkit = typeof navigator !== 'undefined' && navigator.userAgent.indexOf('AppleWebKit') > -1;\n/**\n * Gets the element with the document scroll properties such as `scrollLeft` and\n * `scrollHeight`. This may differ across different browsers.\n *\n * NOTE: The return value can be null if the DOM is not yet ready.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\n\nfunction getDocumentScrollElement(doc) {\n  doc = doc || document;\n\n  if (doc.scrollingElement) {\n    return doc.scrollingElement;\n  }\n\n  return !isWebkit && doc.compatMode === 'CSS1Compat' ? doc.documentElement : doc.body;\n}\n\nmodule.exports = getDocumentScrollElement;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List;\nvar DELIMITER = '.';\n/**\n * A CompositeDraftDecorator traverses through a list of DraftDecorator\n * instances to identify sections of a ContentBlock that should be rendered\n * in a \"decorated\" manner. For example, hashtags, mentions, and links may\n * be intended to stand out visually, be rendered as anchors, etc.\n *\n * The list of decorators supplied to the constructor will be used in the\n * order they are provided. This allows the caller to specify a priority for\n * string matching, in case of match collisions among decorators.\n *\n * For instance, I may have a link with a `#` in its text. Though this section\n * of text may match our hashtag decorator, it should not be treated as a\n * hashtag. I should therefore list my link DraftDecorator\n * before my hashtag DraftDecorator when constructing this composite\n * decorator instance.\n *\n * Thus, when a collision like this is encountered, the earlier match is\n * preserved and the new match is discarded.\n */\n\nvar CompositeDraftDecorator = /*#__PURE__*/function () {\n  function CompositeDraftDecorator(decorators) {\n    _defineProperty(this, \"_decorators\", void 0); // Copy the decorator array, since we use this array order to determine\n    // precedence of decoration matching. If the array is mutated externally,\n    // we don't want to be affected here.\n\n\n    this._decorators = decorators.slice();\n  }\n\n  var _proto = CompositeDraftDecorator.prototype;\n\n  _proto.getDecorations = function getDecorations(block, contentState) {\n    var decorations = Array(block.getText().length).fill(null);\n\n    this._decorators.forEach(function (\n    /*object*/\n    decorator,\n    /*number*/\n    ii) {\n      var counter = 0;\n      var strategy = decorator.strategy;\n\n      var callback = function callback(\n      /*number*/\n      start,\n      /*number*/\n      end) {\n        // Find out if any of our matching range is already occupied\n        // by another decorator. If so, discard the match. Otherwise, store\n        // the component key for rendering.\n        if (canOccupySlice(decorations, start, end)) {\n          occupySlice(decorations, start, end, ii + DELIMITER + counter);\n          counter++;\n        }\n      };\n\n      strategy(block, callback, contentState);\n    });\n\n    return List(decorations);\n  };\n\n  _proto.getComponentForKey = function getComponentForKey(key) {\n    var componentKey = parseInt(key.split(DELIMITER)[0], 10);\n    return this._decorators[componentKey].component;\n  };\n\n  _proto.getPropsForKey = function getPropsForKey(key) {\n    var componentKey = parseInt(key.split(DELIMITER)[0], 10);\n    return this._decorators[componentKey].props;\n  };\n\n  return CompositeDraftDecorator;\n}();\n/**\n * Determine whether we can occupy the specified slice of the decorations\n * array.\n */\n\n\nfunction canOccupySlice(decorations, start, end) {\n  for (var ii = start; ii < end; ii++) {\n    if (decorations[ii] != null) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * Splice the specified component into our decoration array at the desired\n * range.\n */\n\n\nfunction occupySlice(targetArr, start, end, componentKey) {\n  for (var ii = start; ii < end; ii++) {\n    targetArr[ii] = componentKey;\n  }\n}\n\nmodule.exports = CompositeDraftDecorator;","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar gkx = require(\"./gkx\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\n/**\n * For a collapsed selection state, remove text based on the specified strategy.\n * If the selection state is not collapsed, remove the entire selected range.\n */\n\nfunction removeTextWithStrategy(editorState, strategy, direction) {\n  var selection = editorState.getSelection();\n  var content = editorState.getCurrentContent();\n  var target = selection;\n  var anchorKey = selection.getAnchorKey();\n  var focusKey = selection.getFocusKey();\n  var anchorBlock = content.getBlockForKey(anchorKey);\n\n  if (experimentalTreeDataSupport) {\n    if (direction === 'forward') {\n      if (anchorKey !== focusKey) {\n        // For now we ignore forward delete across blocks,\n        // if there is demand for this we will implement it.\n        return content;\n      }\n    }\n  }\n\n  if (selection.isCollapsed()) {\n    if (direction === 'forward') {\n      if (editorState.isSelectionAtEndOfContent()) {\n        return content;\n      }\n\n      if (experimentalTreeDataSupport) {\n        var isAtEndOfBlock = selection.getAnchorOffset() === content.getBlockForKey(anchorKey).getLength();\n\n        if (isAtEndOfBlock) {\n          var anchorBlockSibling = content.getBlockForKey(anchorBlock.nextSibling);\n\n          if (!anchorBlockSibling || anchorBlockSibling.getLength() === 0) {\n            // For now we ignore forward delete at the end of a block,\n            // if there is demand for this we will implement it.\n            return content;\n          }\n        }\n      }\n    } else if (editorState.isSelectionAtStartOfContent()) {\n      return content;\n    }\n\n    target = strategy(editorState);\n\n    if (target === selection) {\n      return content;\n    }\n  }\n\n  return DraftModifier.removeRange(content, target, direction);\n}\n\nmodule.exports = removeTextWithStrategy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  key: '',\n  type: 'unstyled',\n  text: '',\n  characterList: List(),\n  depth: 0,\n  data: Map()\n};\nvar ContentBlockRecord = Record(defaultRecord);\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlock = /*#__PURE__*/function (_ContentBlockRecord) {\n  _inheritsLoose(ContentBlock, _ContentBlockRecord);\n\n  function ContentBlock(config) {\n    return _ContentBlockRecord.call(this, decorateCharacterList(config)) || this;\n  }\n\n  var _proto = ContentBlock.prototype;\n\n  _proto.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getText = function getText() {\n    return this.get('text');\n  };\n\n  _proto.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  _proto.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  _proto.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  _proto.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  _proto.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  }\n  /**\n   * Execute a callback for every contiguous range of styles within the block.\n   */\n  ;\n\n  _proto.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  }\n  /**\n   * Execute a callback for every contiguous range of entities within the block.\n   */\n  ;\n\n  _proto.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlock;\n}(ContentBlockRecord);\n\nfunction haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n}\n\nfunction haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n}\n\nmodule.exports = ContentBlock;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\n\nfunction isNode(object) {\n  var doc = object ? object.ownerDocument || object : document;\n  var defaultView = doc.defaultView || window;\n  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;","// removeSubsets\n// Given an array of nodes, remove any member that is contained by another.\nexports.removeSubsets = function (nodes) {\n  var idx = nodes.length,\n      node,\n      ancestor,\n      replace; // Check if each node (or one of its ancestors) is already contained in the\n  // array.\n\n  while (--idx > -1) {\n    node = ancestor = nodes[idx]; // Temporarily remove the node under consideration\n\n    nodes[idx] = null;\n    replace = true;\n\n    while (ancestor) {\n      if (nodes.indexOf(ancestor) > -1) {\n        replace = false;\n        nodes.splice(idx, 1);\n        break;\n      }\n\n      ancestor = ancestor.parent;\n    } // If the node has been found to be unique, re-insert it.\n\n\n    if (replace) {\n      nodes[idx] = node;\n    }\n  }\n\n  return nodes;\n}; // Source: http://dom.spec.whatwg.org/#dom-node-comparedocumentposition\n\n\nvar POSITION = {\n  DISCONNECTED: 1,\n  PRECEDING: 2,\n  FOLLOWING: 4,\n  CONTAINS: 8,\n  CONTAINED_BY: 16\n}; // Compare the position of one node against another node in any other document.\n// The return value is a bitmask with the following values:\n//\n// document order:\n// > There is an ordering, document order, defined on all the nodes in the\n// > document corresponding to the order in which the first character of the\n// > XML representation of each node occurs in the XML representation of the\n// > document after expansion of general entities. Thus, the document element\n// > node will be the first node. Element nodes occur before their children.\n// > Thus, document order orders element nodes in order of the occurrence of\n// > their start-tag in the XML (after expansion of entities). The attribute\n// > nodes of an element occur after the element and before its children. The\n// > relative order of attribute nodes is implementation-dependent./\n// Source:\n// http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n//\n// @argument {Node} nodaA The first node to use in the comparison\n// @argument {Node} nodeB The second node to use in the comparison\n//\n// @return {Number} A bitmask describing the input nodes' relative position.\n//         See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n//         a description of these values.\n\nvar comparePos = exports.compareDocumentPosition = function (nodeA, nodeB) {\n  var aParents = [];\n  var bParents = [];\n  var current, sharedParent, siblings, aSibling, bSibling, idx;\n\n  if (nodeA === nodeB) {\n    return 0;\n  }\n\n  current = nodeA;\n\n  while (current) {\n    aParents.unshift(current);\n    current = current.parent;\n  }\n\n  current = nodeB;\n\n  while (current) {\n    bParents.unshift(current);\n    current = current.parent;\n  }\n\n  idx = 0;\n\n  while (aParents[idx] === bParents[idx]) {\n    idx++;\n  }\n\n  if (idx === 0) {\n    return POSITION.DISCONNECTED;\n  }\n\n  sharedParent = aParents[idx - 1];\n  siblings = sharedParent.children;\n  aSibling = aParents[idx];\n  bSibling = bParents[idx];\n\n  if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n    if (sharedParent === nodeB) {\n      return POSITION.FOLLOWING | POSITION.CONTAINED_BY;\n    }\n\n    return POSITION.FOLLOWING;\n  } else {\n    if (sharedParent === nodeA) {\n      return POSITION.PRECEDING | POSITION.CONTAINS;\n    }\n\n    return POSITION.PRECEDING;\n  }\n}; // Sort an array of nodes based on their relative position in the document and\n// remove any duplicate nodes. If the array contains nodes that do not belong\n// to the same document, sort order is unspecified.\n//\n// @argument {Array} nodes Array of DOM nodes\n//\n// @returns {Array} collection of unique nodes, sorted in document order\n\n\nexports.uniqueSort = function (nodes) {\n  var idx = nodes.length,\n      node,\n      position;\n  nodes = nodes.slice();\n\n  while (--idx > -1) {\n    node = nodes[idx];\n    position = nodes.indexOf(node);\n\n    if (position > -1 && position < idx) {\n      nodes.splice(idx, 1);\n    }\n  }\n\n  nodes.sort(function (a, b) {\n    var relative = comparePos(a, b);\n\n    if (relative & POSITION.PRECEDING) {\n      return -1;\n    } else if (relative & POSITION.FOLLOWING) {\n      return 1;\n    }\n\n    return 0;\n  });\n  return nodes;\n};","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction adjustBlockDepthForContentState(contentState, selectionState, adjustment, maxDepth) {\n  var startKey = selectionState.getStartKey();\n  var endKey = selectionState.getEndKey();\n  var blockMap = contentState.getBlockMap();\n  var blocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat([[endKey, blockMap.get(endKey)]]).map(function (block) {\n    var depth = block.getDepth() + adjustment;\n    depth = Math.max(0, Math.min(depth, maxDepth));\n    return block.set('depth', depth);\n  });\n  blockMap = blockMap.merge(blocks);\n  return contentState.merge({\n    blockMap: blockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = adjustBlockDepthForContentState;","// This object will be used as the prototype for Nodes when creating a\n// DOM-Level-1-compliant structure.\nvar NodePrototype = module.exports = {\n  get firstChild() {\n    var children = this.children;\n    return children && children[0] || null;\n  },\n\n  get lastChild() {\n    var children = this.children;\n    return children && children[children.length - 1] || null;\n  },\n\n  get nodeType() {\n    return nodeTypes[this.type] || nodeTypes.element;\n  }\n\n};\nvar domLvl1 = {\n  tagName: \"name\",\n  childNodes: \"children\",\n  parentNode: \"parent\",\n  previousSibling: \"prev\",\n  nextSibling: \"next\",\n  nodeValue: \"data\"\n};\nvar nodeTypes = {\n  element: 1,\n  text: 3,\n  cdata: 4,\n  comment: 8\n};\nObject.keys(domLvl1).forEach(function (key) {\n  var shorthand = domLvl1[key];\n  Object.defineProperty(NodePrototype, key, {\n    get: function get() {\n      return this[shorthand] || null;\n    },\n    set: function set(val) {\n      this[shorthand] = val;\n      return val;\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isValidTagOrAttributeName;\nvar VALID_TAG_REGEX = /^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/;\nvar nameCache = {};\n\nfunction isValidTagOrAttributeName(tagName) {\n  if (!nameCache.hasOwnProperty(tagName)) {\n    nameCache[tagName] = VALID_TAG_REGEX.test(tagName);\n  }\n\n  return nameCache[tagName];\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar KeyBindingUtil = require(\"./KeyBindingUtil\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar isOSX = UserAgent.isPlatform('Mac OS X'); // Firefox on OSX had a bug resulting in navigation instead of cursor movement.\n// This bug was fixed in Firefox 29. Feature detection is virtually impossible\n// so we just check the version number. See #342765.\n\nvar shouldFixFirefoxMovement = isOSX && UserAgent.isBrowser('Firefox < 29');\nvar hasCommandModifier = KeyBindingUtil.hasCommandModifier,\n    isCtrlKeyCommand = KeyBindingUtil.isCtrlKeyCommand;\n\nfunction shouldRemoveWord(e) {\n  return isOSX && e.altKey || isCtrlKeyCommand(e);\n}\n/**\n * Get the appropriate undo/redo command for a Z key command.\n */\n\n\nfunction getZCommand(e) {\n  if (!hasCommandModifier(e)) {\n    return null;\n  }\n\n  return e.shiftKey ? 'redo' : 'undo';\n}\n\nfunction getDeleteCommand(e) {\n  // Allow default \"cut\" behavior for PCs on Shift + Delete.\n  if (!isOSX && e.shiftKey) {\n    return null;\n  }\n\n  return shouldRemoveWord(e) ? 'delete-word' : 'delete';\n}\n\nfunction getBackspaceCommand(e) {\n  if (hasCommandModifier(e) && isOSX) {\n    return 'backspace-to-start-of-line';\n  }\n\n  return shouldRemoveWord(e) ? 'backspace-word' : 'backspace';\n}\n/**\n * Retrieve a bound key command for the given event.\n */\n\n\nfunction getDefaultKeyBinding(e) {\n  switch (e.keyCode) {\n    case 66:\n      // B\n      return hasCommandModifier(e) ? 'bold' : null;\n\n    case 68:\n      // D\n      return isCtrlKeyCommand(e) ? 'delete' : null;\n\n    case 72:\n      // H\n      return isCtrlKeyCommand(e) ? 'backspace' : null;\n\n    case 73:\n      // I\n      return hasCommandModifier(e) ? 'italic' : null;\n\n    case 74:\n      // J\n      return hasCommandModifier(e) ? 'code' : null;\n\n    case 75:\n      // K\n      return isOSX && isCtrlKeyCommand(e) ? 'secondary-cut' : null;\n\n    case 77:\n      // M\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n\n    case 79:\n      // O\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n\n    case 84:\n      // T\n      return isOSX && isCtrlKeyCommand(e) ? 'transpose-characters' : null;\n\n    case 85:\n      // U\n      return hasCommandModifier(e) ? 'underline' : null;\n\n    case 87:\n      // W\n      return isOSX && isCtrlKeyCommand(e) ? 'backspace-word' : null;\n\n    case 89:\n      // Y\n      if (isCtrlKeyCommand(e)) {\n        return isOSX ? 'secondary-paste' : 'redo';\n      }\n\n      return null;\n\n    case 90:\n      // Z\n      return getZCommand(e) || null;\n\n    case Keys.RETURN:\n      return 'split-block';\n\n    case Keys.DELETE:\n      return getDeleteCommand(e);\n\n    case Keys.BACKSPACE:\n      return getBackspaceCommand(e);\n    // LEFT/RIGHT handlers serve as a workaround for a Firefox bug.\n\n    case Keys.LEFT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-start-of-block' : null;\n\n    case Keys.RIGHT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-end-of-block' : null;\n\n    default:\n      return null;\n  }\n}\n\nmodule.exports = getDefaultKeyBinding;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar modifyBlockForContentState = require(\"./modifyBlockForContentState\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map;\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlock, belowBlock) {\n  return blockMap.withMutations(function (blocks) {\n    var originalBlockKey = originalBlock.getKey();\n    var belowBlockKey = belowBlock.getKey(); // update block parent\n\n    transformBlock(originalBlock.getParentKey(), blocks, function (block) {\n      var parentChildrenList = block.getChildKeys();\n      var insertionIndex = parentChildrenList.indexOf(originalBlockKey) + 1;\n      var newChildrenArray = parentChildrenList.toArray();\n      newChildrenArray.splice(insertionIndex, 0, belowBlockKey);\n      return block.merge({\n        children: List(newChildrenArray)\n      });\n    }); // update original next block\n\n    transformBlock(originalBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: belowBlockKey\n      });\n    }); // update original block\n\n    transformBlock(originalBlockKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: belowBlockKey\n      });\n    }); // update below block\n\n    transformBlock(belowBlockKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalBlockKey\n      });\n    });\n  });\n};\n\nvar splitBlockInContentState = function splitBlockInContentState(contentState, selectionState) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Selection range must be collapsed.') : invariant(false) : void 0;\n  var key = selectionState.getAnchorKey();\n  var blockMap = contentState.getBlockMap();\n  var blockToSplit = blockMap.get(key);\n  var text = blockToSplit.getText();\n\n  if (!text) {\n    var blockType = blockToSplit.getType();\n\n    if (blockType === 'unordered-list-item' || blockType === 'ordered-list-item') {\n      return modifyBlockForContentState(contentState, selectionState, function (block) {\n        return block.merge({\n          type: 'unstyled',\n          depth: 0\n        });\n      });\n    }\n  }\n\n  var offset = selectionState.getAnchorOffset();\n  var chars = blockToSplit.getCharacterList();\n  var keyBelow = generateRandomKey();\n  var isExperimentalTreeBlock = blockToSplit instanceof ContentBlockNode;\n  var blockAbove = blockToSplit.merge({\n    text: text.slice(0, offset),\n    characterList: chars.slice(0, offset)\n  });\n  var blockBelow = blockAbove.merge({\n    key: keyBelow,\n    text: text.slice(offset),\n    characterList: chars.slice(offset),\n    data: Map()\n  });\n  var blocksBefore = blockMap.toSeq().takeUntil(function (v) {\n    return v === blockToSplit;\n  });\n  var blocksAfter = blockMap.toSeq().skipUntil(function (v) {\n    return v === blockToSplit;\n  }).rest();\n  var newBlocks = blocksBefore.concat([[key, blockAbove], [keyBelow, blockBelow]], blocksAfter).toOrderedMap();\n\n  if (isExperimentalTreeBlock) {\n    !blockToSplit.getChildKeys().isEmpty() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ContentBlockNode must not have children') : invariant(false) : void 0;\n    newBlocks = updateBlockMapLinks(newBlocks, blockAbove, blockBelow);\n  }\n\n  return contentState.merge({\n    blockMap: newBlocks,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: keyBelow,\n      anchorOffset: 0,\n      focusKey: keyBelow,\n      focusOffset: 0,\n      isBackward: false\n    })\n  });\n};\n\nmodule.exports = splitBlockInContentState;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\n\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\n\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\n\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\n\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\n\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\n\nfunction getStrictDecoder(map) {\n  var keys = Object.keys(map).join(\"|\");\n  var replace = getReplacer(map);\n  keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n  var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n  return function (str) {\n    return String(str).replace(re, replace);\n  };\n}\n\nvar sorter = function sorter(a, b) {\n  return a < b ? 1 : -1;\n};\n\nexports.decodeHTML = function () {\n  var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n  var keys = Object.keys(entities_json_1.default).sort(sorter);\n\n  for (var i = 0, j = 0; i < keys.length; i++) {\n    if (legacy[j] === keys[i]) {\n      keys[i] += \";?\";\n      j++;\n    } else {\n      keys[i] += \";\";\n    }\n  }\n\n  var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n  var replace = getReplacer(entities_json_1.default);\n\n  function replacer(str) {\n    if (str.substr(-1) !== \";\") str += \";\";\n    return replace(str);\n  } //TODO consider creating a merged map\n\n\n  return function (str) {\n    return String(str).replace(re, replacer);\n  };\n}();\n\nfunction getReplacer(map) {\n  return function replace(str) {\n    if (str.charAt(1) === \"#\") {\n      var secondChar = str.charAt(2);\n\n      if (secondChar === \"X\" || secondChar === \"x\") {\n        return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n      }\n\n      return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n    }\n\n    return map[str.slice(1, -1)];\n  };\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This file is a fork of DraftEditorBlock.react.js and DraftEditorContents.react.js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DraftEditorNode = require(\"./DraftEditorNode.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar getElementPosition = require(\"fbjs/lib/getElementPosition\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar getViewportDimensions = require(\"fbjs/lib/getViewportDimensions\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar SCROLL_BUFFER = 10;\nvar List = Immutable.List; // we should harden up the bellow flow types to make them more strict\n\n/**\n * Return whether a block overlaps with either edge of the `SelectionState`.\n */\n\nvar isBlockOnSelectionEdge = function isBlockOnSelectionEdge(selection, key) {\n  return selection.getAnchorKey() === key || selection.getFocusKey() === key;\n};\n/**\n * We will use this helper to identify blocks that need to be wrapped but have siblings that\n * also share the same wrapper element, this way we can do the wrapping once the last sibling\n * is added.\n */\n\n\nvar shouldNotAddWrapperElement = function shouldNotAddWrapperElement(block, contentState) {\n  var nextSiblingKey = block.getNextSiblingKey();\n  return nextSiblingKey ? contentState.getBlockForKey(nextSiblingKey).getType() === block.getType() : false;\n};\n\nvar applyWrapperElementToSiblings = function applyWrapperElementToSiblings(wrapperTemplate, Element, nodes) {\n  var wrappedSiblings = []; // we check back until we find a sibling that does not have same wrapper\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes.reverse()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var sibling = _step.value;\n\n      if (sibling.type !== Element) {\n        break;\n      }\n\n      wrappedSiblings.push(sibling);\n    } // we now should remove from acc the wrappedSiblings and add them back under same wrap\n\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  nodes.splice(nodes.indexOf(wrappedSiblings[0]), wrappedSiblings.length + 1);\n  var childrenIs = wrappedSiblings.reverse();\n  var key = childrenIs[0].key;\n  nodes.push(React.cloneElement(wrapperTemplate, {\n    key: \"\".concat(key, \"-wrap\"),\n    'data-offset-key': DraftOffsetKey.encode(key, 0, 0)\n  }, childrenIs));\n  return nodes;\n};\n\nvar getDraftRenderConfig = function getDraftRenderConfig(block, blockRenderMap) {\n  var configForType = blockRenderMap.get(block.getType()) || blockRenderMap.get('unstyled');\n  var wrapperTemplate = configForType.wrapper;\n  var Element = configForType.element || blockRenderMap.get('unstyled').element;\n  return {\n    Element: Element,\n    wrapperTemplate: wrapperTemplate\n  };\n};\n\nvar getCustomRenderConfig = function getCustomRenderConfig(block, blockRendererFn) {\n  var customRenderer = blockRendererFn(block);\n\n  if (!customRenderer) {\n    return {};\n  }\n\n  var CustomComponent = customRenderer.component,\n      customProps = customRenderer.props,\n      customEditable = customRenderer.editable;\n  return {\n    CustomComponent: CustomComponent,\n    customProps: customProps,\n    customEditable: customEditable\n  };\n};\n\nvar getElementPropsConfig = function getElementPropsConfig(block, editorKey, offsetKey, blockStyleFn, customConfig, ref) {\n  var elementProps = {\n    'data-block': true,\n    'data-editor': editorKey,\n    'data-offset-key': offsetKey,\n    key: block.getKey(),\n    ref: ref\n  };\n  var customClass = blockStyleFn(block);\n\n  if (customClass) {\n    elementProps.className = customClass;\n  }\n\n  if (customConfig.customEditable !== undefined) {\n    elementProps = _objectSpread({}, elementProps, {\n      contentEditable: customConfig.customEditable,\n      suppressContentEditableWarning: true\n    });\n  }\n\n  return elementProps;\n};\n\nvar DraftEditorBlockNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorBlockNode, _React$Component);\n\n  function DraftEditorBlockNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"wrapperRef\", React.createRef());\n\n    return _this;\n  }\n\n  var _proto = DraftEditorBlockNode.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var _this$props = this.props,\n        block = _this$props.block,\n        direction = _this$props.direction,\n        tree = _this$props.tree;\n    var isContainerNode = !block.getChildKeys().isEmpty();\n    var blockHasChanged = block !== nextProps.block || tree !== nextProps.tree || direction !== nextProps.direction || isBlockOnSelectionEdge(nextProps.selection, nextProps.block.getKey()) && nextProps.forceSelection; // if we have children at this stage we always re-render container nodes\n    // else if its a root node we avoid re-rendering by checking for block updates\n\n    return isContainerNode || blockHasChanged;\n  }\n  /**\n   * When a block is mounted and overlaps the selection state, we need to make\n   * sure that the cursor is visible to match native behavior. This may not\n   * be the case if the user has pressed `RETURN` or pasted some content, since\n   * programatically creating these new blocks and setting the DOM selection\n   * will miss out on the browser natively scrolling to that position.\n   *\n   * To replicate native behavior, if the block overlaps the selection state\n   * on mount, force the scroll position. Check the scroll state of the scroll\n   * parent, and adjust it to align the entire block to the bottom of the\n   * scroll parent.\n   */\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var selection = this.props.selection;\n    var endKey = selection.getEndKey();\n\n    if (!selection.getHasFocus() || endKey !== this.props.block.getKey()) {\n      return;\n    }\n\n    var blockNode = this.wrapperRef.current;\n\n    if (!blockNode) {\n      // This Block Node was rendered without a wrapper element.\n      return;\n    }\n\n    var scrollParent = Style.getScrollParent(blockNode);\n    var scrollPosition = getScrollPosition(scrollParent);\n    var scrollDelta;\n\n    if (scrollParent === window) {\n      var nodePosition = getElementPosition(blockNode);\n      var nodeBottom = nodePosition.y + nodePosition.height;\n      var viewportHeight = getViewportDimensions().height;\n      scrollDelta = nodeBottom - viewportHeight;\n\n      if (scrollDelta > 0) {\n        window.scrollTo(scrollPosition.x, scrollPosition.y + scrollDelta + SCROLL_BUFFER);\n      }\n    } else {\n      !isHTMLElement(blockNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'blockNode is not an HTMLElement') : invariant(false) : void 0;\n      var htmlBlockNode = blockNode;\n      var blockBottom = htmlBlockNode.offsetHeight + htmlBlockNode.offsetTop;\n      var scrollBottom = scrollParent.offsetHeight + scrollPosition.y;\n      scrollDelta = blockBottom - scrollBottom;\n\n      if (scrollDelta > 0) {\n        Scroll.setTop(scrollParent, Scroll.getTop(scrollParent) + scrollDelta + SCROLL_BUFFER);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        block = _this$props2.block,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        contentState = _this$props2.contentState,\n        decorator = _this$props2.decorator,\n        editorKey = _this$props2.editorKey,\n        editorState = _this$props2.editorState,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        direction = _this$props2.direction,\n        forceSelection = _this$props2.forceSelection,\n        selection = _this$props2.selection,\n        tree = _this$props2.tree;\n    var children = null;\n\n    if (block.children.size) {\n      children = block.children.reduce(function (acc, key) {\n        var offsetKey = DraftOffsetKey.encode(key, 0, 0);\n        var child = contentState.getBlockForKey(key);\n        var customConfig = getCustomRenderConfig(child, blockRendererFn);\n        var Component = customConfig.CustomComponent || DraftEditorBlockNode;\n\n        var _getDraftRenderConfig = getDraftRenderConfig(child, blockRenderMap),\n            Element = _getDraftRenderConfig.Element,\n            wrapperTemplate = _getDraftRenderConfig.wrapperTemplate;\n\n        var elementProps = getElementPropsConfig(child, editorKey, offsetKey, blockStyleFn, customConfig, null);\n\n        var childProps = _objectSpread({}, _this2.props, {\n          tree: editorState.getBlockTree(key),\n          blockProps: customConfig.customProps,\n          offsetKey: offsetKey,\n          block: child\n        });\n\n        acc.push(React.createElement(Element, elementProps, React.createElement(Component, childProps)));\n\n        if (!wrapperTemplate || shouldNotAddWrapperElement(child, contentState)) {\n          return acc;\n        } // if we are here it means we are the last block\n        // that has a wrapperTemplate so we should wrap itself\n        // and all other previous siblings that share the same wrapper\n\n\n        applyWrapperElementToSiblings(wrapperTemplate, Element, acc);\n        return acc;\n      }, []);\n    }\n\n    var blockKey = block.getKey();\n    var offsetKey = DraftOffsetKey.encode(blockKey, 0, 0);\n    var customConfig = getCustomRenderConfig(block, blockRendererFn);\n    var Component = customConfig.CustomComponent;\n    var blockNode = Component != null ? React.createElement(Component, _extends({}, this.props, {\n      tree: editorState.getBlockTree(blockKey),\n      blockProps: customConfig.customProps,\n      offsetKey: offsetKey,\n      block: block\n    })) : React.createElement(DraftEditorNode, {\n      block: block,\n      children: children,\n      contentState: contentState,\n      customStyleFn: customStyleFn,\n      customStyleMap: customStyleMap,\n      decorator: decorator,\n      direction: direction,\n      forceSelection: forceSelection,\n      hasSelection: isBlockOnSelectionEdge(selection, blockKey),\n      selection: selection,\n      tree: tree\n    });\n\n    if (block.getParentKey()) {\n      return blockNode;\n    }\n\n    var _getDraftRenderConfig2 = getDraftRenderConfig(block, blockRenderMap),\n        Element = _getDraftRenderConfig2.Element;\n\n    var elementProps = getElementPropsConfig(block, editorKey, offsetKey, blockStyleFn, customConfig, this.wrapperRef); // root block nodes needs to be wrapped\n\n    return React.createElement(Element, elementProps, blockNode);\n  };\n\n  return DraftEditorBlockNode;\n}(React.Component);\n\nmodule.exports = DraftEditorBlockNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar KeyBindingUtil = require(\"./KeyBindingUtil\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar SecondaryClipboard = require(\"./SecondaryClipboard\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar keyCommandBackspaceToStartOfLine = require(\"./keyCommandBackspaceToStartOfLine\");\n\nvar keyCommandBackspaceWord = require(\"./keyCommandBackspaceWord\");\n\nvar keyCommandDeleteWord = require(\"./keyCommandDeleteWord\");\n\nvar keyCommandInsertNewline = require(\"./keyCommandInsertNewline\");\n\nvar keyCommandMoveSelectionToEndOfBlock = require(\"./keyCommandMoveSelectionToEndOfBlock\");\n\nvar keyCommandMoveSelectionToStartOfBlock = require(\"./keyCommandMoveSelectionToStartOfBlock\");\n\nvar keyCommandPlainBackspace = require(\"./keyCommandPlainBackspace\");\n\nvar keyCommandPlainDelete = require(\"./keyCommandPlainDelete\");\n\nvar keyCommandTransposeCharacters = require(\"./keyCommandTransposeCharacters\");\n\nvar keyCommandUndo = require(\"./keyCommandUndo\");\n\nvar isOptionKeyCommand = KeyBindingUtil.isOptionKeyCommand;\nvar isChrome = UserAgent.isBrowser('Chrome');\n/**\n * Map a `DraftEditorCommand` command value to a corresponding function.\n */\n\nfunction onKeyCommand(command, editorState, e) {\n  switch (command) {\n    case 'redo':\n      return EditorState.redo(editorState);\n\n    case 'delete':\n      return keyCommandPlainDelete(editorState);\n\n    case 'delete-word':\n      return keyCommandDeleteWord(editorState);\n\n    case 'backspace':\n      return keyCommandPlainBackspace(editorState);\n\n    case 'backspace-word':\n      return keyCommandBackspaceWord(editorState);\n\n    case 'backspace-to-start-of-line':\n      return keyCommandBackspaceToStartOfLine(editorState, e);\n\n    case 'split-block':\n      return keyCommandInsertNewline(editorState);\n\n    case 'transpose-characters':\n      return keyCommandTransposeCharacters(editorState);\n\n    case 'move-selection-to-start-of-block':\n      return keyCommandMoveSelectionToStartOfBlock(editorState);\n\n    case 'move-selection-to-end-of-block':\n      return keyCommandMoveSelectionToEndOfBlock(editorState);\n\n    case 'secondary-cut':\n      return SecondaryClipboard.cut(editorState);\n\n    case 'secondary-paste':\n      return SecondaryClipboard.paste(editorState);\n\n    default:\n      return editorState;\n  }\n}\n/**\n * Intercept keydown behavior to handle keys and commands manually, if desired.\n *\n * Keydown combinations may be mapped to `DraftCommand` values, which may\n * correspond to command functions that modify the editor or its contents.\n *\n * See `getDefaultKeyBinding` for defaults. Alternatively, the top-level\n * component may provide a custom mapping via the `keyBindingFn` prop.\n */\n\n\nfunction editOnKeyDown(editor, e) {\n  var keyCode = e.which;\n  var editorState = editor._latestEditorState;\n\n  function callDeprecatedHandler(handlerName) {\n    var deprecatedHandler = editor.props[handlerName];\n\n    if (deprecatedHandler) {\n      deprecatedHandler(e);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  switch (keyCode) {\n    case Keys.RETURN:\n      e.preventDefault(); // The top-level component may manually handle newline insertion. If\n      // no special handling is performed, fall through to command handling.\n\n      if (editor.props.handleReturn && isEventHandled(editor.props.handleReturn(e, editorState))) {\n        return;\n      }\n\n      break;\n\n    case Keys.ESC:\n      e.preventDefault();\n\n      if (callDeprecatedHandler('onEscape')) {\n        return;\n      }\n\n      break;\n\n    case Keys.TAB:\n      if (callDeprecatedHandler('onTab')) {\n        return;\n      }\n\n      break;\n\n    case Keys.UP:\n      if (callDeprecatedHandler('onUpArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.RIGHT:\n      if (callDeprecatedHandler('onRightArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.DOWN:\n      if (callDeprecatedHandler('onDownArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.LEFT:\n      if (callDeprecatedHandler('onLeftArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.SPACE:\n      // Prevent Chrome on OSX behavior where option + space scrolls.\n      if (isChrome && isOptionKeyCommand(e)) {\n        e.preventDefault();\n      }\n\n  }\n\n  var command = editor.props.keyBindingFn(e); // If no command is specified, allow keydown event to continue.\n\n  if (command == null || command === '') {\n    if (keyCode === Keys.SPACE && isChrome && isOptionKeyCommand(e)) {\n      // The default keydown event has already been prevented in order to stop\n      // Chrome from scrolling. Insert a nbsp into the editor as OSX would for\n      // other browsers.\n      var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), \"\\xA0\");\n      editor.update(EditorState.push(editorState, contentState, 'insert-characters'));\n    }\n\n    return;\n  }\n\n  if (command === 'undo') {\n    // Since undo requires some special updating behavior to keep the editor\n    // in sync, handle it separately.\n    keyCommandUndo(e, editorState, editor.update);\n    return;\n  } // At this point, we know that we're handling a command of some kind, so\n  // we don't want to insert a character following the keydown.\n\n\n  e.preventDefault(); // Allow components higher up the tree to handle the command first.\n\n  if (editor.props.handleKeyCommand && isEventHandled(editor.props.handleKeyCommand(command, editorState, e.timeStamp))) {\n    return;\n  }\n\n  var newState = onKeyCommand(command, editorState, e);\n\n  if (newState !== editorState) {\n    editor.update(newState);\n  }\n}\n\nmodule.exports = editOnKeyDown;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DraftEditorTextNode = require(\"./DraftEditorTextNode.react\");\n\nvar React = require(\"react\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLBRElement = require(\"./isHTMLBRElement\");\n\nvar setDraftEditorSelection = require(\"./setDraftEditorSelection\").setDraftEditorSelection;\n/**\n * All leaf nodes in the editor are spans with single text nodes. Leaf\n * elements are styled based on the merging of an optional custom style map\n * and a default style map.\n *\n * `DraftEditorLeaf` also provides a wrapper for calling into the imperative\n * DOM Selection API. In this way, top-level components can declaratively\n * maintain the selection state.\n */\n\n\nvar DraftEditorLeaf = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorLeaf, _React$Component);\n\n  function DraftEditorLeaf() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"leaf\", void 0);\n\n    return _this;\n  }\n\n  var _proto = DraftEditorLeaf.prototype;\n\n  _proto._setSelection = function _setSelection() {\n    var selection = this.props.selection; // If selection state is irrelevant to the parent block, no-op.\n\n    if (selection == null || !selection.getHasFocus()) {\n      return;\n    }\n\n    var _this$props = this.props,\n        block = _this$props.block,\n        start = _this$props.start,\n        text = _this$props.text;\n    var blockKey = block.getKey();\n    var end = start + text.length;\n\n    if (!selection.hasEdgeWithin(blockKey, start, end)) {\n      return;\n    } // Determine the appropriate target node for selection. If the child\n    // is not a text node, it is a <br /> spacer. In this case, use the\n    // <span> itself as the selection target.\n\n\n    var node = this.leaf;\n    !node ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing node') : invariant(false) : void 0;\n    var child = node.firstChild;\n    !child ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing child') : invariant(false) : void 0;\n    var targetNode;\n\n    if (child.nodeType === Node.TEXT_NODE) {\n      targetNode = child;\n    } else if (isHTMLBRElement(child)) {\n      targetNode = node;\n    } else {\n      targetNode = child.firstChild;\n      !targetNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing targetNode') : invariant(false) : void 0;\n    }\n\n    setDraftEditorSelection(selection, targetNode, blockKey, start, end);\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var leafNode = this.leaf;\n    !leafNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing leafNode') : invariant(false) : void 0;\n    var shouldUpdate = leafNode.textContent !== nextProps.text || nextProps.styleSet !== this.props.styleSet || nextProps.forceSelection;\n    return shouldUpdate;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._setSelection();\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._setSelection();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var block = this.props.block;\n    var text = this.props.text; // If the leaf is at the end of its block and ends in a soft newline, append\n    // an extra line feed character. Browsers collapse trailing newline\n    // characters, which leaves the cursor in the wrong place after a\n    // shift+enter. The extra character repairs this.\n\n    if (text.endsWith('\\n') && this.props.isLast) {\n      text += '\\n';\n    }\n\n    var _this$props2 = this.props,\n        customStyleMap = _this$props2.customStyleMap,\n        customStyleFn = _this$props2.customStyleFn,\n        offsetKey = _this$props2.offsetKey,\n        styleSet = _this$props2.styleSet;\n    var styleObj = styleSet.reduce(function (map, styleName) {\n      var mergedStyles = {};\n      var style = customStyleMap[styleName];\n\n      if (style !== undefined && map.textDecoration !== style.textDecoration) {\n        // .trim() is necessary for IE9/10/11 and Edge\n        mergedStyles.textDecoration = [map.textDecoration, style.textDecoration].join(' ').trim();\n      }\n\n      return _assign(map, style, mergedStyles);\n    }, {});\n\n    if (customStyleFn) {\n      var newStyles = customStyleFn(styleSet, block);\n      styleObj = _assign(styleObj, newStyles);\n    }\n\n    return React.createElement(\"span\", {\n      \"data-offset-key\": offsetKey,\n      ref: function ref(_ref) {\n        return _this2.leaf = _ref;\n      },\n      style: styleObj\n    }, React.createElement(DraftEditorTextNode, null, text));\n  };\n\n  return DraftEditorLeaf;\n}(React.Component);\n\nmodule.exports = DraftEditorLeaf;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar UserAgentData = require(\"./UserAgentData\");\n\nvar VersionRange = require(\"./VersionRange\");\n\nvar mapObject = require(\"./mapObject\");\n\nvar memoizeStringOnly = require(\"./memoizeStringOnly\");\n/**\n * Checks to see whether `name` and `version` satisfy `query`.\n *\n * @param {string} name Name of the browser, device, engine or platform\n * @param {?string} version Version of the browser, engine or platform\n * @param {string} query Query of form \"Name [range expression]\"\n * @param {?function} normalizer Optional pre-processor for range expression\n * @return {boolean}\n */\n\n\nfunction compare(name, version, query, normalizer) {\n  // check for exact match with no version\n  if (name === query) {\n    return true;\n  } // check for non-matching names\n\n\n  if (!query.startsWith(name)) {\n    return false;\n  } // full comparison with version\n\n\n  var range = query.slice(name.length);\n\n  if (version) {\n    range = normalizer ? normalizer(range) : range;\n    return VersionRange.contains(range, version);\n  }\n\n  return false;\n}\n/**\n * Normalizes `version` by stripping any \"NT\" prefix, but only on the Windows\n * platform.\n *\n * Mimics the stripping performed by the `UserAgentWindowsPlatform` PHP class.\n *\n * @param {string} version\n * @return {string}\n */\n\n\nfunction normalizePlatformVersion(version) {\n  if (UserAgentData.platformName === 'Windows') {\n    return version.replace(/^\\s*NT/, '');\n  }\n\n  return version;\n}\n/**\n * Provides client-side access to the authoritative PHP-generated User Agent\n * information supplied by the server.\n */\n\n\nvar UserAgent = {\n  /**\n   * Check if the User Agent browser matches `query`.\n   *\n   * `query` should be a string like \"Chrome\" or \"Chrome > 33\".\n   *\n   * Valid browser names include:\n   *\n   * - ACCESS NetFront\n   * - AOL\n   * - Amazon Silk\n   * - Android\n   * - BlackBerry\n   * - BlackBerry PlayBook\n   * - Chrome\n   * - Chrome for iOS\n   * - Chrome frame\n   * - Facebook PHP SDK\n   * - Facebook for iOS\n   * - Firefox\n   * - IE\n   * - IE Mobile\n   * - Mobile Safari\n   * - Motorola Internet Browser\n   * - Nokia\n   * - Openwave Mobile Browser\n   * - Opera\n   * - Opera Mini\n   * - Opera Mobile\n   * - Safari\n   * - UIWebView\n   * - Unknown\n   * - webOS\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `BrowserDetector` class and\n   * related classes in the same file (see calls to `new UserAgentBrowser` here:\n   * https://fburl.com/50728104).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isBrowser: function isBrowser(query) {\n    return compare(UserAgentData.browserName, UserAgentData.browserFullVersion, query);\n  },\n\n  /**\n   * Check if the User Agent browser uses a 32 or 64 bit architecture.\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"32\" or \"64\".\n   * @return {boolean}\n   */\n  isBrowserArchitecture: function isBrowserArchitecture(query) {\n    return compare(UserAgentData.browserArchitecture, null, query);\n  },\n\n  /**\n   * Check if the User Agent device matches `query`.\n   *\n   * `query` should be a string like \"iPhone\" or \"iPad\".\n   *\n   * Valid device names include:\n   *\n   * - Kindle\n   * - Kindle Fire\n   * - Unknown\n   * - iPad\n   * - iPhone\n   * - iPod\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `DeviceDetector` class and\n   * related classes in the same file (see calls to `new UserAgentDevice` here:\n   * https://fburl.com/50728332).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name\"\n   * @return {boolean}\n   */\n  isDevice: function isDevice(query) {\n    return compare(UserAgentData.deviceName, null, query);\n  },\n\n  /**\n   * Check if the User Agent rendering engine matches `query`.\n   *\n   * `query` should be a string like \"WebKit\" or \"WebKit >= 537\".\n   *\n   * Valid engine names include:\n   *\n   * - Gecko\n   * - Presto\n   * - Trident\n   * - WebKit\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `RenderingEngineDetector`\n   * class related classes in the same file (see calls to `new\n   * UserAgentRenderingEngine` here: https://fburl.com/50728617).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isEngine: function isEngine(query) {\n    return compare(UserAgentData.engineName, UserAgentData.engineVersion, query);\n  },\n\n  /**\n   * Check if the User Agent platform matches `query`.\n   *\n   * `query` should be a string like \"Windows\" or \"iOS 5 - 6\".\n   *\n   * Valid platform names include:\n   *\n   * - Android\n   * - BlackBerry OS\n   * - Java ME\n   * - Linux\n   * - Mac OS X\n   * - Mac OS X Calendar\n   * - Mac OS X Internet Account\n   * - Symbian\n   * - SymbianOS\n   * - Windows\n   * - Windows Mobile\n   * - Windows Phone\n   * - iOS\n   * - iOS Facebook Integration Account\n   * - iOS Facebook Social Sharing UI\n   * - webOS\n   * - Chrome OS\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `PlatformDetector` class and\n   * related classes in the same file (see calls to `new UserAgentPlatform`\n   * here: https://fburl.com/50729226).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isPlatform: function isPlatform(query) {\n    return compare(UserAgentData.platformName, UserAgentData.platformFullVersion, query, normalizePlatformVersion);\n  },\n\n  /**\n   * Check if the User Agent platform is a 32 or 64 bit architecture.\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"32\" or \"64\".\n   * @return {boolean}\n   */\n  isPlatformArchitecture: function isPlatformArchitecture(query) {\n    return compare(UserAgentData.platformArchitecture, null, query);\n  }\n};\nmodule.exports = mapObject(UserAgent, memoizeStringOnly);","var DomUtils = module.exports;\n[require(\"./lib/stringify\"), require(\"./lib/traversal\"), require(\"./lib/manipulation\"), require(\"./lib/querying\"), require(\"./lib/legacy\"), require(\"./lib/helpers\")].forEach(function (ext) {\n  Object.keys(ext).forEach(function (key) {\n    DomUtils[key] = ext[key].bind(DomUtils);\n  });\n});","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Given a collapsed selection, move the focus `maxDistance` forward within\n * the selected block. If the selection will go beyond the end of the block,\n * move focus to the start of the next block, but no further.\n *\n * This function is not Unicode-aware, so surrogate pairs will be treated\n * as having length 2.\n */\n\n\nfunction moveSelectionForward(editorState, maxDistance) {\n  var selection = editorState.getSelection(); // Should eventually make this an invariant\n\n  process.env.NODE_ENV !== \"production\" ? warning(selection.isCollapsed(), 'moveSelectionForward should only be called with a collapsed SelectionState') : void 0;\n  var key = selection.getStartKey();\n  var offset = selection.getStartOffset();\n  var content = editorState.getCurrentContent();\n  var focusKey = key;\n  var focusOffset;\n  var block = content.getBlockForKey(key);\n\n  if (maxDistance > block.getText().length - offset) {\n    focusKey = content.getKeyAfter(key);\n    focusOffset = 0;\n  } else {\n    focusOffset = offset + maxDistance;\n  }\n\n  return selection.merge({\n    focusKey: focusKey,\n    focusOffset: focusOffset\n  });\n}\n\nmodule.exports = moveSelectionForward;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar randomizeBlockMapKeys = require(\"./randomizeBlockMapKeys\");\n\nvar removeEntitiesAtEdges = require(\"./removeEntitiesAtEdges\");\n\nvar getContentStateFragment = function getContentStateFragment(contentState, selectionState) {\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset(); // Edge entities should be stripped to ensure that we don't preserve\n  // invalid partial entities when the fragment is reused. We do, however,\n  // preserve entities that are entirely within the selection range.\n\n  var contentWithoutEdgeEntities = removeEntitiesAtEdges(contentState, selectionState);\n  var blockMap = contentWithoutEdgeEntities.getBlockMap();\n  var blockKeys = blockMap.keySeq();\n  var startIndex = blockKeys.indexOf(startKey);\n  var endIndex = blockKeys.indexOf(endKey) + 1;\n  return randomizeBlockMapKeys(blockMap.slice(startIndex, endIndex).map(function (block, blockKey) {\n    var text = block.getText();\n    var chars = block.getCharacterList();\n\n    if (startKey === endKey) {\n      return block.merge({\n        text: text.slice(startOffset, endOffset),\n        characterList: chars.slice(startOffset, endOffset)\n      });\n    }\n\n    if (blockKey === startKey) {\n      return block.merge({\n        text: text.slice(startOffset),\n        characterList: chars.slice(startOffset)\n      });\n    }\n\n    if (blockKey === endKey) {\n      return block.merge({\n        text: text.slice(0, endOffset),\n        characterList: chars.slice(0, endOffset)\n      });\n    }\n\n    return block;\n  }));\n};\n\nmodule.exports = getContentStateFragment;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n'use strict';\n\nvar getDocumentScrollElement = require(\"./getDocumentScrollElement\");\n\nvar getUnboundedScrollPosition = require(\"./getUnboundedScrollPosition\");\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are bounded. This means that if the scroll position is\n * negative or exceeds the element boundaries (which is possible using inertial\n * scrolling), you will get zero or the maximum scroll position, respectively.\n *\n * If you need the unbound scroll position, use `getUnboundedScrollPosition`.\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\n\nfunction getScrollPosition(scrollable) {\n  var documentScrollElement = getDocumentScrollElement(scrollable.ownerDocument || scrollable.document);\n\n  if (scrollable.Window && scrollable instanceof scrollable.Window) {\n    scrollable = documentScrollElement;\n  }\n\n  var scrollPosition = getUnboundedScrollPosition(scrollable);\n  var viewport = scrollable === documentScrollElement ? scrollable.ownerDocument.documentElement : scrollable;\n  var xMax = scrollable.scrollWidth - viewport.clientWidth;\n  var yMax = scrollable.scrollHeight - viewport.clientHeight;\n  scrollPosition.x = Math.max(0, Math.min(scrollPosition.x, xMax));\n  scrollPosition.y = Math.max(0, Math.min(scrollPosition.y, yMax));\n  return scrollPosition;\n}\n\nmodule.exports = getScrollPosition;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DraftEditorLeaf = require(\"./DraftEditorLeaf.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UnicodeBidi = require(\"fbjs/lib/UnicodeBidi\");\n\nvar UnicodeBidiDirection = require(\"fbjs/lib/UnicodeBidiDirection\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar getElementPosition = require(\"fbjs/lib/getElementPosition\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar getViewportDimensions = require(\"fbjs/lib/getViewportDimensions\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar SCROLL_BUFFER = 10;\n/**\n * Return whether a block overlaps with either edge of the `SelectionState`.\n */\n\nvar isBlockOnSelectionEdge = function isBlockOnSelectionEdge(selection, key) {\n  return selection.getAnchorKey() === key || selection.getFocusKey() === key;\n};\n/**\n * The default block renderer for a `DraftEditor` component.\n *\n * A `DraftEditorBlock` is able to render a given `ContentBlock` to its\n * appropriate decorator and inline style components.\n */\n\n\nvar DraftEditorBlock = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorBlock, _React$Component);\n\n  function DraftEditorBlock() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_node\", void 0);\n\n    return _this;\n  }\n\n  var _proto = DraftEditorBlock.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.block !== nextProps.block || this.props.tree !== nextProps.tree || this.props.direction !== nextProps.direction || isBlockOnSelectionEdge(nextProps.selection, nextProps.block.getKey()) && nextProps.forceSelection;\n  }\n  /**\n   * When a block is mounted and overlaps the selection state, we need to make\n   * sure that the cursor is visible to match native behavior. This may not\n   * be the case if the user has pressed `RETURN` or pasted some content, since\n   * programmatically creating these new blocks and setting the DOM selection\n   * will miss out on the browser natively scrolling to that position.\n   *\n   * To replicate native behavior, if the block overlaps the selection state\n   * on mount, force the scroll position. Check the scroll state of the scroll\n   * parent, and adjust it to align the entire block to the bottom of the\n   * scroll parent.\n   */\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.preventScroll) {\n      return;\n    }\n\n    var selection = this.props.selection;\n    var endKey = selection.getEndKey();\n\n    if (!selection.getHasFocus() || endKey !== this.props.block.getKey()) {\n      return;\n    }\n\n    var blockNode = this._node;\n\n    if (blockNode == null) {\n      return;\n    }\n\n    var scrollParent = Style.getScrollParent(blockNode);\n    var scrollPosition = getScrollPosition(scrollParent);\n    var scrollDelta;\n\n    if (scrollParent === window) {\n      var nodePosition = getElementPosition(blockNode);\n      var nodeBottom = nodePosition.y + nodePosition.height;\n      var viewportHeight = getViewportDimensions().height;\n      scrollDelta = nodeBottom - viewportHeight;\n\n      if (scrollDelta > 0) {\n        window.scrollTo(scrollPosition.x, scrollPosition.y + scrollDelta + SCROLL_BUFFER);\n      }\n    } else {\n      !isHTMLElement(blockNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'blockNode is not an HTMLElement') : invariant(false) : void 0;\n      var blockBottom = blockNode.offsetHeight + blockNode.offsetTop;\n      var pOffset = scrollParent.offsetTop + scrollParent.offsetHeight;\n      var scrollBottom = pOffset + scrollPosition.y;\n      scrollDelta = blockBottom - scrollBottom;\n\n      if (scrollDelta > 0) {\n        Scroll.setTop(scrollParent, Scroll.getTop(scrollParent) + scrollDelta + SCROLL_BUFFER);\n      }\n    }\n  };\n\n  _proto._renderChildren = function _renderChildren() {\n    var _this2 = this;\n\n    var block = this.props.block;\n    var blockKey = block.getKey();\n    var text = block.getText();\n    var lastLeafSet = this.props.tree.size - 1;\n    var hasSelection = isBlockOnSelectionEdge(this.props.selection, blockKey);\n    return this.props.tree.map(function (leafSet, ii) {\n      var leavesForLeafSet = leafSet.get('leaves'); // T44088704\n\n      if (leavesForLeafSet.size === 0) {\n        return null;\n      }\n\n      var lastLeaf = leavesForLeafSet.size - 1;\n      var leaves = leavesForLeafSet.map(function (leaf, jj) {\n        var offsetKey = DraftOffsetKey.encode(blockKey, ii, jj);\n        var start = leaf.get('start');\n        var end = leaf.get('end');\n        return React.createElement(DraftEditorLeaf, {\n          key: offsetKey,\n          offsetKey: offsetKey,\n          block: block,\n          start: start,\n          selection: hasSelection ? _this2.props.selection : null,\n          forceSelection: _this2.props.forceSelection,\n          text: text.slice(start, end),\n          styleSet: block.getInlineStyleAt(start),\n          customStyleMap: _this2.props.customStyleMap,\n          customStyleFn: _this2.props.customStyleFn,\n          isLast: ii === lastLeafSet && jj === lastLeaf\n        });\n      }).toArray();\n      var decoratorKey = leafSet.get('decoratorKey');\n\n      if (decoratorKey == null) {\n        return leaves;\n      }\n\n      if (!_this2.props.decorator) {\n        return leaves;\n      }\n\n      var decorator = nullthrows(_this2.props.decorator);\n      var DecoratorComponent = decorator.getComponentForKey(decoratorKey);\n\n      if (!DecoratorComponent) {\n        return leaves;\n      }\n\n      var decoratorProps = decorator.getPropsForKey(decoratorKey);\n      var decoratorOffsetKey = DraftOffsetKey.encode(blockKey, ii, 0);\n      var start = leavesForLeafSet.first().get('start');\n      var end = leavesForLeafSet.last().get('end');\n      var decoratedText = text.slice(start, end);\n      var entityKey = block.getEntityAt(leafSet.get('start')); // Resetting dir to the same value on a child node makes Chrome/Firefox\n      // confused on cursor movement. See http://jsfiddle.net/d157kLck/3/\n\n      var dir = UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText), _this2.props.direction);\n      var commonProps = {\n        contentState: _this2.props.contentState,\n        decoratedText: decoratedText,\n        dir: dir,\n        start: start,\n        end: end,\n        blockKey: blockKey,\n        entityKey: entityKey,\n        offsetKey: decoratorOffsetKey\n      };\n      return React.createElement(DecoratorComponent, _extends({}, decoratorProps, commonProps, {\n        key: decoratorOffsetKey\n      }), leaves);\n    }).toArray();\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var _this$props = this.props,\n        direction = _this$props.direction,\n        offsetKey = _this$props.offsetKey;\n    var className = cx({\n      'public/DraftStyleDefault/block': true,\n      'public/DraftStyleDefault/ltr': direction === 'LTR',\n      'public/DraftStyleDefault/rtl': direction === 'RTL'\n    });\n    return React.createElement(\"div\", {\n      \"data-offset-key\": offsetKey,\n      className: className,\n      ref: function ref(_ref) {\n        return _this3._node = _ref;\n      }\n    }, this._renderChildren());\n  };\n\n  return DraftEditorBlock;\n}(React.Component);\n\nmodule.exports = DraftEditorBlock;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * List of boolean attributes\n * These attributes should have their React attribute value set to be the same as their name\n * E.g. <input disabled> = <input disabled>\n *      <input disabled=\"\"> = <input disabled>\n *      <input disabled=\"disabled\"> = <input disabled>\n * @type {Array}\n */\n\nexports.default = ['allowfullScreen', 'async', 'autoplay', 'capture', 'checked', 'controls', 'default', 'defer', 'disabled', 'formnovalidate', 'hidden', 'loop', 'multiple', 'muted', 'novalidate', 'open', 'playsinline', 'readonly', 'required', 'reversed', 'scoped', 'seamless', 'selected', 'itemscope'];","import toInteger from '../toInteger/index.js';\nimport getUTCWeekYear from '../getUTCWeekYear/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport startOfUTCWeekYear from '../startOfUTCWeekYear/index.js';\nimport requiredArgs from '../requiredArgs/index.js';\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TagElementType;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _processNodes = require('../processNodes');\n\nvar _processNodes2 = _interopRequireDefault(_processNodes);\n\nvar _generatePropsFromAttributes = require('../utils/generatePropsFromAttributes');\n\nvar _generatePropsFromAttributes2 = _interopRequireDefault(_generatePropsFromAttributes);\n\nvar _VoidElements = require('../dom/elements/VoidElements');\n\nvar _VoidElements2 = _interopRequireDefault(_VoidElements);\n\nvar _isValidTagOrAttributeName = require('../utils/isValidTagOrAttributeName');\n\nvar _isValidTagOrAttributeName2 = _interopRequireDefault(_isValidTagOrAttributeName);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Converts any element (excluding style - see StyleElementType - and script) to a react element.\n *\n * @param {Object} node The tag node\n * @param {String} index The index of the React element relative to it's parent\n * @param {Function} transform The transform function to apply to all children\n * @returns {React.Element} The React tag element\n */\n\n\nfunction TagElementType(node, index, transform) {\n  var tagName = node.name; // validate tag name\n\n  if (!(0, _isValidTagOrAttributeName2.default)(tagName)) {\n    return null;\n  } // generate props\n\n\n  var props = (0, _generatePropsFromAttributes2.default)(node.attribs, index); // If the node is not a void element and has children then process them\n\n  var children = null;\n\n  if (_VoidElements2.default.indexOf(tagName) === -1) {\n    children = (0, _processNodes2.default)(node.children, transform);\n  } // create and return the element\n\n\n  return _react2.default.createElement(tagName, props, children);\n}","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nfunction getCorrectDocumentFromNode(node) {\n  if (!node || !node.ownerDocument) {\n    return document;\n  }\n\n  return node.ownerDocument;\n}\n\nmodule.exports = getCorrectDocumentFromNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nmodule.exports = {\n  logBlockedSelectionEvent: function logBlockedSelectionEvent() {\n    return null;\n  },\n  logSelectionStateFailure: function logSelectionStateFailure() {\n    return null;\n  }\n};","/*\n  Module dependencies\n*/\nvar ElementType = require('domelementtype');\n\nvar entities = require('entities');\n/* mixed-case SVG and MathML tags & attributes\n   recognized by the HTML parser, see\n   https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n*/\n\n\nvar foreignNames = require('./foreignNames.json');\n\nforeignNames.elementNames.__proto__ = null;\n/* use as a simple dictionary */\n\nforeignNames.attributeNames.__proto__ = null;\nvar unencodedElements = {\n  __proto__: null,\n  style: true,\n  script: true,\n  xmp: true,\n  iframe: true,\n  noembed: true,\n  noframes: true,\n  plaintext: true,\n  noscript: true\n};\n/*\n  Format attributes\n*/\n\nfunction formatAttrs(attributes, opts) {\n  if (!attributes) return;\n  var output = '';\n  var value; // Loop through the attributes\n\n  for (var key in attributes) {\n    value = attributes[key];\n\n    if (output) {\n      output += ' ';\n    }\n\n    if (opts.xmlMode === 'foreign') {\n      /* fix up mixed-case attribute names */\n      key = foreignNames.attributeNames[key] || key;\n    }\n\n    output += key;\n\n    if (value !== null && value !== '' || opts.xmlMode) {\n      output += '=\"' + (opts.decodeEntities ? entities.encodeXML(value) : value.replace(/\\\"/g, '&quot;')) + '\"';\n    }\n  }\n\n  return output;\n}\n/*\n  Self-enclosing tags (stolen from node-htmlparser)\n*/\n\n\nvar singleTag = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  command: true,\n  embed: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true\n};\n\nvar render = module.exports = function (dom, opts) {\n  if (!Array.isArray(dom) && !dom.cheerio) dom = [dom];\n  opts = opts || {};\n  var output = '';\n\n  for (var i = 0; i < dom.length; i++) {\n    var elem = dom[i];\n    if (elem.type === 'root') output += render(elem.children, opts);else if (ElementType.isTag(elem)) output += renderTag(elem, opts);else if (elem.type === ElementType.Directive) output += renderDirective(elem);else if (elem.type === ElementType.Comment) output += renderComment(elem);else if (elem.type === ElementType.CDATA) output += renderCdata(elem);else output += renderText(elem, opts);\n  }\n\n  return output;\n};\n\nvar foreignModeIntegrationPoints = ['mi', 'mo', 'mn', 'ms', 'mtext', 'annotation-xml', 'foreignObject', 'desc', 'title'];\n\nfunction renderTag(elem, opts) {\n  // Handle SVG / MathML in HTML\n  if (opts.xmlMode === 'foreign') {\n    /* fix up mixed-case element names */\n    elem.name = foreignNames.elementNames[elem.name] || elem.name;\n    /* exit foreign mode at integration points */\n\n    if (elem.parent && foreignModeIntegrationPoints.indexOf(elem.parent.name) >= 0) opts = Object.assign({}, opts, {\n      xmlMode: false\n    });\n  }\n\n  if (!opts.xmlMode && ['svg', 'math'].indexOf(elem.name) >= 0) {\n    opts = Object.assign({}, opts, {\n      xmlMode: 'foreign'\n    });\n  }\n\n  var tag = '<' + elem.name;\n  var attribs = formatAttrs(elem.attribs, opts);\n\n  if (attribs) {\n    tag += ' ' + attribs;\n  }\n\n  if (opts.xmlMode && (!elem.children || elem.children.length === 0)) {\n    tag += '/>';\n  } else {\n    tag += '>';\n\n    if (elem.children) {\n      tag += render(elem.children, opts);\n    }\n\n    if (!singleTag[elem.name] || opts.xmlMode) {\n      tag += '</' + elem.name + '>';\n    }\n  }\n\n  return tag;\n}\n\nfunction renderDirective(elem) {\n  return '<' + elem.data + '>';\n}\n\nfunction renderText(elem, opts) {\n  var data = elem.data || ''; // if entities weren't decoded, no need to encode them back\n\n  if (opts.decodeEntities && !(elem.parent && elem.parent.name in unencodedElements)) {\n    data = entities.encodeXML(data);\n  }\n\n  return data;\n}\n\nfunction renderCdata(elem) {\n  return '<![CDATA[' + elem.children[0].data + ']]>';\n}\n\nfunction renderComment(elem) {\n  return '<!--' + elem.data + '-->';\n}","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nvar isElement = require(\"./isElement\");\n\nfunction isHTMLImageElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return isElement(node) && node.nodeName === 'IMG';\n}\n\nmodule.exports = isHTMLImageElement;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * Provides utilities for handling draftjs keys.\n *\n * @emails oncall+draft_js\n * \n * @format\n */\n'use strict';\n\nfunction notEmptyKey(key) {\n  return key != null && key != '';\n}\n\nmodule.exports = {\n  notEmptyKey: notEmptyKey\n};","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nfunction isElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return node.nodeType === Node.ELEMENT_NODE;\n}\n\nmodule.exports = isElement;","'use strict';\n\nexports.byteLength = byteLength;\nexports.toByteArray = toByteArray;\nexports.fromByteArray = fromByteArray;\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n} // Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\n\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens(b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4');\n  } // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n\n\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n  var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n  return [validLen, placeHoldersLen];\n} // base64 is 4/3 + up to two characters of the original data\n\n\nfunction byteLength(b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction _byteLength(b64, validLen, placeHoldersLen) {\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction toByteArray(b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n  var curByte = 0; // if there are placeholders, only get up to the last complete 4 chars\n\n  var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n  var i;\n\n  for (i = 0; i < len; i += 4) {\n    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = tmp >> 16 & 0xFF;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr;\n}\n\nfunction tripletToBase64(num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n}\n\nfunction encodeChunk(uint8, start, end) {\n  var tmp;\n  var output = [];\n\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n\n  return output.join('');\n}\n\nfunction fromByteArray(uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n  // go through the array every three bytes, we'll deal with trailing stuff later\n\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n  } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');\n  }\n\n  return parts.join('');\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar expandRangeToStartOfLine = require(\"./expandRangeToStartOfLine\");\n\nvar getDraftEditorSelectionWithNodes = require(\"./getDraftEditorSelectionWithNodes\");\n\nvar moveSelectionBackward = require(\"./moveSelectionBackward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n\nfunction keyCommandBackspaceToStartOfLine(editorState, e) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n\n    if (selection.isCollapsed() && selection.getAnchorOffset() === 0) {\n      return moveSelectionBackward(strategyState, 1);\n    }\n\n    var ownerDocument = e.currentTarget.ownerDocument;\n    var domSelection = ownerDocument.defaultView.getSelection(); // getRangeAt can technically throw if there's no selection, but we know\n    // there is one here because text editor has focus (the cursor is a\n    // selection of length 0). Therefore, we don't need to wrap this in a\n    // try-catch block.\n\n    var range = domSelection.getRangeAt(0);\n    range = expandRangeToStartOfLine(range);\n    return getDraftEditorSelectionWithNodes(strategyState, null, range.endContainer, range.endOffset, range.startContainer, range.startOffset).selectionState;\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandBackspaceToStartOfLine;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar TEXT_CLIPPING_REGEX = /\\.textClipping$/;\nvar TEXT_TYPES = {\n  'text/plain': true,\n  'text/html': true,\n  'text/rtf': true\n}; // Somewhat arbitrary upper bound on text size. Let's not lock up the browser.\n\nvar TEXT_SIZE_UPPER_BOUND = 5000;\n/**\n * Extract the text content from a file list.\n */\n\nfunction getTextContentFromFiles(files, callback) {\n  var readCount = 0;\n  var results = [];\n  files.forEach(function (\n  /*blob*/\n  file) {\n    readFile(file, function (\n    /*string*/\n    text) {\n      readCount++;\n      text && results.push(text.slice(0, TEXT_SIZE_UPPER_BOUND));\n\n      if (readCount == files.length) {\n        callback(results.join('\\r'));\n      }\n    });\n  });\n}\n/**\n * todo isaac: Do work to turn html/rtf into a content fragment.\n */\n\n\nfunction readFile(file, callback) {\n  if (!global.FileReader || file.type && !(file.type in TEXT_TYPES)) {\n    callback('');\n    return;\n  }\n\n  if (file.type === '') {\n    var _contents = ''; // Special-case text clippings, which have an empty type but include\n    // `.textClipping` in the file name. `readAsText` results in an empty\n    // string for text clippings, so we force the file name to serve\n    // as the text value for the file.\n\n    if (TEXT_CLIPPING_REGEX.test(file.name)) {\n      _contents = file.name.replace(TEXT_CLIPPING_REGEX, '');\n    }\n\n    callback(_contents);\n    return;\n  }\n\n  var reader = new FileReader();\n\n  reader.onload = function () {\n    var result = reader.result;\n    !(typeof result === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'We should be calling \"FileReader.readAsText\" which returns a string') : invariant(false) : void 0;\n    callback(result);\n  };\n\n  reader.onerror = function () {\n    callback('');\n  };\n\n  reader.readAsText(file);\n}\n\nmodule.exports = getTextContentFromFiles;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n/**\n * This component is responsible for rendering placeholder text for the\n * `DraftEditor` component.\n *\n * Override placeholder style via CSS.\n */\n\n\nvar DraftEditorPlaceholder = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorPlaceholder, _React$Component);\n\n  function DraftEditorPlaceholder() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorPlaceholder.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.text !== nextProps.text || this.props.editorState.getSelection().getHasFocus() !== nextProps.editorState.getSelection().getHasFocus();\n  };\n\n  _proto.render = function render() {\n    var hasFocus = this.props.editorState.getSelection().getHasFocus();\n    var className = cx({\n      'public/DraftEditorPlaceholder/root': true,\n      'public/DraftEditorPlaceholder/hasFocus': hasFocus\n    });\n    var contentStyle = {\n      whiteSpace: 'pre-wrap'\n    };\n    return React.createElement(\"div\", {\n      className: className\n    }, React.createElement(\"div\", {\n      className: cx('public/DraftEditorPlaceholder/inner'),\n      id: this.props.accessibilityID,\n      style: contentStyle\n    }, this.props.text));\n  };\n\n  return DraftEditorPlaceholder;\n}(React.Component);\n\nmodule.exports = DraftEditorPlaceholder;","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar getRangeClientRects = require(\"./getRangeClientRects\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n/**\n * Return the computed line height, in pixels, for the provided element.\n */\n\n\nfunction getLineHeightPx(element) {\n  var computed = getComputedStyle(element);\n  var correctDocument = getCorrectDocumentFromNode(element);\n  var div = correctDocument.createElement('div');\n  div.style.fontFamily = computed.fontFamily;\n  div.style.fontSize = computed.fontSize;\n  div.style.fontStyle = computed.fontStyle;\n  div.style.fontWeight = computed.fontWeight;\n  div.style.lineHeight = computed.lineHeight;\n  div.style.position = 'absolute';\n  div.textContent = 'M';\n  var documentBody = correctDocument.body;\n  !documentBody ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing document.body') : invariant(false) : void 0; // forced layout here\n\n  documentBody.appendChild(div);\n  var rect = div.getBoundingClientRect();\n  documentBody.removeChild(div);\n  return rect.height;\n}\n/**\n * Return whether every ClientRect in the provided list lies on the same line.\n *\n * We assume that the rects on the same line all contain the baseline, so the\n * lowest top line needs to be above the highest bottom line (i.e., if you were\n * to project the rects onto the y-axis, their intersection would be nonempty).\n *\n * In addition, we require that no two boxes are lineHeight (or more) apart at\n * either top or bottom, which helps protect against false positives for fonts\n * with extremely large glyph heights (e.g., with a font size of 17px, Zapfino\n * produces rects of height 58px!).\n */\n\n\nfunction areRectsOnOneLine(rects, lineHeight) {\n  var minTop = Infinity;\n  var minBottom = Infinity;\n  var maxTop = -Infinity;\n  var maxBottom = -Infinity;\n\n  for (var ii = 0; ii < rects.length; ii++) {\n    var rect = rects[ii];\n\n    if (rect.width === 0 || rect.width === 1) {\n      // When a range starts or ends a soft wrap, many browsers (Chrome, IE,\n      // Safari) include an empty rect on the previous or next line. When the\n      // text lies in a container whose position is not integral (e.g., from\n      // margin: auto), Safari makes these empty rects have width 1 (instead of\n      // 0). Having one-pixel-wide characters seems unlikely (and most browsers\n      // report widths in subpixel precision anyway) so it's relatively safe to\n      // skip over them.\n      continue;\n    }\n\n    minTop = Math.min(minTop, rect.top);\n    minBottom = Math.min(minBottom, rect.bottom);\n    maxTop = Math.max(maxTop, rect.top);\n    maxBottom = Math.max(maxBottom, rect.bottom);\n  }\n\n  return maxTop <= minBottom && maxTop - minTop < lineHeight && maxBottom - minBottom < lineHeight;\n}\n/**\n * Return the length of a node, as used by Range offsets.\n */\n\n\nfunction getNodeLength(node) {\n  // http://www.w3.org/TR/dom/#concept-node-length\n  switch (node.nodeType) {\n    case Node.DOCUMENT_TYPE_NODE:\n      return 0;\n\n    case Node.TEXT_NODE:\n    case Node.PROCESSING_INSTRUCTION_NODE:\n    case Node.COMMENT_NODE:\n      return node.length;\n\n    default:\n      return node.childNodes.length;\n  }\n}\n/**\n * Given a collapsed range, move the start position backwards as far as\n * possible while the range still spans only a single line.\n */\n\n\nfunction expandRangeToStartOfLine(range) {\n  !range.collapsed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'expandRangeToStartOfLine: Provided range is not collapsed.') : invariant(false) : void 0;\n  range = range.cloneRange();\n  var containingElement = range.startContainer;\n\n  if (containingElement.nodeType !== 1) {\n    containingElement = containingElement.parentNode;\n  }\n\n  var lineHeight = getLineHeightPx(containingElement); // Imagine our text looks like:\n  //   <div><span>once upon a time, there was a <em>boy\n  //   who lived</em> </span><q><strong>under^ the\n  //   stairs</strong> in a small closet.</q></div>\n  // where the caret represents the cursor. First, we crawl up the tree until\n  // the range spans multiple lines (setting the start point to before\n  // \"<strong>\", then before \"<div>\"), then at each level we do a search to\n  // find the latest point which is still on a previous line. We'll find that\n  // the break point is inside the span, then inside the <em>, then in its text\n  // node child, the actual break point before \"who\".\n\n  var bestContainer = range.endContainer;\n  var bestOffset = range.endOffset;\n  range.setStart(range.startContainer, 0);\n\n  while (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {\n    bestContainer = range.startContainer;\n    bestOffset = range.startOffset;\n    !bestContainer.parentNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Found unexpected detached subtree when traversing.') : invariant(false) : void 0;\n    range.setStartBefore(bestContainer);\n\n    if (bestContainer.nodeType === 1 && getComputedStyle(bestContainer).display !== 'inline') {\n      // The start of the line is never in a different block-level container.\n      break;\n    }\n  } // In the above example, range now spans from \"<div>\" to \"under\",\n  // bestContainer is <div>, and bestOffset is 1 (index of <q> inside <div>)].\n  // Picking out which child to recurse into here is a special case since we\n  // don't want to check past <q> -- once we find that the final range starts\n  // in <span>, we can look at all of its children (and all of their children)\n  // to find the break point.\n  // At all times, (bestContainer, bestOffset) is the latest single-line start\n  // point that we know of.\n\n\n  var currentContainer = bestContainer;\n  var maxIndexToConsider = bestOffset - 1;\n\n  do {\n    var nodeValue = currentContainer.nodeValue;\n    var ii = maxIndexToConsider;\n\n    for (; ii >= 0; ii--) {\n      if (nodeValue != null && ii > 0 && UnicodeUtils.isSurrogatePair(nodeValue, ii - 1)) {\n        // We're in the middle of a surrogate pair -- skip over so we never\n        // return a range with an endpoint in the middle of a code point.\n        continue;\n      }\n\n      range.setStart(currentContainer, ii);\n\n      if (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {\n        bestContainer = currentContainer;\n        bestOffset = ii;\n      } else {\n        break;\n      }\n    }\n\n    if (ii === -1 || currentContainer.childNodes.length === 0) {\n      // If ii === -1, then (bestContainer, bestOffset), which is equal to\n      // (currentContainer, 0), was a single-line start point but a start\n      // point before currentContainer wasn't, so the line break seems to\n      // have occurred immediately after currentContainer's start tag\n      //\n      // If currentContainer.childNodes.length === 0, we're already at a\n      // terminal node (e.g., text node) and should return our current best.\n      break;\n    }\n\n    currentContainer = currentContainer.childNodes[ii];\n    maxIndexToConsider = getNodeLength(currentContainer);\n  } while (true);\n\n  range.setStart(bestContainer, bestOffset);\n  return range;\n}\n\nmodule.exports = expandRangeToStartOfLine;","\"use strict\";\n/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @typechecks\n * \n * @format\n */\n\n/*eslint-disable no-bitwise */\n\n/**\n * Based on the rfc4122-compliant solution posted at\n * http://stackoverflow.com/questions/105034\n */\n\nfunction uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nmodule.exports = uuid;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar REGEX_BLOCK_DELIMITER = new RegExp('\\r', 'g');\n\nfunction sanitizeDraftText(input) {\n  return input.replace(REGEX_BLOCK_DELIMITER, '');\n}\n\nmodule.exports = sanitizeDraftText;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar getNextDelimiterBlockKey = require(\"./getNextDelimiterBlockKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar OrderedMap = Immutable.OrderedMap,\n    List = Immutable.List;\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockToBeMoved, originalTargetBlock, insertionMode, isExperimentalTreeBlock) {\n  if (!isExperimentalTreeBlock) {\n    return blockMap;\n  } // possible values of 'insertionMode' are: 'after', 'before'\n\n\n  var isInsertedAfterTarget = insertionMode === 'after';\n  var originalBlockKey = originalBlockToBeMoved.getKey();\n  var originalTargetKey = originalTargetBlock.getKey();\n  var originalParentKey = originalBlockToBeMoved.getParentKey();\n  var originalNextSiblingKey = originalBlockToBeMoved.getNextSiblingKey();\n  var originalPrevSiblingKey = originalBlockToBeMoved.getPrevSiblingKey();\n  var newParentKey = originalTargetBlock.getParentKey();\n  var newNextSiblingKey = isInsertedAfterTarget ? originalTargetBlock.getNextSiblingKey() : originalTargetKey;\n  var newPrevSiblingKey = isInsertedAfterTarget ? originalTargetKey : originalTargetBlock.getPrevSiblingKey();\n  return blockMap.withMutations(function (blocks) {\n    // update old parent\n    transformBlock(originalParentKey, blocks, function (block) {\n      var parentChildrenList = block.getChildKeys();\n      return block.merge({\n        children: parentChildrenList[\"delete\"](parentChildrenList.indexOf(originalBlockKey))\n      });\n    }); // update old prev\n\n    transformBlock(originalPrevSiblingKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: originalNextSiblingKey\n      });\n    }); // update old next\n\n    transformBlock(originalNextSiblingKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalPrevSiblingKey\n      });\n    }); // update new next\n\n    transformBlock(newNextSiblingKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalBlockKey\n      });\n    }); // update new prev\n\n    transformBlock(newPrevSiblingKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: originalBlockKey\n      });\n    }); // update new parent\n\n    transformBlock(newParentKey, blocks, function (block) {\n      var newParentChildrenList = block.getChildKeys();\n      var targetBlockIndex = newParentChildrenList.indexOf(originalTargetKey);\n      var insertionIndex = isInsertedAfterTarget ? targetBlockIndex + 1 : targetBlockIndex !== 0 ? targetBlockIndex - 1 : 0;\n      var newChildrenArray = newParentChildrenList.toArray();\n      newChildrenArray.splice(insertionIndex, 0, originalBlockKey);\n      return block.merge({\n        children: List(newChildrenArray)\n      });\n    }); // update block\n\n    transformBlock(originalBlockKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: newNextSiblingKey,\n        prevSibling: newPrevSiblingKey,\n        parent: newParentKey\n      });\n    });\n  });\n};\n\nvar moveBlockInContentState = function moveBlockInContentState(contentState, blockToBeMoved, targetBlock, insertionMode) {\n  !(insertionMode !== 'replace') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Replacing blocks is not supported.') : invariant(false) : void 0;\n  var targetKey = targetBlock.getKey();\n  var blockKey = blockToBeMoved.getKey();\n  !(blockKey !== targetKey) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n  var blockMap = contentState.getBlockMap();\n  var isExperimentalTreeBlock = blockToBeMoved instanceof ContentBlockNode;\n  var blocksToBeMoved = [blockToBeMoved];\n  var blockMapWithoutBlocksToBeMoved = blockMap[\"delete\"](blockKey);\n\n  if (isExperimentalTreeBlock) {\n    blocksToBeMoved = [];\n    blockMapWithoutBlocksToBeMoved = blockMap.withMutations(function (blocks) {\n      var nextSiblingKey = blockToBeMoved.getNextSiblingKey();\n      var nextDelimiterBlockKey = getNextDelimiterBlockKey(blockToBeMoved, blocks);\n      blocks.toSeq().skipUntil(function (block) {\n        return block.getKey() === blockKey;\n      }).takeWhile(function (block) {\n        var key = block.getKey();\n        var isBlockToBeMoved = key === blockKey;\n        var hasNextSiblingAndIsNotNextSibling = nextSiblingKey && key !== nextSiblingKey;\n        var doesNotHaveNextSiblingAndIsNotDelimiter = !nextSiblingKey && block.getParentKey() && (!nextDelimiterBlockKey || key !== nextDelimiterBlockKey);\n        return !!(isBlockToBeMoved || hasNextSiblingAndIsNotNextSibling || doesNotHaveNextSiblingAndIsNotDelimiter);\n      }).forEach(function (block) {\n        blocksToBeMoved.push(block);\n        blocks[\"delete\"](block.getKey());\n      });\n    });\n  }\n\n  var blocksBefore = blockMapWithoutBlocksToBeMoved.toSeq().takeUntil(function (v) {\n    return v === targetBlock;\n  });\n  var blocksAfter = blockMapWithoutBlocksToBeMoved.toSeq().skipUntil(function (v) {\n    return v === targetBlock;\n  }).skip(1);\n  var slicedBlocks = blocksToBeMoved.map(function (block) {\n    return [block.getKey(), block];\n  });\n  var newBlocks = OrderedMap();\n\n  if (insertionMode === 'before') {\n    var blockBefore = contentState.getBlockBefore(targetKey);\n    !(!blockBefore || blockBefore.getKey() !== blockToBeMoved.getKey()) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n    newBlocks = blocksBefore.concat([].concat(slicedBlocks, [[targetKey, targetBlock]]), blocksAfter).toOrderedMap();\n  } else if (insertionMode === 'after') {\n    var blockAfter = contentState.getBlockAfter(targetKey);\n    !(!blockAfter || blockAfter.getKey() !== blockKey) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n    newBlocks = blocksBefore.concat([[targetKey, targetBlock]].concat(slicedBlocks), blocksAfter).toOrderedMap();\n  }\n\n  return contentState.merge({\n    blockMap: updateBlockMapLinks(newBlocks, blockToBeMoved, targetBlock, insertionMode, isExperimentalTreeBlock),\n    selectionBefore: contentState.getSelectionAfter(),\n    selectionAfter: contentState.getSelectionAfter().merge({\n      anchorKey: blockKey,\n      focusKey: blockKey\n    })\n  });\n};\n\nmodule.exports = moveBlockInContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Stateful API for text direction detection\n *\n * This class can be used in applications where you need to detect the\n * direction of a sequence of text blocks, where each direction shall be used\n * as the fallback direction for the next one.\n *\n * NOTE: A default direction, if not provided, is set based on the global\n *       direction, as defined by `UnicodeBidiDirection`.\n *\n * == Example ==\n * ```\n * var UnicodeBidiService = require('UnicodeBidiService');\n *\n * var bidiService = new UnicodeBidiService();\n *\n * ...\n *\n * bidiService.reset();\n * for (var para in paragraphs) {\n *   var dir = bidiService.getDirection(para);\n *   ...\n * }\n * ```\n *\n * Part of our implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar UnicodeBidi = require(\"./UnicodeBidi\");\n\nvar UnicodeBidiDirection = require(\"./UnicodeBidiDirection\");\n\nvar invariant = require(\"./invariant\");\n\nvar UnicodeBidiService = /*#__PURE__*/function () {\n  /**\n   * Stateful class for paragraph direction detection\n   *\n   * @param defaultDir  Default direction of the service\n   */\n  function UnicodeBidiService(defaultDir) {\n    _defineProperty(this, \"_defaultDir\", void 0);\n\n    _defineProperty(this, \"_lastDir\", void 0);\n\n    if (!defaultDir) {\n      defaultDir = UnicodeBidiDirection.getGlobalDir();\n    } else {\n      !UnicodeBidiDirection.isStrong(defaultDir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Default direction must be a strong direction (LTR or RTL)') : invariant(false) : void 0;\n    }\n\n    this._defaultDir = defaultDir;\n    this.reset();\n  }\n  /**\n   * Reset the internal state\n   *\n   * Instead of creating a new instance, you can just reset() your instance\n   * everytime you start a new loop.\n   */\n\n\n  var _proto = UnicodeBidiService.prototype;\n\n  _proto.reset = function reset() {\n    this._lastDir = this._defaultDir;\n  };\n  /**\n   * Returns the direction of a block of text, and remembers it as the\n   * fall-back direction for the next paragraph.\n   *\n   * @param str  A text block, e.g. paragraph, table cell, tag\n   * @return     The resolved direction\n   */\n\n\n  _proto.getDirection = function getDirection(str) {\n    this._lastDir = UnicodeBidi.getDirection(str, this._lastDir);\n    return this._lastDir;\n  };\n\n  return UnicodeBidiService;\n}();\n\nmodule.exports = UnicodeBidiService;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DataTransfer = require(\"fbjs/lib/DataTransfer\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar getTextContentFromFiles = require(\"./getTextContentFromFiles\");\n\nvar getUpdatedSelectionState = require(\"./getUpdatedSelectionState\");\n\nvar getWindowForNode = require(\"./getWindowForNode\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n/**\n * Get a SelectionState for the supplied mouse event.\n */\n\n\nfunction getSelectionForEvent(event, editorState) {\n  var node = null;\n  var offset = null;\n  var eventTargetDocument = getCorrectDocumentFromNode(event.currentTarget);\n  /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n   * suppresses an error found when Flow v0.68 was deployed. To see the error\n   * delete this comment and run Flow. */\n\n  if (typeof eventTargetDocument.caretRangeFromPoint === 'function') {\n    /* $FlowFixMe[incompatible-use] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n    var dropRange = eventTargetDocument.caretRangeFromPoint(event.x, event.y);\n    node = dropRange.startContainer;\n    offset = dropRange.startOffset;\n  } else if (event.rangeParent) {\n    node = event.rangeParent;\n    offset = event.rangeOffset;\n  } else {\n    return null;\n  }\n\n  node = nullthrows(node);\n  offset = nullthrows(offset);\n  var offsetKey = nullthrows(findAncestorOffsetKey(node));\n  return getUpdatedSelectionState(editorState, offsetKey, offset, offsetKey, offset);\n}\n\nvar DraftEditorDragHandler = {\n  /**\n   * Drag originating from input terminated.\n   */\n  onDragEnd: function onDragEnd(editor) {\n    editor.exitCurrentMode();\n    endDrag(editor);\n  },\n\n  /**\n   * Handle data being dropped.\n   */\n  onDrop: function onDrop(editor, e) {\n    var data = new DataTransfer(e.nativeEvent.dataTransfer);\n    var editorState = editor._latestEditorState;\n    var dropSelection = getSelectionForEvent(e.nativeEvent, editorState);\n    e.preventDefault();\n    editor._dragCount = 0;\n    editor.exitCurrentMode();\n\n    if (dropSelection == null) {\n      return;\n    }\n\n    var files = data.getFiles();\n\n    if (files.length > 0) {\n      if (editor.props.handleDroppedFiles && isEventHandled(editor.props.handleDroppedFiles(dropSelection, files))) {\n        return;\n      }\n      /* $FlowFixMe[incompatible-call] This comment suppresses an error found\n       * DataTransfer was typed. getFiles() returns an array of <Files extends\n       * Blob>, not Blob */\n\n\n      getTextContentFromFiles(files, function (fileText) {\n        fileText && editor.update(insertTextAtSelection(editorState, dropSelection, fileText));\n      });\n      return;\n    }\n\n    var dragType = editor._internalDrag ? 'internal' : 'external';\n\n    if (editor.props.handleDrop && isEventHandled(editor.props.handleDrop(dropSelection, data, dragType))) {// handled\n    } else if (editor._internalDrag) {\n      editor.update(moveText(editorState, dropSelection));\n    } else {\n      editor.update(insertTextAtSelection(editorState, dropSelection, data.getText()));\n    }\n\n    endDrag(editor);\n  }\n};\n\nfunction endDrag(editor) {\n  editor._internalDrag = false; // Fix issue #1383\n  // Prior to React v16.5.0 onDrop breaks onSelect event:\n  // https://github.com/facebook/react/issues/11379.\n  // Dispatching a mouseup event on DOM node will make it go back to normal.\n\n  var editorNode = editor.editorContainer;\n\n  if (editorNode) {\n    var mouseUpEvent = new MouseEvent('mouseup', {\n      view: getWindowForNode(editorNode),\n      bubbles: true,\n      cancelable: true\n    });\n    editorNode.dispatchEvent(mouseUpEvent);\n  }\n}\n\nfunction moveText(editorState, targetSelection) {\n  var newContentState = DraftModifier.moveText(editorState.getCurrentContent(), editorState.getSelection(), targetSelection);\n  return EditorState.push(editorState, newContentState, 'insert-fragment');\n}\n/**\n * Insert text at a specified selection.\n */\n\n\nfunction insertTextAtSelection(editorState, selection, text) {\n  var newContentState = DraftModifier.insertText(editorState.getCurrentContent(), selection, text, editorState.getCurrentInlineStyle());\n  return EditorState.push(editorState, newContentState, 'insert-fragment');\n}\n\nmodule.exports = DraftEditorDragHandler;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar getSelectionOffsetKeyForNode = require(\"./getSelectionOffsetKeyForNode\");\n\nvar getUpdatedSelectionState = require(\"./getUpdatedSelectionState\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n/**\n * Convert the current selection range to an anchor/focus pair of offset keys\n * and values that can be interpreted by components.\n */\n\n\nfunction getDraftEditorSelectionWithNodes(editorState, root, anchorNode, anchorOffset, focusNode, focusOffset) {\n  var anchorIsTextNode = anchorNode.nodeType === Node.TEXT_NODE;\n  var focusIsTextNode = focusNode.nodeType === Node.TEXT_NODE; // If the selection range lies only on text nodes, the task is simple.\n  // Find the nearest offset-aware elements and use the\n  // offset values supplied by the selection range.\n\n  if (anchorIsTextNode && focusIsTextNode) {\n    return {\n      selectionState: getUpdatedSelectionState(editorState, nullthrows(findAncestorOffsetKey(anchorNode)), anchorOffset, nullthrows(findAncestorOffsetKey(focusNode)), focusOffset),\n      needsRecovery: false\n    };\n  }\n\n  var anchorPoint = null;\n  var focusPoint = null;\n  var needsRecovery = true; // An element is selected. Convert this selection range into leaf offset\n  // keys and offset values for consumption at the component level. This\n  // is common in Firefox, where select-all and triple click behavior leads\n  // to entire elements being selected.\n  //\n  // Note that we use the `needsRecovery` parameter in the callback here. This\n  // is because when certain elements are selected, the behavior for subsequent\n  // cursor movement (e.g. via arrow keys) is uncertain and may not match\n  // expectations at the component level. For example, if an entire <div> is\n  // selected and the user presses the right arrow, Firefox keeps the selection\n  // on the <div>. If we allow subsequent keypresses to insert characters\n  // natively, they will be inserted into a browser-created text node to the\n  // right of that <div>. This is obviously undesirable.\n  //\n  // With the `needsRecovery` flag, we inform the caller that it is responsible\n  // for manually setting the selection state on the rendered document to\n  // ensure proper selection state maintenance.\n\n  if (anchorIsTextNode) {\n    anchorPoint = {\n      key: nullthrows(findAncestorOffsetKey(anchorNode)),\n      offset: anchorOffset\n    };\n    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset);\n  } else if (focusIsTextNode) {\n    focusPoint = {\n      key: nullthrows(findAncestorOffsetKey(focusNode)),\n      offset: focusOffset\n    };\n    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);\n  } else {\n    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);\n    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset); // If the selection is collapsed on an empty block, don't force recovery.\n    // This way, on arrow key selection changes, the browser can move the\n    // cursor from a non-zero offset on one block, through empty blocks,\n    // to a matching non-zero offset on other text blocks.\n\n    if (anchorNode === focusNode && anchorOffset === focusOffset) {\n      needsRecovery = !!anchorNode.firstChild && anchorNode.firstChild.nodeName !== 'BR';\n    }\n  }\n\n  return {\n    selectionState: getUpdatedSelectionState(editorState, anchorPoint.key, anchorPoint.offset, focusPoint.key, focusPoint.offset),\n    needsRecovery: needsRecovery\n  };\n}\n/**\n * Identify the first leaf descendant for the given node.\n */\n\n\nfunction getFirstLeaf(node) {\n  while (node.firstChild && ( // data-blocks has no offset\n  isElement(node.firstChild) && node.firstChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.firstChild))) {\n    node = node.firstChild;\n  }\n\n  return node;\n}\n/**\n * Identify the last leaf descendant for the given node.\n */\n\n\nfunction getLastLeaf(node) {\n  while (node.lastChild && ( // data-blocks has no offset\n  isElement(node.lastChild) && node.lastChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.lastChild))) {\n    node = node.lastChild;\n  }\n\n  return node;\n}\n\nfunction getPointForNonTextNode(editorRoot, startNode, childOffset) {\n  var node = startNode;\n  var offsetKey = findAncestorOffsetKey(node);\n  !(offsetKey != null || editorRoot && (editorRoot === node || editorRoot.firstChild === node)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unknown node in selection range.') : invariant(false) : void 0; // If the editorRoot is the selection, step downward into the content\n  // wrapper.\n\n  if (editorRoot === node) {\n    node = node.firstChild;\n    !isElement(node) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid DraftEditorContents node.') : invariant(false) : void 0;\n    var castedNode = node; // assignment only added for flow :/\n    // otherwise it throws in line 200 saying that node can be null or undefined\n\n    node = castedNode;\n    !(node.getAttribute('data-contents') === 'true') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid DraftEditorContents structure.') : invariant(false) : void 0;\n\n    if (childOffset > 0) {\n      childOffset = node.childNodes.length;\n    }\n  } // If the child offset is zero and we have an offset key, we're done.\n  // If there's no offset key because the entire editor is selected,\n  // find the leftmost (\"first\") leaf in the tree and use that as the offset\n  // key.\n\n\n  if (childOffset === 0) {\n    var key = null;\n\n    if (offsetKey != null) {\n      key = offsetKey;\n    } else {\n      var firstLeaf = getFirstLeaf(node);\n      key = nullthrows(getSelectionOffsetKeyForNode(firstLeaf));\n    }\n\n    return {\n      key: key,\n      offset: 0\n    };\n  }\n\n  var nodeBeforeCursor = node.childNodes[childOffset - 1];\n  var leafKey = null;\n  var textLength = null;\n\n  if (!getSelectionOffsetKeyForNode(nodeBeforeCursor)) {\n    // Our target node may be a leaf or a text node, in which case we're\n    // already where we want to be and can just use the child's length as\n    // our offset.\n    leafKey = nullthrows(offsetKey);\n    textLength = getTextContentLength(nodeBeforeCursor);\n  } else {\n    // Otherwise, we'll look at the child to the left of the cursor and find\n    // the last leaf node in its subtree.\n    var lastLeaf = getLastLeaf(nodeBeforeCursor);\n    leafKey = nullthrows(getSelectionOffsetKeyForNode(lastLeaf));\n    textLength = getTextContentLength(lastLeaf);\n  }\n\n  return {\n    key: leafKey,\n    offset: textLength\n  };\n}\n/**\n * Return the length of a node's textContent, regarding single newline\n * characters as zero-length. This allows us to avoid problems with identifying\n * the correct selection offset for empty blocks in IE, in which we\n * render newlines instead of break tags.\n */\n\n\nfunction getTextContentLength(node) {\n  var textContent = node.textContent;\n  return textContent === '\\n' ? 0 : textContent.length;\n}\n\nmodule.exports = getDraftEditorSelectionWithNodes;","function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n'use strict';\n\nvar gkx = require(\"./gkx\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nmodule.exports = experimentalTreeDataSupport ? require(\"./DraftEditorContentsExperimental.react\") : require(\"./DraftEditorContents-core.react\");","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar KEY_DELIMITER = '-';\nvar DraftOffsetKey = {\n  encode: function encode(blockKey, decoratorKey, leafKey) {\n    return blockKey + KEY_DELIMITER + decoratorKey + KEY_DELIMITER + leafKey;\n  },\n  decode: function decode(offsetKey) {\n    // Extracts the last two parts of offsetKey and captures the rest in blockKeyParts\n    var _offsetKey$split$reve = offsetKey.split(KEY_DELIMITER).reverse(),\n        leafKey = _offsetKey$split$reve[0],\n        decoratorKey = _offsetKey$split$reve[1],\n        blockKeyParts = _offsetKey$split$reve.slice(2);\n\n    return {\n      // Recomposes the parts of blockKey after reversing them\n      blockKey: blockKeyParts.reverse().join(KEY_DELIMITER),\n      decoratorKey: parseInt(decoratorKey, 10),\n      leafKey: parseInt(leafKey, 10)\n    };\n  }\n};\nmodule.exports = DraftOffsetKey;","var MILLISECONDS_IN_MINUTE = 60000;\n\nfunction getDateMillisecondsPart(date) {\n  return date.getTime() % MILLISECONDS_IN_MINUTE;\n}\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\n\n\nexport default function getTimezoneOffsetInMilliseconds(dirtyDate) {\n  var date = new Date(dirtyDate.getTime());\n  var baseTimezoneOffset = Math.ceil(date.getTimezoneOffset());\n  date.setSeconds(0, 0);\n  var hasNegativeUTCOffset = baseTimezoneOffset > 0;\n  var millisecondsPartOfTimezoneOffset = hasNegativeUTCOffset ? (MILLISECONDS_IN_MINUTE + getDateMillisecondsPart(date)) % MILLISECONDS_IN_MINUTE : getDateMillisecondsPart(date);\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE + millisecondsPartOfTimezoneOffset;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar containsNode = require(\"fbjs/lib/containsNode\");\n\nvar getActiveElement = require(\"fbjs/lib/getActiveElement\");\n\nfunction editOnBlur(editor, e) {\n  // In a contentEditable element, when you select a range and then click\n  // another active element, this does trigger a `blur` event but will not\n  // remove the DOM selection from the contenteditable.\n  // This is consistent across all browsers, but we prefer that the editor\n  // behave like a textarea, where a `blur` event clears the DOM selection.\n  // We therefore force the issue to be certain, checking whether the active\n  // element is `body` to force it when blurring occurs within the window (as\n  // opposed to clicking to another tab or window).\n  var ownerDocument = e.currentTarget.ownerDocument;\n\n  if ( // This ESLint rule conflicts with `sketchy-null-bool` flow check\n  // eslint-disable-next-line no-extra-boolean-cast\n  !Boolean(editor.props.preserveSelectionOnBlur) && getActiveElement(ownerDocument) === ownerDocument.body) {\n    var _selection = ownerDocument.defaultView.getSelection();\n\n    var editorNode = editor.editor;\n\n    if (_selection.rangeCount === 1 && containsNode(editorNode, _selection.anchorNode) && containsNode(editorNode, _selection.focusNode)) {\n      _selection.removeAllRanges();\n    }\n  }\n\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n\n  if (!currentSelection.getHasFocus()) {\n    return;\n  }\n\n  var selection = currentSelection.set('hasFocus', false);\n  editor.props.onBlur && editor.props.onBlur(e);\n  editor.update(EditorState.acceptSelection(editorState, selection));\n}\n\nmodule.exports = editOnBlur;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = /*#__PURE__*/function (_ref) {\n  _inheritsLoose(ContentBlockNode, _ref);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n    /* eslint-disable-next-line constructor-super */\n\n    return _ref.call(this, decorateCharacterList(props)) || this;\n  }\n\n  var _proto = ContentBlockNode.prototype;\n\n  _proto.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getText = function getText() {\n    return this.get('text');\n  };\n\n  _proto.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  _proto.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  _proto.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  _proto.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  _proto.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  _proto.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  _proto.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  _proto.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  _proto.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  _proto.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  _proto.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;","require(\"core-js/modules/es.array.flat-map\");\n\nrequire(\"core-js/modules/es.array.unscopables.flat-map\");\n\n/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.Immutable = factory();\n})(this, function () {\n  'use strict';\n\n  var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n    return isIterable(value) ? value : Seq(value);\n  }\n\n  createClass(KeyedIterable, Iterable);\n\n  function KeyedIterable(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  createClass(IndexedIterable, Iterable);\n\n  function IndexedIterable(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  createClass(SetIterable, Iterable);\n\n  function SetIterable(value) {\n    return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@'; // Used for setting prototype methods that IE8 chokes on.\n\n  var DELETE = 'delete'; // Constants describing the size of trie nodes.\n\n  var SHIFT = 5; // Resulted in best performance after ______?\n\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1; // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n\n  var NOT_SET = {}; // Boolean references, Rough equivalent of `bool &`.\n\n  var CHANGE_LENGTH = {\n    value: false\n  };\n  var DID_ALTER = {\n    value: false\n  };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  } // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n\n\n  function OwnerID() {} // http://jsperf.com/copy-array-inline\n\n\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n\n      index = uint32Index;\n    }\n\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || size !== undefined && begin <= -size) && (end === undefined || size !== undefined && end >= size);\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ? defaultIndex : index < 0 ? Math.max(0, size + index) : size === undefined ? index : Math.min(size, index);\n  }\n  /* global Symbol */\n\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n  function Iterator(next) {\n    this.next = next;\n  }\n\n  Iterator.prototype.toString = function () {\n    return '[Iterator]';\n  };\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect = Iterator.prototype.toSource = function () {\n    return this.toString();\n  };\n\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? iteratorResult.value = value : iteratorResult = {\n      value: value,\n      done: false\n    };\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL] || iterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n\n  function Seq(value) {\n    return value === null || value === undefined ? emptySequence() : isIterable(value) ? value.toSeq() : seqFromValue(value);\n  }\n\n  Seq.of = function ()\n  /*...values*/\n  {\n    return Seq(arguments);\n  };\n\n  Seq.prototype.toSeq = function () {\n    return this;\n  };\n\n  Seq.prototype.toString = function () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n\n    return this;\n  }; // abstract __iterateUncached(fn, reverse)\n\n\n  Seq.prototype.__iterate = function (fn, reverse) {\n    return seqIterate(this, fn, reverse, true);\n  }; // abstract __iteratorUncached(type, reverse)\n\n\n  Seq.prototype.__iterator = function (type, reverse) {\n    return seqIterator(this, type, reverse, true);\n  };\n\n  createClass(KeyedSeq, Seq);\n\n  function KeyedSeq(value) {\n    return value === null || value === undefined ? emptySequence().toKeyedSeq() : isIterable(value) ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq() : keyedSeqFromValue(value);\n  }\n\n  KeyedSeq.prototype.toKeyedSeq = function () {\n    return this;\n  };\n\n  createClass(IndexedSeq, Seq);\n\n  function IndexedSeq(value) {\n    return value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n  }\n\n  IndexedSeq.of = function ()\n  /*...values*/\n  {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function () {\n    return this.__toString('Seq [', ']');\n  };\n\n  IndexedSeq.prototype.__iterate = function (fn, reverse) {\n    return seqIterate(this, fn, reverse, false);\n  };\n\n  IndexedSeq.prototype.__iterator = function (type, reverse) {\n    return seqIterator(this, type, reverse, false);\n  };\n\n  createClass(SetSeq, Seq);\n\n  function SetSeq(value) {\n    return (value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value).toSetSeq();\n  }\n\n  SetSeq.of = function ()\n  /*...values*/\n  {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function () {\n    return this;\n  };\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n  createClass(ArraySeq, IndexedSeq);\n\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  ArraySeq.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function (fn, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n        return ii + 1;\n      }\n    }\n\n    return ii;\n  };\n\n  ArraySeq.prototype.__iterator = function (type, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    var ii = 0;\n    return new Iterator(function () {\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++]);\n    });\n  };\n\n  createClass(ObjectSeq, KeyedSeq);\n\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  ObjectSeq.prototype.get = function (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function (key) {\n    return this._object.hasOwnProperty(key);\n  };\n\n  ObjectSeq.prototype.__iterate = function (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      var key = keys[reverse ? maxIndex - ii : ii];\n\n      if (fn(object[key], key, this) === false) {\n        return ii + 1;\n      }\n    }\n\n    return ii;\n  };\n\n  ObjectSeq.prototype.__iterator = function (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    var ii = 0;\n    return new Iterator(function () {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, key, object[key]);\n    });\n  };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n  createClass(IterableSeq, IndexedSeq);\n\n  function IterableSeq(iterable) {\n    this._iterable = iterable;\n    this.size = iterable.length || iterable.size;\n  }\n\n  IterableSeq.prototype.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    var iterations = 0;\n\n    if (isIterator(iterator)) {\n      var step;\n\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n\n    return iterations;\n  };\n\n  IterableSeq.prototype.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  createClass(IteratorSeq, IndexedSeq);\n\n  function IteratorSeq(iterator) {\n    this._iterator = iterator;\n    this._iteratorCache = [];\n  }\n\n  IteratorSeq.prototype.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this) === false) {\n        return iterations;\n      }\n    }\n\n    var step;\n\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n\n      if (fn(val, iterations++, this) === false) {\n        break;\n      }\n    }\n\n    return iterations;\n  };\n\n  IteratorSeq.prototype.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator(function () {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n\n        if (step.done) {\n          return step;\n        }\n\n        cache[iterations] = step.value;\n      }\n\n      return iteratorValue(type, iterations, cache[iterations++]);\n    });\n  }; // # pragma Helper functions\n\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq = Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() : isIterator(value) ? new IteratorSeq(value).fromEntrySeq() : hasIterator(value) ? new IterableSeq(value).fromEntrySeq() : typeof value === 'object' ? new ObjectSeq(value) : undefined;\n\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of [k, v] entries, ' + 'or keyed object: ' + value);\n    }\n\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of values: ' + value);\n    }\n\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) || typeof value === 'object' && new ObjectSeq(value);\n\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of values, or keyed object: ' + value);\n    }\n\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return isArrayLike(value) ? new ArraySeq(value) : isIterator(value) ? new IteratorSeq(value) : hasIterator(value) ? new IterableSeq(value) : undefined;\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n\n    if (cache) {\n      var maxIndex = cache.length - 1;\n\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n\n      return ii;\n    }\n\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function () {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ? fromJSWith(converter, json, '', {\n      '': json\n    }) : fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function (v, k) {\n        return fromJSWith(converter, v, k, json);\n      }));\n    }\n\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function (v, k) {\n        return fromJSWith(converter, v, k, json);\n      }));\n    }\n\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n\n\n  function is(valueA, valueB) {\n    if (valueA === valueB || valueA !== valueA && valueB !== valueB) {\n      return true;\n    }\n\n    if (!valueA || !valueB) {\n      return false;\n    }\n\n    if (typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n\n      if (valueA === valueB || valueA !== valueA && valueB !== valueB) {\n        return true;\n      }\n\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n\n    if (typeof valueA.equals === 'function' && typeof valueB.equals === 'function' && valueA.equals(valueB)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (!isIterable(b) || a.size !== undefined && b.size !== undefined && a.size !== b.size || a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || isKeyed(a) !== isKeyed(b) || isIndexed(a) !== isIndexed(b) || isOrdered(a) !== isOrdered(b)) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n\n    var bSize = b.__iterate(function (v, k) {\n      if (notAssociative ? !a.has(v) : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  Repeat.prototype.toString = function () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size) ? this : new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n  };\n\n  Repeat.prototype.reverse = function () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function (fn, reverse) {\n    for (var ii = 0; ii < this.size; ii++) {\n      if (fn(this._value, ii, this) === false) {\n        return ii + 1;\n      }\n    }\n\n    return ii;\n  };\n\n  Repeat.prototype.__iterator = function (type, reverse) {\n    var this$0 = this;\n    var ii = 0;\n    return new Iterator(function () {\n      return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone();\n    });\n  };\n\n  Repeat.prototype.equals = function (other) {\n    return other instanceof Repeat ? is(this._value, other._value) : deepEqual(other);\n  };\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n\n    if (end === undefined) {\n      end = Infinity;\n    }\n\n    step = step === undefined ? 1 : Math.abs(step);\n\n    if (end < start) {\n      step = -step;\n    }\n\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n\n      EMPTY_RANGE = this;\n    }\n  }\n\n  Range.prototype.toString = function () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n\n    return 'Range [ ' + this._start + '...' + this._end + (this._step > 1 ? ' by ' + this._step : '') + ' ]';\n  };\n\n  Range.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._start + wrapIndex(this, index) * this._step : notSetValue;\n  };\n\n  Range.prototype.includes = function (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 && possibleIndex < this.size && possibleIndex === Math.floor(possibleIndex);\n  };\n\n  Range.prototype.slice = function (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n\n    return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n  };\n\n  Range.prototype.indexOf = function (searchValue) {\n    var offsetValue = searchValue - this._start;\n\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function (fn, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(value, ii, this) === false) {\n        return ii + 1;\n      }\n\n      value += reverse ? -step : step;\n    }\n\n    return ii;\n  };\n\n  Range.prototype.__iterator = function (type, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    var ii = 0;\n    return new Iterator(function () {\n      var v = value;\n      value += reverse ? -step : step;\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n    });\n  };\n\n  Range.prototype.equals = function (other) {\n    return other instanceof Range ? this._start === other._start && this._end === other._end && this._step === other._step : deepEqual(this, other);\n  };\n\n  var EMPTY_RANGE;\n  createClass(Collection, Iterable);\n\n  function Collection() {\n    throw TypeError('Abstract');\n  }\n\n  createClass(KeyedCollection, Collection);\n\n  function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);\n\n  function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);\n\n  function SetCollection() {}\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n  var imul = typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ? Math.imul : function imul(a, b) {\n    a = a | 0; // int\n\n    b = b | 0; // int\n\n    var c = a & 0xffff;\n    var d = b & 0xffff; // Shift by 0 fixes the sign on the high part.\n\n    return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int\n  }; // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n\n  function smi(i32) {\n    return i32 >>> 1 & 0x40000000 | i32 & 0xBFFFFFFF;\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n\n    if (o === true) {\n      return 1;\n    }\n\n    var type = typeof o;\n\n    if (type === 'number') {\n      var h = o | 0;\n\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n\n      return smi(h);\n    }\n\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n\n    if (hash === undefined) {\n      hash = hashString(string);\n\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n\n    return hash;\n  } // http://jsperf.com/hashing-strings\n\n\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined && obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function () {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  } // Get references to ES5 object methods.\n\n\n  var isExtensible = Object.isExtensible; // True if Object.defineProperty works as expected. IE8 fails this test.\n\n  var canDefineProperty = function () {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }(); // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n\n\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1:\n          // Element\n          return node.uniqueID;\n\n        case 9:\n          // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  } // If possible, use a WeakMap.\n\n\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n  var UID_HASH_KEY = '__immutablehash__';\n\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(size !== Infinity, 'Cannot perform this action with an infinite size.');\n  }\n\n  createClass(Map, KeyedCollection); // @pragma Construction\n\n  function Map(value) {\n    return value === null || value === undefined ? emptyMap() : isMap(value) && !isOrdered(value) ? value : emptyMap().withMutations(function (map) {\n      var iter = KeyedIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v, k) {\n        return map.set(k, v);\n      });\n    });\n  }\n\n  Map.prototype.toString = function () {\n    return this.__toString('Map {', '}');\n  }; // @pragma Access\n\n\n  Map.prototype.get = function (k, notSetValue) {\n    return this._root ? this._root.get(0, undefined, k, notSetValue) : notSetValue;\n  }; // @pragma Modification\n\n\n  Map.prototype.set = function (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.setIn = function (keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, function () {\n      return v;\n    });\n  };\n\n  Map.prototype.remove = function (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteIn = function (keyPath) {\n    return this.updateIn(keyPath, function () {\n      return NOT_SET;\n    });\n  };\n\n  Map.prototype.update = function (k, notSetValue, updater) {\n    return arguments.length === 1 ? k(this) : this.updateIn([k], notSetValue, updater);\n  };\n\n  Map.prototype.updateIn = function (keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n\n    var updatedValue = updateInDeepMap(this, forceIterator(keyPath), notSetValue, updater);\n    return updatedValue === NOT_SET ? undefined : updatedValue;\n  };\n\n  Map.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n\n    return emptyMap();\n  }; // @pragma Composition\n\n\n  Map.prototype.merge = function ()\n  /*...iters*/\n  {\n    return mergeIntoMapWith(this, undefined, arguments);\n  };\n\n  Map.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoMapWith(this, merger, iters);\n  };\n\n  Map.prototype.mergeIn = function (keyPath) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.updateIn(keyPath, emptyMap(), function (m) {\n      return typeof m.merge === 'function' ? m.merge.apply(m, iters) : iters[iters.length - 1];\n    });\n  };\n\n  Map.prototype.mergeDeep = function ()\n  /*...iters*/\n  {\n    return mergeIntoMapWith(this, deepMerger, arguments);\n  };\n\n  Map.prototype.mergeDeepWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n  };\n\n  Map.prototype.mergeDeepIn = function (keyPath) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.updateIn(keyPath, emptyMap(), function (m) {\n      return typeof m.mergeDeep === 'function' ? m.mergeDeep.apply(m, iters) : iters[iters.length - 1];\n    });\n  };\n\n  Map.prototype.sort = function (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  }; // @pragma Mutability\n\n\n  Map.prototype.withMutations = function (fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  };\n\n  Map.prototype.asMutable = function () {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  };\n\n  Map.prototype.asImmutable = function () {\n    return this.__ensureOwner();\n  };\n\n  Map.prototype.wasAltered = function () {\n    return this.__altered;\n  };\n\n  Map.prototype.__iterator = function (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var iterations = 0;\n    this._root && this._root.iterate(function (entry) {\n      iterations++;\n      return fn(entry[1], entry[0], this$0);\n    }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn; // #pragma Trie Nodes\n\n  function ArrayMapNode(ownerID, entries) {\n    this.ownerID = ownerID;\n    this.entries = entries;\n  }\n\n  ArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n\n    return notSetValue;\n  };\n\n  ArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var entries = this.entries;\n    var idx = 0;\n\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && entries.length === 1) {\n      return; // undefined\n    }\n\n    if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n      return createNodes(ownerID, entries, key, value);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new ArrayMapNode(ownerID, newEntries);\n  };\n\n  function BitmapIndexedNode(ownerID, bitmap, nodes) {\n    this.ownerID = ownerID;\n    this.bitmap = bitmap;\n    this.nodes = nodes;\n  }\n\n  BitmapIndexedNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n    var bitmap = this.bitmap;\n    return (bitmap & bit) === 0 ? notSetValue : this.nodes[popCount(bitmap & bit - 1)].get(shift + SHIFT, keyHash, key, notSetValue);\n  };\n\n  BitmapIndexedNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var bit = 1 << keyHashFrag;\n    var bitmap = this.bitmap;\n    var exists = (bitmap & bit) !== 0;\n\n    if (!exists && value === NOT_SET) {\n      return this;\n    }\n\n    var idx = popCount(bitmap & bit - 1);\n    var nodes = this.nodes;\n    var node = exists ? nodes[idx] : undefined;\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n    if (newNode === node) {\n      return this;\n    }\n\n    if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n      return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n    }\n\n    if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n      return nodes[idx ^ 1];\n    }\n\n    if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n      return newNode;\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n    var newNodes = exists ? newNode ? setIn(nodes, idx, newNode, isEditable) : spliceOut(nodes, idx, isEditable) : spliceIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.bitmap = newBitmap;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n  };\n\n  function HashArrayMapNode(ownerID, count, nodes) {\n    this.ownerID = ownerID;\n    this.count = count;\n    this.nodes = nodes;\n  }\n\n  HashArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var node = this.nodes[idx];\n    return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n  };\n\n  HashArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var removed = value === NOT_SET;\n    var nodes = this.nodes;\n    var node = nodes[idx];\n\n    if (removed && !node) {\n      return this;\n    }\n\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n    if (newNode === node) {\n      return this;\n    }\n\n    var newCount = this.count;\n\n    if (!node) {\n      newCount++;\n    } else if (!newNode) {\n      newCount--;\n\n      if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n        return packNodes(ownerID, nodes, newCount, idx);\n      }\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.count = newCount;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new HashArrayMapNode(ownerID, newCount, newNodes);\n  };\n\n  function HashCollisionNode(ownerID, keyHash, entries) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entries = entries;\n  }\n\n  HashCollisionNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n\n    return notSetValue;\n  };\n\n  HashCollisionNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var removed = value === NOT_SET;\n\n    if (keyHash !== this.keyHash) {\n      if (removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n    }\n\n    var entries = this.entries;\n    var idx = 0;\n\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && len === 2) {\n      return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n  };\n\n  function ValueNode(ownerID, keyHash, entry) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entry = entry;\n  }\n\n  ValueNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n  };\n\n  ValueNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var keyMatch = is(key, this.entry[0]);\n\n    if (keyMatch ? value === this.entry[1] : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n\n    if (removed) {\n      SetRef(didChangeSize);\n      return; // undefined\n    }\n\n    if (keyMatch) {\n      if (ownerID && ownerID === this.ownerID) {\n        this.entry[1] = value;\n        return this;\n      }\n\n      return new ValueNode(ownerID, this.keyHash, [key, value]);\n    }\n\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n  }; // #pragma Iterators\n\n\n  ArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  };\n\n  BitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  };\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  };\n\n  createClass(MapIterator, Iterator);\n\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  MapIterator.prototype.next = function () {\n    var type = this._type;\n    var stack = this._stack;\n\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex;\n\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n\n        if (index <= maxIndex) {\n          return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n\n          continue;\n        }\n      }\n\n      stack = this._stack = this._stack.__prev;\n    }\n\n    return iteratorDone();\n  };\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n\n      if (!didAlter.value) {\n        return map;\n      }\n\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var newNode;\n    var nodes = idx1 === idx2 ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] : (newNode = new ValueNode(ownerID, keyHash, entry), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n    return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n\n      if (!isIterable(value)) {\n        iter = iter.map(function (v) {\n          return fromJS(v);\n        });\n      }\n\n      iters.push(iter);\n    }\n\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ? existing.mergeDeep(value) : is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function (existing, value, key) {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function (x) {\n      return x.size !== 0;\n    });\n\n    if (iters.length === 0) {\n      return collection;\n    }\n\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n\n    return collection.withMutations(function (collection) {\n      var mergeIntoMap = merger ? function (value, key) {\n        collection.update(key, NOT_SET, function (existing) {\n          return existing === NOT_SET ? value : merger(existing, value, key);\n        });\n      } : function (value, key) {\n        collection.set(key, value);\n      };\n\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n\n    invariant(isNotSet || existing && existing.set, 'invalid keyPath');\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(nextExisting, keyPathIter, notSetValue, updater);\n    return nextUpdated === nextExisting ? existing : nextUpdated === NOT_SET ? existing.remove(key) : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - (x >> 1 & 0x55555555);\n    x = (x & 0x33333333) + (x >> 2 & 0x33333333);\n    x = x + (x >> 4) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n\n    var newArray = new Array(newLen);\n    var after = 0;\n\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n\n    var newArray = new Array(newLen);\n    var after = 0;\n\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n\n      newArray[ii] = array[ii + after];\n    }\n\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n  createClass(List, IndexedCollection); // @pragma Construction\n\n  function List(value) {\n    var empty = emptyList();\n\n    if (value === null || value === undefined) {\n      return empty;\n    }\n\n    if (isList(value)) {\n      return value;\n    }\n\n    var iter = IndexedIterable(value);\n    var size = iter.size;\n\n    if (size === 0) {\n      return empty;\n    }\n\n    assertNotInfinite(size);\n\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) {\n        return list.set(i, v);\n      });\n    });\n  }\n\n  List.of = function ()\n  /*...values*/\n  {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function () {\n    return this.__toString('List [', ']');\n  }; // @pragma Access\n\n\n  List.prototype.get = function (index, notSetValue) {\n    index = wrapIndex(this, index);\n\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n\n    return notSetValue;\n  }; // @pragma Modification\n\n\n  List.prototype.set = function (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function (index) {\n    return !this.has(index) ? this : index === 0 ? this.shift() : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n\n    return emptyList();\n  };\n\n  List.prototype.push = function ()\n  /*...values*/\n  {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function ()\n  /*...values*/\n  {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function () {\n    return setListBounds(this, 1);\n  }; // @pragma Composition\n\n\n  List.prototype.merge = function ()\n  /*...iters*/\n  {\n    return mergeIntoListWith(this, undefined, arguments);\n  };\n\n  List.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoListWith(this, merger, iters);\n  };\n\n  List.prototype.mergeDeep = function ()\n  /*...iters*/\n  {\n    return mergeIntoListWith(this, deepMerger, arguments);\n  };\n\n  List.prototype.mergeDeepWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoListWith(this, deepMergerWith(merger), iters);\n  };\n\n  List.prototype.setSize = function (size) {\n    return setListBounds(this, 0, size);\n  }; // @pragma Iteration\n\n\n  List.prototype.slice = function (begin, end) {\n    var size = this.size;\n\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n\n    return setListBounds(this, resolveBegin(begin, size), resolveEnd(end, size));\n  };\n\n  List.prototype.__iterator = function (type, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE ? iteratorDone() : iteratorValue(type, index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function (fn, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    var value;\n\n    while ((value = values()) !== DONE) {\n      if (fn(value, index++, this) === false) {\n        break;\n      }\n    }\n\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      return this;\n    }\n\n    return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n  };\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn = ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n  function VNode(array, ownerID) {\n    this.array = array;\n    this.ownerID = ownerID;\n  } // TODO: seems like these methods are very similar\n\n\n  VNode.prototype.removeBefore = function (ownerID, level, index) {\n    if (index === level ? 1 << level : 0 || this.array.length === 0) {\n      return this;\n    }\n\n    var originIndex = index >>> level & MASK;\n\n    if (originIndex >= this.array.length) {\n      return new VNode([], ownerID);\n    }\n\n    var removingFirst = originIndex === 0;\n    var newChild;\n\n    if (level > 0) {\n      var oldChild = this.array[originIndex];\n      newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n\n      if (newChild === oldChild && removingFirst) {\n        return this;\n      }\n    }\n\n    if (removingFirst && !newChild) {\n      return this;\n    }\n\n    var editable = editableVNode(this, ownerID);\n\n    if (!removingFirst) {\n      for (var ii = 0; ii < originIndex; ii++) {\n        editable.array[ii] = undefined;\n      }\n    }\n\n    if (newChild) {\n      editable.array[originIndex] = newChild;\n    }\n\n    return editable;\n  };\n\n  VNode.prototype.removeAfter = function (ownerID, level, index) {\n    if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n      return this;\n    }\n\n    var sizeIndex = index - 1 >>> level & MASK;\n\n    if (sizeIndex >= this.array.length) {\n      return this;\n    }\n\n    var newChild;\n\n    if (level > 0) {\n      var oldChild = this.array[sizeIndex];\n      newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n\n      if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n        return this;\n      }\n    }\n\n    var editable = editableVNode(this, ownerID);\n    editable.array.splice(sizeIndex + 1);\n\n    if (newChild) {\n      editable.array[sizeIndex] = newChild;\n    }\n\n    return editable;\n  };\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ? iterateLeaf(node, offset) : iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n\n      if (to > SIZE) {\n        to = SIZE;\n      }\n\n      return function () {\n        if (from === to) {\n          return DONE;\n        }\n\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : left - offset >> level;\n      var to = (right - offset >> level) + 1;\n\n      if (to > SIZE) {\n        to = SIZE;\n      }\n\n      return function () {\n        do {\n          if (values) {\n            var value = values();\n\n            if (value !== DONE) {\n              return value;\n            }\n\n            values = null;\n          }\n\n          if (from === to) {\n            return DONE;\n          }\n\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(array && array[idx], level - SHIFT, offset + (idx << level));\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function (list) {\n        index < 0 ? setListBounds(list, index).set(0, value) : setListBounds(list, 0, index + 1).set(index, value);\n      });\n    }\n\n    index += list._origin;\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = index >>> level & MASK;\n    var nodeHas = node && idx < node.array.length;\n\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n    newNode = editableVNode(node, ownerID);\n\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n\n    if (rawIndex < 1 << list._level + SHIFT) {\n      var node = list._root;\n      var level = list._level;\n\n      while (node && level > 0) {\n        node = node.array[rawIndex >>> level & MASK];\n        level -= SHIFT;\n      }\n\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n\n    if (end !== undefined) {\n      end = end | 0;\n    }\n\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    } // If it's going to end after it starts, it's empty.\n\n\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root; // New origin might need creating a higher root.\n\n    var offsetShift = 0;\n\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity); // New size might need creating a higher root.\n\n    while (newTailOffset >= 1 << newLevel + SHIFT) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    } // Locate or create the new tail.\n\n\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ? listNodeFor(list, newCapacity - 1) : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail; // Merge Tail into tree.\n\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = oldTailOffset >>> level & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n\n      node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;\n    } // If the size has been reduced, there's a chance the tail needs to be trimmed.\n\n\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    } // If the new origin is within the tail, then we do not need a root.\n\n\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin); // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0; // Identify the new top root node of the subtree of the old root.\n\n      while (newRoot) {\n        var beginIndex = newOrigin >>> newLevel & MASK;\n\n        if (beginIndex !== newTailOffset >>> newLevel & MASK) {\n          break;\n        }\n\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      } // Trim the new sides of the new root.\n\n\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n\n      if (!isIterable(value)) {\n        iter = iter.map(function (v) {\n          return fromJS(v);\n        });\n      }\n\n      iters.push(iter);\n    }\n\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;\n  }\n\n  createClass(OrderedMap, Map); // @pragma Construction\n\n  function OrderedMap(value) {\n    return value === null || value === undefined ? emptyOrderedMap() : isOrderedMap(value) ? value : emptyOrderedMap().withMutations(function (map) {\n      var iter = KeyedIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v, k) {\n        return map.set(k, v);\n      });\n    });\n  }\n\n  OrderedMap.of = function ()\n  /*...values*/\n  {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function () {\n    return this.__toString('OrderedMap {', '}');\n  }; // @pragma Access\n\n\n  OrderedMap.prototype.get = function (k, notSetValue) {\n    var index = this._map.get(k);\n\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  }; // @pragma Modification\n\n\n  OrderedMap.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n\n    if (this.__ownerID) {\n      this.size = 0;\n\n      this._map.clear();\n\n      this._list.clear();\n\n      return this;\n    }\n\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._list.__iterate(function (entry) {\n      return entry && fn(entry[1], entry[0], this$0);\n    }, reverse);\n  };\n\n  OrderedMap.prototype.__iterator = function (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n\n    var newMap = this._map.__ensureOwner(ownerID);\n\n    var newList = this._list.__ensureOwner(ownerID);\n\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n\n    if (v === NOT_SET) {\n      // removed\n      if (!has) {\n        return omap;\n      }\n\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function (entry, idx) {\n          return entry !== undefined && i !== idx;\n        });\n        newMap = newList.toKeyedSeq().map(function (entry) {\n          return entry[0];\n        }).flip().toMap();\n\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  ToKeyedSequence.prototype.get = function (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function () {\n    var this$0 = this;\n    var reversedSequence = reverseFactory(this, true);\n\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () {\n        return this$0._iter.toSeq().reverse();\n      };\n    }\n\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function (mapper, context) {\n    var this$0 = this;\n    var mappedSequence = mapFactory(this, mapper, context);\n\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () {\n        return this$0._iter.toSeq().map(mapper, context);\n      };\n    }\n\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var ii;\n    return this._iter.__iterate(this._useKeys ? function (v, k) {\n      return fn(v, k, this$0);\n    } : (ii = reverse ? resolveSize(this) : 0, function (v) {\n      return fn(v, reverse ? --ii : ii++, this$0);\n    }), reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function (type, reverse) {\n    if (this._useKeys) {\n      return this._iter.__iterator(type, reverse);\n    }\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\n    var ii = reverse ? resolveSize(this) : 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n    });\n  };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n  createClass(ToIndexedSequence, IndexedSeq);\n\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  ToIndexedSequence.prototype.includes = function (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var iterations = 0;\n    return this._iter.__iterate(function (v) {\n      return fn(v, iterations++, this$0);\n    }, reverse);\n  };\n\n  ToIndexedSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n\n  createClass(ToSetSequence, SetSeq);\n\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  ToSetSequence.prototype.has = function (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._iter.__iterate(function (v) {\n      return fn(v, v, this$0);\n    }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  createClass(FromEntriesSequence, KeyedSeq);\n\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  FromEntriesSequence.prototype.entrySeq = function () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedIterable = isIterable(entry);\n        return fn(indexedIterable ? entry.get(1) : entry[1], indexedIterable ? entry.get(0) : entry[0], this$0);\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n\n        if (step.done) {\n          return step;\n        }\n\n        var entry = step.value; // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return iteratorValue(type, indexedIterable ? entry.get(0) : entry[0], indexedIterable ? entry.get(1) : entry[1], step);\n        }\n      }\n    });\n  };\n\n  ToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n\n    flipSequence.flip = function () {\n      return iterable;\n    };\n\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n\n      reversedSequence.flip = function () {\n        return iterable.reverse();\n      };\n\n      return reversedSequence;\n    };\n\n    flipSequence.has = function (key) {\n      return iterable.includes(key);\n    };\n\n    flipSequence.includes = function (key) {\n      return iterable.has(key);\n    };\n\n    flipSequence.cacheResult = cacheResultThrough;\n\n    flipSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k) {\n        return fn(k, v, this$0) !== false;\n      }, reverse);\n    };\n\n    flipSequence.__iteratorUncached = function (type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n\n        return new Iterator(function () {\n          var step = iterator.next();\n\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n\n          return step;\n        });\n      }\n\n      return iterable.__iterator(type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES, reverse);\n    };\n\n    return flipSequence;\n  }\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n\n    mappedSequence.has = function (key) {\n      return iterable.has(key);\n    };\n\n    mappedSequence.get = function (key, notSetValue) {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ? notSetValue : mapper.call(context, v, key, iterable);\n    };\n\n    mappedSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k, c) {\n        return fn(mapper.call(context, v, k, c), k, this$0) !== false;\n      }, reverse);\n    };\n\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\n      return new Iterator(function () {\n        var step = iterator.next();\n\n        if (step.done) {\n          return step;\n        }\n\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(type, key, mapper.call(context, entry[1], key, iterable), step);\n      });\n    };\n\n    return mappedSequence;\n  }\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n\n    reversedSequence.reverse = function () {\n      return iterable;\n    };\n\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n\n        flipSequence.reverse = function () {\n          return iterable.flip();\n        };\n\n        return flipSequence;\n      };\n    }\n\n    reversedSequence.get = function (key, notSetValue) {\n      return iterable.get(useKeys ? key : -1 - key, notSetValue);\n    };\n\n    reversedSequence.has = function (key) {\n      return iterable.has(useKeys ? key : -1 - key);\n    };\n\n    reversedSequence.includes = function (value) {\n      return iterable.includes(value);\n    };\n\n    reversedSequence.cacheResult = cacheResultThrough;\n\n    reversedSequence.__iterate = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k) {\n        return fn(v, k, this$0);\n      }, !reverse);\n    };\n\n    reversedSequence.__iterator = function (type, reverse) {\n      return iterable.__iterator(type, !reverse);\n    };\n\n    return reversedSequence;\n  }\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n\n    if (useKeys) {\n      filterSequence.has = function (key) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n\n      filterSequence.get = function (key, notSetValue) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ? v : notSetValue;\n      };\n    }\n\n    filterSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      var iterations = 0;\n\n      iterable.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n\n      return iterations;\n    };\n\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\n      var iterations = 0;\n      return new Iterator(function () {\n        while (true) {\n          var step = iterator.next();\n\n          if (step.done) {\n            return step;\n          }\n\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    };\n\n    return filterSequence;\n  }\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n\n    iterable.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, iterable), 0, function (a) {\n        return a + 1;\n      });\n    });\n\n    return groups.asImmutable();\n  }\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n\n    iterable.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, iterable), function (a) {\n        return a = a || [], a.push(isKeyedIter ? [k, v] : v), a;\n      });\n    });\n\n    var coerce = iterableClass(iterable);\n    return groups.map(function (arr) {\n      return reify(iterable, coerce(arr));\n    });\n  }\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size; // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n\n    if (end !== undefined) {\n      end = end | 0;\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize); // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    } // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n\n\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable); // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ? iterable.get(index + resolvedBegin, notSetValue) : notSetValue;\n      };\n    }\n\n    sliceSeq.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n\n      if (sliceSize === 0) {\n        return 0;\n      }\n\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n\n      iterable.__iterate(function (v, k) {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false && iterations !== sliceSize;\n        }\n      });\n\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function (type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      } // Don't bother instantiating parent iterator if taking 0.\n\n\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function () {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n\n        var step = iterator.next();\n\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    };\n\n    return sliceSeq;\n  }\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n\n    takeSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n\n      var iterations = 0;\n\n      iterable.__iterate(function (v, k, c) {\n        return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0);\n      });\n\n      return iterations;\n    };\n\n    takeSequence.__iteratorUncached = function (type, reverse) {\n      var this$0 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\n      var iterating = true;\n      return new Iterator(function () {\n        if (!iterating) {\n          return iteratorDone();\n        }\n\n        var step = iterator.next();\n\n        if (step.done) {\n          return step;\n        }\n\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n\n    return takeSequence;\n  }\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n\n    skipSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n\n      var isSkipping = true;\n      var iterations = 0;\n\n      iterable.__iterate(function (v, k, c) {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n\n      return iterations;\n    };\n\n    skipSequence.__iteratorUncached = function (type, reverse) {\n      var this$0 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function () {\n        var step, k, v;\n\n        do {\n          step = iterator.next();\n\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n\n    return skipSequence;\n  }\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function (v) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ? keyedSeqFromValue(v) : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n\n      return v;\n    }).filter(function (v) {\n      return v.size !== 0;\n    });\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n\n      if (singleton === iterable || isKeyedIterable && isKeyed(singleton) || isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    }, 0);\n    return concatSeq;\n  }\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n\n    flatSequence.__iterateUncached = function (fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n\n      function flatDeep(iter, currentDepth) {\n        var this$0 = this;\n\n        iter.__iterate(function (v, k) {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n\n          return !stopped;\n        }, reverse);\n      }\n\n      flatDeep(iterable, 0);\n      return iterations;\n    };\n\n    flatSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function () {\n        while (iterator) {\n          var step = iterator.next();\n\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n\n          var v = step.value;\n\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n\n        return iteratorDone();\n      });\n    };\n\n    return flatSequence;\n  }\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(function (v, k) {\n      return coerce(mapper.call(context, v, k, iterable));\n    }).flatten(true);\n  }\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 - 1;\n\n    interposedSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      var iterations = 0;\n\n      iterable.__iterate(function (v, k) {\n        return (!iterations || fn(separator, iterations++, this$0) !== false) && fn(v, iterations++, this$0) !== false;\n      }, reverse);\n\n      return iterations;\n    };\n\n    interposedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n\n      var iterations = 0;\n      var step;\n      return new Iterator(function () {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n\n          if (step.done) {\n            return step;\n          }\n        }\n\n        return iterations % 2 ? iteratorValue(type, iterations++, separator) : iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n\n    return interposedSequence;\n  }\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(function (v, k) {\n      return [k, v, index++, mapper ? mapper(v, k, iterable) : v];\n    }).toArray();\n    entries.sort(function (a, b) {\n      return comparator(a[3], b[3]) || a[2] - b[2];\n    }).forEach(isKeyedIterable ? function (v, i) {\n      entries[i].length = 2;\n    } : function (v, i) {\n      entries[i] = v[1];\n    });\n    return isKeyedIterable ? KeyedSeq(entries) : isIndexed(iterable) ? IndexedSeq(entries) : SetSeq(entries);\n  }\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n\n    if (mapper) {\n      var entry = iterable.toSeq().map(function (v, k) {\n        return [v, mapper(v, k, iterable)];\n      }).reduce(function (a, b) {\n        return maxCompare(comparator, a[1], b[1]) ? b : a;\n      });\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function (a, b) {\n        return maxCompare(comparator, a, b) ? b : a;\n      });\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a); // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n\n    return comp === 0 && b !== a && (b === undefined || b === null || b !== b) || comp > 0;\n  }\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function (i) {\n      return i.size;\n    }).min(); // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n\n    zipSequence.__iterate = function (fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n\n      var step;\n      var iterations = 0;\n\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n\n      return iterations;\n    };\n\n    zipSequence.__iteratorUncached = function (type, reverse) {\n      var iterators = iters.map(function (i) {\n        return i = Iterable(i), getIterator(reverse ? i.reverse() : i);\n      });\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function () {\n        var steps;\n\n        if (!isDone) {\n          steps = iterators.map(function (i) {\n            return i.next();\n          });\n          isDone = steps.some(function (s) {\n            return s.done;\n          });\n        }\n\n        if (isDone) {\n          return iteratorDone();\n        }\n\n        return iteratorValue(type, iterations++, zipper.apply(null, steps.map(function (s) {\n          return s.value;\n        })));\n      });\n    };\n\n    return zipSequence;\n  } // #pragma Helper Functions\n\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable : isIndexed(iterable) ? IndexedIterable : SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create((isKeyed(iterable) ? KeyedSeq : isIndexed(iterable) ? IndexedSeq : SetSeq).prototype);\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n\n      iter = getIterator(Iterable(keyPath));\n    }\n\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n  function Record(defaultValues, name) {\n    var hasInitialized;\n\n    var RecordType = function Record(values) {\n      if (values instanceof RecordType) {\n        return values;\n      }\n\n      if (!(this instanceof RecordType)) {\n        return new RecordType(values);\n      }\n\n      if (!hasInitialized) {\n        hasInitialized = true;\n        var keys = Object.keys(defaultValues);\n        setProps(RecordTypePrototype, keys);\n        RecordTypePrototype.size = keys.length;\n        RecordTypePrototype._name = name;\n        RecordTypePrototype._keys = keys;\n        RecordTypePrototype._defaultValues = defaultValues;\n      }\n\n      this._map = Map(values);\n    };\n\n    var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n    RecordTypePrototype.constructor = RecordType;\n    return RecordType;\n  }\n\n  Record.prototype.toString = function () {\n    return this.__toString(recordName(this) + ' {', '}');\n  }; // @pragma Access\n\n\n  Record.prototype.has = function (k) {\n    return this._defaultValues.hasOwnProperty(k);\n  };\n\n  Record.prototype.get = function (k, notSetValue) {\n    if (!this.has(k)) {\n      return notSetValue;\n    }\n\n    var defaultVal = this._defaultValues[k];\n    return this._map ? this._map.get(k, defaultVal) : defaultVal;\n  }; // @pragma Modification\n\n\n  Record.prototype.clear = function () {\n    if (this.__ownerID) {\n      this._map && this._map.clear();\n      return this;\n    }\n\n    var RecordType = this.constructor;\n    return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n  };\n\n  Record.prototype.set = function (k, v) {\n    if (!this.has(k)) {\n      throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n    }\n\n    var newMap = this._map && this._map.set(k, v);\n\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n\n    return makeRecord(this, newMap);\n  };\n\n  Record.prototype.remove = function (k) {\n    if (!this.has(k)) {\n      return this;\n    }\n\n    var newMap = this._map && this._map.remove(k);\n\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n\n    return makeRecord(this, newMap);\n  };\n\n  Record.prototype.wasAltered = function () {\n    return this._map.wasAltered();\n  };\n\n  Record.prototype.__iterator = function (type, reverse) {\n    var this$0 = this;\n    return KeyedIterable(this._defaultValues).map(function (_, k) {\n      return this$0.get(k);\n    }).__iterator(type, reverse);\n  };\n\n  Record.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return KeyedIterable(this._defaultValues).map(function (_, k) {\n      return this$0.get(k);\n    }).__iterate(fn, reverse);\n  };\n\n  Record.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n\n    var newMap = this._map && this._map.__ensureOwner(ownerID);\n\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n\n    return makeRecord(this, newMap, ownerID);\n  };\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn = RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {// Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function get() {\n        return this.get(name);\n      },\n      set: function set(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection); // @pragma Construction\n\n  function Set(value) {\n    return value === null || value === undefined ? emptySet() : isSet(value) && !isOrdered(value) ? value : emptySet().withMutations(function (set) {\n      var iter = SetIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v) {\n        return set.add(v);\n      });\n    });\n  }\n\n  Set.of = function ()\n  /*...values*/\n  {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function (value) {\n    return this(KeyedIterable(value).keySeq());\n  };\n\n  Set.prototype.toString = function () {\n    return this.__toString('Set {', '}');\n  }; // @pragma Access\n\n\n  Set.prototype.has = function (value) {\n    return this._map.has(value);\n  }; // @pragma Modification\n\n\n  Set.prototype.add = function (value) {\n    return updateSet(this, this._map.set(value, true));\n  };\n\n  Set.prototype.remove = function (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function () {\n    return updateSet(this, this._map.clear());\n  }; // @pragma Composition\n\n\n  Set.prototype.union = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    iters = iters.filter(function (x) {\n      return x.size !== 0;\n    });\n\n    if (iters.length === 0) {\n      return this;\n    }\n\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetIterable(iters[ii]).forEach(function (value) {\n          return set.add(value);\n        });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function () {\n    var iters = SLICE$0.call(arguments, 0);\n\n    if (iters.length === 0) {\n      return this;\n    }\n\n    iters = iters.map(function (iter) {\n      return SetIterable(iter);\n    });\n    var originalSet = this;\n    return this.withMutations(function (set) {\n      originalSet.forEach(function (value) {\n        if (!iters.every(function (iter) {\n          return iter.includes(value);\n        })) {\n          set.remove(value);\n        }\n      });\n    });\n  };\n\n  Set.prototype.subtract = function () {\n    var iters = SLICE$0.call(arguments, 0);\n\n    if (iters.length === 0) {\n      return this;\n    }\n\n    iters = iters.map(function (iter) {\n      return SetIterable(iter);\n    });\n    var originalSet = this;\n    return this.withMutations(function (set) {\n      originalSet.forEach(function (value) {\n        if (iters.some(function (iter) {\n          return iter.includes(value);\n        })) {\n          set.remove(value);\n        }\n      });\n    });\n  };\n\n  Set.prototype.merge = function () {\n    return this.union.apply(this, arguments);\n  };\n\n  Set.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.union.apply(this, iters);\n  };\n\n  Set.prototype.sort = function (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._map.__iterate(function (_, k) {\n      return fn(k, k, this$0);\n    }, reverse);\n  };\n\n  Set.prototype.__iterator = function (type, reverse) {\n    return this._map.map(function (_, k) {\n      return k;\n    }).__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n\n    var newMap = this._map.__ensureOwner(ownerID);\n\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n\n    return this.__make(newMap, ownerID);\n  };\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n\n    return newMap === set._map ? set : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set); // @pragma Construction\n\n  function OrderedSet(value) {\n    return value === null || value === undefined ? emptyOrderedSet() : isOrderedSet(value) ? value : emptyOrderedSet().withMutations(function (set) {\n      var iter = SetIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v) {\n        return set.add(v);\n      });\n    });\n  }\n\n  OrderedSet.of = function ()\n  /*...values*/\n  {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function (value) {\n    return this(KeyedIterable(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection); // @pragma Construction\n\n  function Stack(value) {\n    return value === null || value === undefined ? emptyStack() : isStack(value) ? value : emptyStack().unshiftAll(value);\n  }\n\n  Stack.of = function ()\n  /*...values*/\n  {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function () {\n    return this.__toString('Stack [', ']');\n  }; // @pragma Access\n\n\n  Stack.prototype.get = function (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n\n    while (head && index--) {\n      head = head.next;\n    }\n\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function () {\n    return this._head && this._head.value;\n  }; // @pragma Modification\n\n\n  Stack.prototype.push = function ()\n  /*...values*/\n  {\n    if (arguments.length === 0) {\n      return this;\n    }\n\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments[ii],\n        next: head\n      };\n    }\n\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function (iter) {\n    iter = IndexedIterable(iter);\n\n    if (iter.size === 0) {\n      return this;\n    }\n\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.reverse().forEach(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head\n      };\n    });\n\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.unshift = function ()\n  /*...values*/\n  {\n    return this.push.apply(this, arguments);\n  };\n\n  Stack.prototype.unshiftAll = function (iter) {\n    return this.pushAll(iter);\n  };\n\n  Stack.prototype.shift = function () {\n    return this.pop.apply(this, arguments);\n  };\n\n  Stack.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection.prototype.slice.call(this, begin, end);\n    }\n\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n\n    return makeStack(newSize, head);\n  }; // @pragma Mutability\n\n\n  Stack.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  }; // @pragma Iteration\n\n\n  Stack.prototype.__iterate = function (fn, reverse) {\n    if (reverse) {\n      return this.reverse().__iterate(fn);\n    }\n\n    var iterations = 0;\n    var node = this._head;\n\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n\n      node = node.next;\n    }\n\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function (type, reverse) {\n    if (reverse) {\n      return this.reverse().__iterator(type);\n    }\n\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n\n      return iteratorDone();\n    });\n  };\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n  /**\n   * Contributes additional methods to a constructor\n   */\n\n\n  function mixin(ctor, methods) {\n    var keyCopier = function keyCopier(key) {\n      ctor.prototype[key] = methods[key];\n    };\n\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n  mixin(Iterable, {\n    // ### Conversion to other types\n    toArray: function toArray() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n\n      this.valueSeq().__iterate(function (v, i) {\n        array[i] = v;\n      });\n\n      return array;\n    },\n    toIndexedSeq: function toIndexedSeq() {\n      return new ToIndexedSequence(this);\n    },\n    toJS: function toJS() {\n      return this.toSeq().map(function (value) {\n        return value && typeof value.toJS === 'function' ? value.toJS() : value;\n      }).__toJS();\n    },\n    toJSON: function toJSON() {\n      return this.toSeq().map(function (value) {\n        return value && typeof value.toJSON === 'function' ? value.toJSON() : value;\n      }).__toJS();\n    },\n    toKeyedSeq: function toKeyedSeq() {\n      return new ToKeyedSequence(this, true);\n    },\n    toMap: function toMap() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n    toObject: function toObject() {\n      assertNotInfinite(this.size);\n      var object = {};\n\n      this.__iterate(function (v, k) {\n        object[k] = v;\n      });\n\n      return object;\n    },\n    toOrderedMap: function toOrderedMap() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n    toOrderedSet: function toOrderedSet() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n    toSet: function toSet() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n    toSetSeq: function toSetSeq() {\n      return new ToSetSequence(this);\n    },\n    toSeq: function toSeq() {\n      return isIndexed(this) ? this.toIndexedSeq() : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n    },\n    toStack: function toStack() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n    toList: function toList() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n    // ### Common JavaScript methods and properties\n    toString: function toString() {\n      return '[Iterable]';\n    },\n    __toString: function __toString(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n    // ### ES6 Collection methods (ES6 Array and Map)\n    concat: function concat() {\n      var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n    includes: function includes(searchValue) {\n      return this.some(function (value) {\n        return is(value, searchValue);\n      });\n    },\n    entries: function entries() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n    every: function every(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n\n      this.__iterate(function (v, k, c) {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n\n      return returnValue;\n    },\n    filter: function filter(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n    find: function find(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n    findEntry: function findEntry(predicate, context) {\n      var found;\n\n      this.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n\n      return found;\n    },\n    findLastEntry: function findLastEntry(predicate, context) {\n      return this.toSeq().reverse().findEntry(predicate, context);\n    },\n    forEach: function forEach(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n    join: function join(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n\n      this.__iterate(function (v) {\n        isFirst ? isFirst = false : joined += separator;\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n\n      return joined;\n    },\n    keys: function keys() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n    map: function map(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n    reduce: function reduce(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n\n      this.__iterate(function (v, k, c) {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n\n      return reduction;\n    },\n    reduceRight: function reduceRight(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n    reverse: function reverse() {\n      return reify(this, reverseFactory(this, true));\n    },\n    slice: function slice(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n    some: function some(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n    sort: function sort(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n    values: function values() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n    // ### More sequential methods\n    butLast: function butLast() {\n      return this.slice(0, -1);\n    },\n    isEmpty: function isEmpty() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function () {\n        return true;\n      });\n    },\n    count: function count(predicate, context) {\n      return ensureSize(predicate ? this.toSeq().filter(predicate, context) : this);\n    },\n    countBy: function countBy(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n    equals: function equals(other) {\n      return deepEqual(this, other);\n    },\n    entrySeq: function entrySeq() {\n      var iterable = this;\n\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n\n      entriesSequence.fromEntrySeq = function () {\n        return iterable.toSeq();\n      };\n\n      return entriesSequence;\n    },\n    filterNot: function filterNot(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n    findLast: function findLast(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n    first: function first() {\n      return this.find(returnTrue);\n    },\n    flatMap: function flatMap(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n    flatten: function flatten(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n    fromEntrySeq: function fromEntrySeq() {\n      return new FromEntriesSequence(this);\n    },\n    get: function get(searchKey, notSetValue) {\n      return this.find(function (_, key) {\n        return is(key, searchKey);\n      }, undefined, notSetValue);\n    },\n    getIn: function getIn(searchKeyPath, notSetValue) {\n      var nested = this; // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n\n      var iter = forceIterator(searchKeyPath);\n      var step;\n\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n\n      return nested;\n    },\n    groupBy: function groupBy(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n    has: function has(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n    hasIn: function hasIn(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n    isSubset: function isSubset(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function (value) {\n        return iter.includes(value);\n      });\n    },\n    isSuperset: function isSuperset(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n    keySeq: function keySeq() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n    last: function last() {\n      return this.toSeq().reverse().first();\n    },\n    max: function max(comparator) {\n      return maxFactory(this, comparator);\n    },\n    maxBy: function maxBy(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n    min: function min(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n    minBy: function minBy(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n    rest: function rest() {\n      return this.slice(1);\n    },\n    skip: function skip(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n    skipLast: function skipLast(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n    skipWhile: function skipWhile(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n    skipUntil: function skipUntil(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n    sortBy: function sortBy(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n    take: function take(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n    takeLast: function takeLast(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n    takeWhile: function takeWhile(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n    takeUntil: function takeUntil(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n    valueSeq: function valueSeq() {\n      return this.toIndexedSeq();\n    },\n    // ### Hashable Object\n    hashCode: function hashCode() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    } // ### Internal\n    // abstract __iterate(fn, reverse)\n    // abstract __iterator(type, reverse)\n\n  }); // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n\n  IterablePrototype.inspect = IterablePrototype.toSource = function () {\n    return this.toString();\n  };\n\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes; // Temporary warning about using length\n\n  (function () {\n    try {\n      Object.defineProperty(IterablePrototype, 'length', {\n        get: function get() {\n          if (!Iterable.noLengthWarning) {\n            var stack;\n\n            try {\n              throw new Error();\n            } catch (error) {\n              stack = error.stack;\n            }\n\n            if (stack.indexOf('_wrapObject') === -1) {\n              console && console.warn && console.warn('iterable.length has been deprecated, ' + 'use iterable.size or iterable.count(). ' + 'This warning will become a silent error in a future version. ' + stack);\n              return this.size;\n            }\n          }\n        }\n      });\n    } catch (e) {}\n  })();\n\n  mixin(KeyedIterable, {\n    // ### More sequential methods\n    flip: function flip() {\n      return reify(this, flipFactory(this));\n    },\n    findKey: function findKey(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n    findLastKey: function findLastKey(predicate, context) {\n      return this.toSeq().reverse().findKey(predicate, context);\n    },\n    keyOf: function keyOf(searchValue) {\n      return this.findKey(function (value) {\n        return is(value, searchValue);\n      });\n    },\n    lastKeyOf: function lastKeyOf(searchValue) {\n      return this.findLastKey(function (value) {\n        return is(value, searchValue);\n      });\n    },\n    mapEntries: function mapEntries(mapper, context) {\n      var this$0 = this;\n      var iterations = 0;\n      return reify(this, this.toSeq().map(function (v, k) {\n        return mapper.call(context, [k, v], iterations++, this$0);\n      }).fromEntrySeq());\n    },\n    mapKeys: function mapKeys(mapper, context) {\n      var this$0 = this;\n      return reify(this, this.toSeq().flip().map(function (k, v) {\n        return mapper.call(context, k, v, this$0);\n      }).flip());\n    }\n  });\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n\n  KeyedIterablePrototype.__toStringMapper = function (v, k) {\n    return JSON.stringify(k) + ': ' + quoteString(v);\n  };\n\n  mixin(IndexedIterable, {\n    // ### Conversion to other types\n    toKeyedSeq: function toKeyedSeq() {\n      return new ToKeyedSequence(this, false);\n    },\n    // ### ES6 Collection methods (ES6 Array and Map)\n    filter: function filter(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n    findIndex: function findIndex(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n    indexOf: function indexOf(searchValue) {\n      var key = this.toKeyedSeq().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n    lastIndexOf: function lastIndexOf(searchValue) {\n      var key = this.toKeyedSeq().reverse().keyOf(searchValue);\n      return key === undefined ? -1 : key; // var index =\n      // return this.toSeq().reverse().indexOf(searchValue);\n    },\n    reverse: function reverse() {\n      return reify(this, reverseFactory(this, false));\n    },\n    slice: function slice(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n    splice: function splice(index, removeNum\n    /*, ...values*/\n    ) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n\n      if (numArgs === 0 || numArgs === 2 && !removeNum) {\n        return this;\n      } // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n\n\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(this, numArgs === 1 ? spliced : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum)));\n    },\n    // ### More collection methods\n    findLastIndex: function findLastIndex(predicate, context) {\n      var key = this.toKeyedSeq().findLastKey(predicate, context);\n      return key === undefined ? -1 : key;\n    },\n    first: function first() {\n      return this.get(0);\n    },\n    flatten: function flatten(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n    get: function get(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index < 0 || this.size === Infinity || this.size !== undefined && index > this.size ? notSetValue : this.find(function (_, key) {\n        return key === index;\n      }, undefined, notSetValue);\n    },\n    has: function has(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ? this.size === Infinity || index < this.size : this.indexOf(index) !== -1);\n    },\n    interpose: function interpose(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n    interleave: function interleave()\n    /*...iterables*/\n    {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n\n      return reify(this, interleaved);\n    },\n    last: function last() {\n      return this.get(-1);\n    },\n    skipWhile: function skipWhile(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n    zip: function zip()\n    /*, ...iterables */\n    {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n    zipWith: function zipWith(zipper\n    /*, ...iterables */\n    ) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n  });\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n  mixin(SetIterable, {\n    // ### ES6 Collection methods (ES6 Array and Map)\n    get: function get(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n    includes: function includes(value) {\n      return this.has(value);\n    },\n    // ### More sequential methods\n    keySeq: function keySeq() {\n      return this.valueSeq();\n    }\n  });\n  SetIterable.prototype.has = IterablePrototype.includes; // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype); // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function () {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  function neg(predicate) {\n    return function () {\n      return -predicate.apply(this, arguments);\n    };\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : value;\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n\n    var size = iterable.__iterate(keyed ? ordered ? function (v, k) {\n      h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n    } : function (v, k) {\n      h = h + hashMerge(hash(v), hash(k)) | 0;\n    } : ordered ? function (v) {\n      h = 31 * h + hash(v) | 0;\n    } : function (v) {\n      h = h + hash(v) | 0;\n    });\n\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n    Iterable: Iterable,\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n    is: is,\n    fromJS: fromJS\n  };\n  return Immutable;\n});","var getChildren = exports.getChildren = function (elem) {\n  return elem.children;\n};\n\nvar getParent = exports.getParent = function (elem) {\n  return elem.parent;\n};\n\nexports.getSiblings = function (elem) {\n  var parent = getParent(elem);\n  return parent ? getChildren(parent) : [elem];\n};\n\nexports.getAttributeValue = function (elem, name) {\n  return elem.attribs && elem.attribs[name];\n};\n\nexports.hasAttrib = function (elem, name) {\n  return !!elem.attribs && hasOwnProperty.call(elem.attribs, name);\n};\n\nexports.getName = function (elem) {\n  return elem.name;\n};","/*!\n * UAParser.js v0.7.23\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>\n * Licensed under MIT License\n */\n(function (window, undefined) {\n  'use strict'; //////////////\n  // Constants\n  /////////////\n\n  var LIBVERSION = '0.7.23',\n      EMPTY = '',\n      UNKNOWN = '?',\n      FUNC_TYPE = 'function',\n      UNDEF_TYPE = 'undefined',\n      OBJ_TYPE = 'object',\n      STR_TYPE = 'string',\n      MAJOR = 'major',\n      // deprecated\n  MODEL = 'model',\n      NAME = 'name',\n      TYPE = 'type',\n      VENDOR = 'vendor',\n      VERSION = 'version',\n      ARCHITECTURE = 'architecture',\n      CONSOLE = 'console',\n      MOBILE = 'mobile',\n      TABLET = 'tablet',\n      SMARTTV = 'smarttv',\n      WEARABLE = 'wearable',\n      EMBEDDED = 'embedded'; ///////////\n  // Helper\n  //////////\n\n  var util = {\n    extend: function extend(regexes, extensions) {\n      var mergedRegexes = {};\n\n      for (var i in regexes) {\n        if (extensions[i] && extensions[i].length % 2 === 0) {\n          mergedRegexes[i] = extensions[i].concat(regexes[i]);\n        } else {\n          mergedRegexes[i] = regexes[i];\n        }\n      }\n\n      return mergedRegexes;\n    },\n    has: function has(str1, str2) {\n      if (typeof str1 === \"string\") {\n        return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n      } else {\n        return false;\n      }\n    },\n    lowerize: function lowerize(str) {\n      return str.toLowerCase();\n    },\n    major: function major(version) {\n      return typeof version === STR_TYPE ? version.replace(/[^\\d\\.]/g, '').split(\".\")[0] : undefined;\n    },\n    trim: function trim(str) {\n      return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n  }; ///////////////\n  // Map helper\n  //////////////\n\n  var mapper = {\n    rgx: function rgx(ua, arrays) {\n      var i = 0,\n          j,\n          k,\n          p,\n          q,\n          matches,\n          match; // loop through all regexes maps\n\n      while (i < arrays.length && !matches) {\n        var regex = arrays[i],\n            // even sequence (0,2,4,..)\n        props = arrays[i + 1]; // odd sequence (1,3,5,..)\n\n        j = k = 0; // try matching uastring with regexes\n\n        while (j < regex.length && !matches) {\n          matches = regex[j++].exec(ua);\n\n          if (!!matches) {\n            for (p = 0; p < props.length; p++) {\n              match = matches[++k];\n              q = props[p]; // check if given property is actually array\n\n              if (typeof q === OBJ_TYPE && q.length > 0) {\n                if (q.length == 2) {\n                  if (typeof q[1] == FUNC_TYPE) {\n                    // assign modified match\n                    this[q[0]] = q[1].call(this, match);\n                  } else {\n                    // assign given value, ignore regex match\n                    this[q[0]] = q[1];\n                  }\n                } else if (q.length == 3) {\n                  // check whether function or regex\n                  if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                    // call function (usually string mapper)\n                    this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                  } else {\n                    // sanitize match using given regex\n                    this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                  }\n                } else if (q.length == 4) {\n                  this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                }\n              } else {\n                this[q] = match ? match : undefined;\n              }\n            }\n          }\n        }\n\n        i += 2;\n      }\n    },\n    str: function str(_str, map) {\n      for (var i in map) {\n        // check if array\n        if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n          for (var j = 0; j < map[i].length; j++) {\n            if (util.has(map[i][j], _str)) {\n              return i === UNKNOWN ? undefined : i;\n            }\n          }\n        } else if (util.has(map[i], _str)) {\n          return i === UNKNOWN ? undefined : i;\n        }\n      }\n\n      return _str;\n    }\n  }; ///////////////\n  // String map\n  //////////////\n\n  var maps = {\n    browser: {\n      oldsafari: {\n        version: {\n          '1.0': '/8',\n          '1.2': '/1',\n          '1.3': '/3',\n          '2.0': '/412',\n          '2.0.2': '/416',\n          '2.0.3': '/417',\n          '2.0.4': '/419',\n          '?': '/'\n        }\n      }\n    },\n    device: {\n      amazon: {\n        model: {\n          'Fire Phone': ['SD', 'KF']\n        }\n      },\n      sprint: {\n        model: {\n          'Evo Shift 4G': '7373KT'\n        },\n        vendor: {\n          'HTC': 'APA',\n          'Sprint': 'Sprint'\n        }\n      }\n    },\n    os: {\n      windows: {\n        version: {\n          'ME': '4.90',\n          'NT 3.11': 'NT3.51',\n          'NT 4.0': 'NT4.0',\n          '2000': 'NT 5.0',\n          'XP': ['NT 5.1', 'NT 5.2'],\n          'Vista': 'NT 6.0',\n          '7': 'NT 6.1',\n          '8': 'NT 6.2',\n          '8.1': 'NT 6.3',\n          '10': ['NT 6.4', 'NT 10.0'],\n          'RT': 'ARM'\n        }\n      }\n    }\n  }; //////////////\n  // Regex map\n  /////////////\n\n  var regexes = {\n    browser: [[// Presto based\n    /(opera\\smini)\\/([\\w\\.-]+)/i, // Opera Mini\n    /(opera\\s[mobiletab]{3,6}).+version\\/([\\w\\.-]+)/i, // Opera Mobi/Tablet\n    /(opera).+version\\/([\\w\\.]+)/i, // Opera > 9.80\n    /(opera)[\\/\\s]+([\\w\\.]+)/i // Opera < 9.80\n    ], [NAME, VERSION], [/(opios)[\\/\\s]+([\\w\\.]+)/i // Opera mini on iphone >= 8.0\n    ], [[NAME, 'Opera Mini'], VERSION], [/\\s(opr)\\/([\\w\\.]+)/i // Opera Webkit\n    ], [[NAME, 'Opera'], VERSION], [// Mixed\n    /(kindle)\\/([\\w\\.]+)/i, // Kindle\n    /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i, // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n    // Trident based\n    /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i, // Avant/IEMobile/SlimBrowser\n    /(bidubrowser|baidubrowser)[\\/\\s]?([\\w\\.]+)/i, // Baidu Browser\n    /(?:ms|\\()(ie)\\s([\\w\\.]+)/i, // Internet Explorer\n    // Webkit/KHTML based\n    /(rekonq)\\/([\\w\\.]*)/i, // Rekonq\n    /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n    ], [NAME, VERSION], [/(konqueror)\\/([\\w\\.]+)/i // Konqueror\n    ], [[NAME, 'Konqueror'], VERSION], [/(trident).+rv[:\\s]([\\w\\.]{1,9}).+like\\sgecko/i // IE11\n    ], [[NAME, 'IE'], VERSION], [/(edge|edgios|edga|edg)\\/((\\d+)?[\\w\\.]+)/i // Microsoft Edge\n    ], [[NAME, 'Edge'], VERSION], [/(yabrowser)\\/([\\w\\.]+)/i // Yandex\n    ], [[NAME, 'Yandex'], VERSION], [/(Avast)\\/([\\w\\.]+)/i // Avast Secure Browser\n    ], [[NAME, 'Avast Secure Browser'], VERSION], [/(AVG)\\/([\\w\\.]+)/i // AVG Secure Browser\n    ], [[NAME, 'AVG Secure Browser'], VERSION], [/(puffin)\\/([\\w\\.]+)/i // Puffin\n    ], [[NAME, 'Puffin'], VERSION], [/(focus)\\/([\\w\\.]+)/i // Firefox Focus\n    ], [[NAME, 'Firefox Focus'], VERSION], [/(opt)\\/([\\w\\.]+)/i // Opera Touch\n    ], [[NAME, 'Opera Touch'], VERSION], [/((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i // UCBrowser\n    ], [[NAME, 'UCBrowser'], VERSION], [/(comodo_dragon)\\/([\\w\\.]+)/i // Comodo Dragon\n    ], [[NAME, /_/g, ' '], VERSION], [/(windowswechat qbcore)\\/([\\w\\.]+)/i // WeChat Desktop for Windows Built-in Browser\n    ], [[NAME, 'WeChat(Win) Desktop'], VERSION], [/(micromessenger)\\/([\\w\\.]+)/i // WeChat\n    ], [[NAME, 'WeChat'], VERSION], [/(brave)\\/([\\w\\.]+)/i // Brave browser\n    ], [[NAME, 'Brave'], VERSION], [/(whale)\\/([\\w\\.]+)/i // Whale browser\n    ], [[NAME, 'Whale'], VERSION], [/(qqbrowserlite)\\/([\\w\\.]+)/i // QQBrowserLite\n    ], [NAME, VERSION], [/(QQ)\\/([\\d\\.]+)/i // QQ, aka ShouQ\n    ], [NAME, VERSION], [/m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i // QQBrowser\n    ], [NAME, VERSION], [/(baiduboxapp)[\\/\\s]?([\\w\\.]+)/i // Baidu App\n    ], [NAME, VERSION], [/(2345Explorer)[\\/\\s]?([\\w\\.]+)/i // 2345 Browser\n    ], [NAME, VERSION], [/(MetaSr)[\\/\\s]?([\\w\\.]+)/i // SouGouBrowser\n    ], [NAME], [/(LBBROWSER)/i // LieBao Browser\n    ], [NAME], [/xiaomi\\/miuibrowser\\/([\\w\\.]+)/i // MIUI Browser\n    ], [VERSION, [NAME, 'MIUI Browser']], [/;fbav\\/([\\w\\.]+);/i // Facebook App for iOS & Android with version\n    ], [VERSION, [NAME, 'Facebook']], [/FBAN\\/FBIOS|FB_IAB\\/FB4A/i // Facebook App for iOS & Android without version\n    ], [[NAME, 'Facebook']], [/safari\\s(line)\\/([\\w\\.]+)/i, // Line App for iOS\n    /android.+(line)\\/([\\w\\.]+)\\/iab/i // Line App for Android\n    ], [NAME, VERSION], [/headlesschrome(?:\\/([\\w\\.]+)|\\s)/i // Chrome Headless\n    ], [VERSION, [NAME, 'Chrome Headless']], [/\\swv\\).+(chrome)\\/([\\w\\.]+)/i // Chrome WebView\n    ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [/((?:oculus|samsung)browser)\\/([\\w\\.]+)/i], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [// Oculus / Samsung Browser\n    /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i // Android Browser\n    ], [VERSION, [NAME, 'Android Browser']], [/(sailfishbrowser)\\/([\\w\\.]+)/i // Sailfish Browser\n    ], [[NAME, 'Sailfish Browser'], VERSION], [/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i // Chrome/OmniWeb/Arora/Tizen/Nokia\n    ], [NAME, VERSION], [/(dolfin)\\/([\\w\\.]+)/i // Dolphin\n    ], [[NAME, 'Dolphin'], VERSION], [/(qihu|qhbrowser|qihoobrowser|360browser)/i // 360\n    ], [[NAME, '360 Browser']], [/((?:android.+)crmo|crios)\\/([\\w\\.]+)/i // Chrome for Android/iOS\n    ], [[NAME, 'Chrome'], VERSION], [/(coast)\\/([\\w\\.]+)/i // Opera Coast\n    ], [[NAME, 'Opera Coast'], VERSION], [/fxios\\/([\\w\\.-]+)/i // Firefox for iOS\n    ], [VERSION, [NAME, 'Firefox']], [/version\\/([\\w\\.]+)\\s.*mobile\\/\\w+\\s(safari)/i // Mobile Safari\n    ], [VERSION, [NAME, 'Mobile Safari']], [/version\\/([\\w\\.]+)\\s.*(mobile\\s?safari|safari)/i // Safari & Safari Mobile\n    ], [VERSION, NAME], [/webkit.+?(gsa)\\/([\\w\\.]+)\\s.*(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i // Google Search Appliance on iOS\n    ], [[NAME, 'GSA'], VERSION], [/webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i // Safari < 3.0\n    ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [/(webkit|khtml)\\/([\\w\\.]+)/i], [NAME, VERSION], [// Gecko based\n    /(navigator|netscape)\\/([\\w\\.-]+)/i // Netscape\n    ], [[NAME, 'Netscape'], VERSION], [/(swiftfox)/i, // Swiftfox\n    /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i, // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n    /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i, // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n    /(firefox)\\/([\\w\\.]+)\\s[\\w\\s\\-]+\\/[\\w\\.]+$/i, // Other Firefox-based\n    /(mozilla)\\/([\\w\\.]+)\\s.+rv\\:.+gecko\\/\\d+/i, // Mozilla\n    // Other\n    /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i, // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n    /(links)\\s\\(([\\w\\.]+)/i, // Links\n    /(gobrowser)\\/?([\\w\\.]*)/i, // GoBrowser\n    /(ice\\s?browser)\\/v?([\\w\\._]+)/i, // ICE Browser\n    /(mosaic)[\\/\\s]([\\w\\.]+)/i // Mosaic\n    ], [NAME, VERSION]],\n    cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i // AMD64\n    ], [[ARCHITECTURE, 'amd64']], [/(ia32(?=;))/i // IA32 (quicktime)\n    ], [[ARCHITECTURE, util.lowerize]], [/((?:i[346]|x)86)[;\\)]/i // IA32\n    ], [[ARCHITECTURE, 'ia32']], [// PocketPC mistakenly identified as PowerPC\n    /windows\\s(ce|mobile);\\sppc;/i], [[ARCHITECTURE, 'arm']], [/((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i // PowerPC\n    ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [/(sun4\\w)[;\\)]/i // SPARC\n    ], [[ARCHITECTURE, 'sparc']], [/((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n    ], [[ARCHITECTURE, util.lowerize]]],\n    device: [[/\\((ipad|playbook);[\\w\\s\\),;-]+(rim|apple)/i // iPad/PlayBook\n    ], [MODEL, VENDOR, [TYPE, TABLET]], [/applecoremedia\\/[\\w\\.]+ \\((ipad)/ // iPad\n    ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [/(apple\\s{0,1}tv)/i // Apple TV\n    ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple'], [TYPE, SMARTTV]], [/(archos)\\s(gamepad2?)/i, // Archos\n    /(hp).+(touchpad)/i, // HP TouchPad\n    /(hp).+(tablet)/i, // HP Tablet\n    /(kindle)\\/([\\w\\.]+)/i, // Kindle\n    /\\s(nook)[\\w\\s]+build\\/(\\w+)/i, // Nook\n    /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i // Dell Streak\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [/(kf[A-z]+)(\\sbuild\\/|\\)).+silk\\//i // Kindle Fire HD\n    ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [/(sd|kf)[0349hijorstuw]+(\\sbuild\\/|\\)).+silk\\//i // Fire Phone\n    ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [/android.+aft([bms])\\sbuild/i // Fire TV\n    ], [MODEL, [VENDOR, 'Amazon'], [TYPE, SMARTTV]], [/\\((ip[honed|\\s\\w*]+);.+(apple)/i // iPod/iPhone\n    ], [MODEL, VENDOR, [TYPE, MOBILE]], [/\\((ip[honed|\\s\\w*]+);/i // iPod/iPhone\n    ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [/(blackberry)[\\s-]?(\\w+)/i, // BlackBerry\n    /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i, // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n    /(hp)\\s([\\w\\s]+\\w)/i, // HP iPAQ\n    /(asus)-?(\\w+)/i // Asus\n    ], [VENDOR, MODEL, [TYPE, MOBILE]], [/\\(bb10;\\s(\\w+)/i // BlackBerry 10\n    ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [// Asus Tablets\n    /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone|p00c)/i], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [/(sony)\\s(tablet\\s[ps])\\sbuild\\//i, // Sony\n    /(sony)?(?:sgp.+)\\sbuild\\//i], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [/android.+\\s([c-g]\\d{4}|so[-l]\\w+)(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [/\\s(ouya)\\s/i, // Ouya\n    /(nintendo)\\s([wids3u]+)/i // Nintendo\n    ], [VENDOR, MODEL, [TYPE, CONSOLE]], [/android.+;\\s(shield)\\sbuild/i // Nvidia\n    ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [/(playstation\\s[34portablevi]+)/i // Playstation\n    ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [/(sprint\\s(\\w+))/i // Sprint Phones\n    ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [/(htc)[;_\\s-]{1,2}([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i, // HTC\n    /(zte)-(\\w*)/i, // ZTE\n    /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n    ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [/(nexus\\s9)/i // HTC Nexus 9\n    ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [/d\\/huawei([\\w\\s-]+)[;\\)]/i, // Huawei\n    /android.+\\s(nexus\\s6p|vog-[at]?l\\d\\d|ane-[at]?l[x\\d]\\d|eml-a?l\\d\\da?|lya-[at]?l\\d[\\dc]|clt-a?l\\d\\di?)/i], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [/android.+(bah2?-a?[lw]\\d{2})/i // Huawei MediaPad\n    ], [MODEL, [VENDOR, 'Huawei'], [TYPE, TABLET]], [/(microsoft);\\s(lumia[\\s\\w]+)/i // Microsoft Lumia\n    ], [VENDOR, MODEL, [TYPE, MOBILE]], [/[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i // Microsoft Xbox\n    ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [/(kin\\.[onetw]{3})/i // Microsoft Kin\n    ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [// Motorola\n    /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i, /mot[\\s-]?(\\w*)/i, /(XT\\d{3,4}) build\\//i, /(nexus\\s6)/i], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [/android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [/hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i // HbbTV devices\n    ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [/hbbtv.+maple;(\\d+)/i], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [/\\(dtv[\\);].+(aquos)/i // Sharp\n    ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [/android.+((sch-i[89]0\\d|shw-m380s|SM-P605|SM-P610|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\\w+))/i], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [// Samsung\n    /smart-tv.+(samsung)/i], [VENDOR, [TYPE, SMARTTV], MODEL], [/((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i, /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i, /sec-((sgh\\w+))/i], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [/sie-(\\w*)/i // Siemens\n    ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [/(maemo|nokia).*(n900|lumia\\s\\d+)/i, // Nokia\n    /(nokia)[\\s_-]?([\\w-]*)/i], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [/android[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i // Acer\n    ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [/android.+([vl]k\\-?\\d{3})\\s+build/i // LG Tablet\n    ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [/android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i // LG Tablet\n    ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [/linux;\\snetcast.+smarttv/i, // LG SmartTV\n    /lg\\snetcast\\.tv-201\\d/i], [[VENDOR, 'LG'], MODEL, [TYPE, SMARTTV]], [/(nexus\\s[45])/i, // LG\n    /lg[e;\\s\\/-]+(\\w*)/i, /android.+lg(\\-?[\\d\\w]+)\\s+build/i], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [/(lenovo)\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+))/i // Lenovo tablets\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+(ideatab[a-z0-9\\-\\s]+)/i // Lenovo\n    ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [/(lenovo)[_\\s-]?([\\w-]+)/i], [VENDOR, MODEL, [TYPE, MOBILE]], [/linux;.+((jolla));/i // Jolla\n    ], [VENDOR, MODEL, [TYPE, MOBILE]], [/((pebble))app\\/[\\d\\.]+\\s/i // Pebble\n    ], [VENDOR, MODEL, [TYPE, WEARABLE]], [/android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i // OPPO\n    ], [VENDOR, MODEL, [TYPE, MOBILE]], [/crkey/i // Google Chromecast\n    ], [[MODEL, 'Chromecast'], [VENDOR, 'Google'], [TYPE, SMARTTV]], [/android.+;\\s(glass)\\s\\d/i // Google Glass\n    ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [/android.+;\\s(pixel c)[\\s)]/i // Google Pixel C\n    ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [/android.+;\\s(pixel( [2-9]a?)?( xl)?)[\\s)]/i // Google Pixel\n    ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [/android.+;\\s(\\w+)\\s+build\\/hm\\1/i, // Xiaomi Hongmi 'numeric' models\n    /android.+(hm[\\s\\-_]?note?[\\s_]?(?:\\d\\w)?)\\sbuild/i, // Xiaomi Hongmi\n    /android.+(redmi[\\s\\-_]?(?:note|k)?(?:[\\s_]?[\\w\\s]+))(?:\\sbuild|\\))/i, // Xiaomi Redmi\n    /android.+(mi[\\s\\-_]?(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]?(?:\\d?\\w?)[\\s_]?(?:plus)?)\\sbuild/i // Xiaomi Mi\n    ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [/android.+(mi[\\s\\-_]?(?:pad)(?:[\\s_]?[\\w\\s]+))(?:\\sbuild|\\))/i // Mi Pad tablets\n    ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [/android.+;\\s(m[1-5]\\snote)\\sbuild/i // Meizu\n    ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [/(mz)-([\\w-]{2,})/i], [[VENDOR, 'Meizu'], MODEL, [TYPE, MOBILE]], [/android.+a000(1)\\s+build/i, // OnePlus\n    /android.+oneplus\\s(a\\d{4})[\\s)]/i], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i // RCA Tablets\n    ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [/android.+[;\\/\\s](Venue[\\d\\s]{2,7})\\s+build/i // Dell Venue Tablets\n    ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i // Verizon Tablet\n    ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [/android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i // Barnes & Noble Tablet\n    ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i // Barnes & Noble Tablet\n    ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [/android.+;\\s(k88)\\sbuild/i // ZTE K Series Tablet\n    ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i // Swiss GEN Mobile\n    ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(zur\\d{3})\\s+build/i // Swiss ZUR Tablet\n    ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [/android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i // Zeki Tablets\n    ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [/(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i, /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i // Dragon Touch Tablet\n    ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i // Insignia Tablets\n    ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [/android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i // NextBook Tablets\n    ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [// Voice Xtreme Phones\n    /android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i // LvTel Phones\n    ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [/android.+;\\s(PH-1)\\s/i], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [// Essential PH-1\n    /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i // Envizen Tablets\n    ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i // Le Pan Tablets\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(Trio[\\s\\w\\-\\.]+)\\s+build/i // MachSpeed Tablets\n    ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i // Trinity Tablets\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*TU_(1491)\\s+build/i // Rotor Tablets\n    ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [//android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n    //], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n    /android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i // Gigaset Tablets\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [// Android Phones from Unidentified Vendors\n    /android .+?; ([^;]+?)(?: build|\\) applewebkit).+? mobile safari/i], [MODEL, [TYPE, MOBILE]], [// Android Tablets from Unidentified Vendors\n    /android .+?;\\s([^;]+?)(?: build|\\) applewebkit).+?(?! mobile) safari/i], [MODEL, [TYPE, TABLET]], [/\\s(tablet|tab)[;\\/]/i, // Unidentifiable Tablet\n    /\\s(mobile)(?:[;\\/]|\\ssafari)/i // Unidentifiable Mobile\n    ], [[TYPE, util.lowerize], VENDOR, MODEL], [/[\\s\\/\\(](smart-?tv)[;\\)]/i // SmartTV\n    ], [[TYPE, SMARTTV]], [/(android[\\w\\.\\s\\-]{0,9});.+build/i // Generic Android Device\n    ], [MODEL, [VENDOR, 'Generic']]],\n    engine: [[/windows.+\\sedge\\/([\\w\\.]+)/i // EdgeHTML\n    ], [VERSION, [NAME, 'EdgeHTML']], [/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i // Blink\n    ], [VERSION, [NAME, 'Blink']], [/(presto)\\/([\\w\\.]+)/i, // Presto\n    /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n    /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i, // KHTML/Tasman/Links\n    /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i // iCab\n    ], [NAME, VERSION], [/rv\\:([\\w\\.]{1,9}).+(gecko)/i // Gecko\n    ], [VERSION, NAME]],\n    os: [[// Windows based\n    /microsoft\\s(windows)\\s(vista|xp)/i // Windows (iTunes)\n    ], [NAME, VERSION], [/(windows)\\snt\\s6\\.2;\\s(arm)/i, // Windows RT\n    /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i, // Windows Phone\n    /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [// Mobile/Embedded OS\n    /\\((bb)(10);/i // BlackBerry 10\n    ], [[NAME, 'BlackBerry'], VERSION], [/(blackberry)\\w*\\/?([\\w\\.]*)/i, // Blackberry\n    /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i, // Tizen/KaiOS\n    /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki/Sailfish OS\n    ], [NAME, VERSION], [/(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i // Symbian\n    ], [[NAME, 'Symbian'], VERSION], [/\\((series40);/i // Series 40\n    ], [NAME], [/mozilla.+\\(mobile;.+gecko.+firefox/i // Firefox OS\n    ], [[NAME, 'Firefox OS'], VERSION], [// Google Chromecast\n    /crkey\\/([\\d\\.]+)/i // Google Chromecast\n    ], [VERSION, [NAME, 'Chromecast']], [// Console\n    /(nintendo|playstation)\\s([wids34portablevu]+)/i, // Nintendo/Playstation\n    // GNU/Linux based\n    /(mint)[\\/\\s\\(]?(\\w*)/i, // Mint\n    /(mageia|vectorlinux)[;\\s]/i, // Mageia/VectorLinux\n    /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i, // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n    // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n    /(hurd|linux)\\s?([\\w\\.]*)/i, // Hurd/Linux\n    /(gnu)\\s?([\\w\\.]*)/i // GNU\n    ], [NAME, VERSION], [/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i // Chromium OS\n    ], [[NAME, 'Chromium OS'], VERSION], [// Solaris\n    /(sunos)\\s?([\\w\\.\\d]*)/i // Solaris\n    ], [[NAME, 'Solaris'], VERSION], [// BSD based\n    /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n    ], [NAME, VERSION], [/(haiku)\\s(\\w+)/i // Haiku\n    ], [NAME, VERSION], [/cfnetwork\\/.+darwin/i, /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i // iOS\n    ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [/(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i, /(macintosh|mac(?=_powerpc)\\s)/i // Mac OS\n    ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [// Other\n    /((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i, // Solaris\n    /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i, // AIX\n    /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i, // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS/Fuchsia\n    /(unix)\\s?([\\w\\.]*)/i // UNIX\n    ], [NAME, VERSION]]\n  }; /////////////////\n  // Constructor\n  ////////////////\n\n  var UAParser = function UAParser(uastring, extensions) {\n    if (typeof uastring === 'object') {\n      extensions = uastring;\n      uastring = undefined;\n    }\n\n    if (!(this instanceof UAParser)) {\n      return new UAParser(uastring, extensions).getResult();\n    }\n\n    var ua = uastring || (window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : EMPTY);\n    var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n\n    this.getBrowser = function () {\n      var browser = {\n        name: undefined,\n        version: undefined\n      };\n      mapper.rgx.call(browser, ua, rgxmap.browser);\n      browser.major = util.major(browser.version); // deprecated\n\n      return browser;\n    };\n\n    this.getCPU = function () {\n      var cpu = {\n        architecture: undefined\n      };\n      mapper.rgx.call(cpu, ua, rgxmap.cpu);\n      return cpu;\n    };\n\n    this.getDevice = function () {\n      var device = {\n        vendor: undefined,\n        model: undefined,\n        type: undefined\n      };\n      mapper.rgx.call(device, ua, rgxmap.device);\n      return device;\n    };\n\n    this.getEngine = function () {\n      var engine = {\n        name: undefined,\n        version: undefined\n      };\n      mapper.rgx.call(engine, ua, rgxmap.engine);\n      return engine;\n    };\n\n    this.getOS = function () {\n      var os = {\n        name: undefined,\n        version: undefined\n      };\n      mapper.rgx.call(os, ua, rgxmap.os);\n      return os;\n    };\n\n    this.getResult = function () {\n      return {\n        ua: this.getUA(),\n        browser: this.getBrowser(),\n        engine: this.getEngine(),\n        os: this.getOS(),\n        device: this.getDevice(),\n        cpu: this.getCPU()\n      };\n    };\n\n    this.getUA = function () {\n      return ua;\n    };\n\n    this.setUA = function (uastring) {\n      ua = uastring;\n      return this;\n    };\n\n    return this;\n  };\n\n  UAParser.VERSION = LIBVERSION;\n  UAParser.BROWSER = {\n    NAME: NAME,\n    MAJOR: MAJOR,\n    // deprecated\n    VERSION: VERSION\n  };\n  UAParser.CPU = {\n    ARCHITECTURE: ARCHITECTURE\n  };\n  UAParser.DEVICE = {\n    MODEL: MODEL,\n    VENDOR: VENDOR,\n    TYPE: TYPE,\n    CONSOLE: CONSOLE,\n    MOBILE: MOBILE,\n    SMARTTV: SMARTTV,\n    TABLET: TABLET,\n    WEARABLE: WEARABLE,\n    EMBEDDED: EMBEDDED\n  };\n  UAParser.ENGINE = {\n    NAME: NAME,\n    VERSION: VERSION\n  };\n  UAParser.OS = {\n    NAME: NAME,\n    VERSION: VERSION\n  }; ///////////\n  // Export\n  //////////\n  // check js environment\n\n  if (typeof exports !== UNDEF_TYPE) {\n    // nodejs env\n    if (typeof module !== UNDEF_TYPE && module.exports) {\n      exports = module.exports = UAParser;\n    }\n\n    exports.UAParser = UAParser;\n  } else {\n    // requirejs env (optional)\n    if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return UAParser;\n      });\n    } else if (window) {\n      // browser env\n      window.UAParser = UAParser;\n    }\n  } // jQuery/Zepto specific (optional)\n  // Note:\n  //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n  //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n  //   and we should catch that.\n\n\n  var $ = window && (window.jQuery || window.Zepto);\n\n  if ($ && !$.ua) {\n    var parser = new UAParser();\n    $.ua = parser.getResult();\n\n    $.ua.get = function () {\n      return parser.getUA();\n    };\n\n    $.ua.set = function (uastring) {\n      parser.setUA(uastring);\n      var result = parser.getResult();\n\n      for (var prop in result) {\n        $.ua[prop] = result[prop];\n      }\n    };\n  }\n})(typeof window === 'object' ? window : this);","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Usage note:\n * This module makes a best effort to export the same data we would internally.\n * At Facebook we use a server-generated module that does the parsing and\n * exports the data for the client to use. We can't rely on a server-side\n * implementation in open source so instead we make use of an open source\n * library to do the heavy lifting and then make some adjustments as necessary.\n * It's likely there will be some differences. Some we can smooth over.\n * Others are going to be harder.\n */\n'use strict';\n\nvar UAParser = require(\"ua-parser-js\");\n\nvar UNKNOWN = 'Unknown';\nvar PLATFORM_MAP = {\n  'Mac OS': 'Mac OS X'\n};\n/**\n * Convert from UAParser platform name to what we expect.\n */\n\nfunction convertPlatformName(name) {\n  return PLATFORM_MAP[name] || name;\n}\n/**\n * Get the version number in parts. This is very naive. We actually get major\n * version as a part of UAParser already, which is generally good enough, but\n * let's get the minor just in case.\n */\n\n\nfunction getBrowserVersion(version) {\n  if (!version) {\n    return {\n      major: '',\n      minor: ''\n    };\n  }\n\n  var parts = version.split('.');\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}\n/**\n * Get the UA data fom UAParser and then convert it to the format we're\n * expecting for our APIS.\n */\n\n\nvar parser = new UAParser();\nvar results = parser.getResult(); // Do some conversion first.\n\nvar browserVersionData = getBrowserVersion(results.browser.version);\nvar uaData = {\n  browserArchitecture: results.cpu.architecture || UNKNOWN,\n  browserFullVersion: results.browser.version || UNKNOWN,\n  browserMinorVersion: browserVersionData.minor || UNKNOWN,\n  browserName: results.browser.name || UNKNOWN,\n  browserVersion: results.browser.major || UNKNOWN,\n  deviceName: results.device.model || UNKNOWN,\n  engineName: results.engine.name || UNKNOWN,\n  engineVersion: results.engine.version || UNKNOWN,\n  platformArchitecture: results.cpu.architecture || UNKNOWN,\n  platformName: convertPlatformName(results.os.name) || UNKNOWN,\n  platformVersion: results.os.version || UNKNOWN,\n  platformFullVersion: results.os.version || UNKNOWN\n};\nmodule.exports = uaData;","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\")); // modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\n\n\nfunction decodeCodePoint(codePoint) {\n  if (codePoint >= 0xd800 && codePoint <= 0xdfff || codePoint > 0x10ffff) {\n    return \"\\uFFFD\";\n  }\n\n  if (codePoint in decode_json_1.default) {\n    codePoint = decode_json_1.default[codePoint];\n  }\n\n  var output = \"\";\n\n  if (codePoint > 0xffff) {\n    codePoint -= 0x10000;\n    output += String.fromCharCode(codePoint >>> 10 & 0x3ff | 0xd800);\n    codePoint = 0xdc00 | codePoint & 0x3ff;\n  }\n\n  output += String.fromCharCode(codePoint);\n  return output;\n}\n\nexports.default = decodeCodePoint;","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar getOwnObjectValues = require(\"./getOwnObjectValues\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat,\n    Record = Immutable.Record;\n\nvar returnTrue = function returnTrue() {\n  return true;\n};\n\nvar defaultLeafRange = {\n  start: null,\n  end: null\n};\nvar LeafRange = Record(defaultLeafRange);\nvar defaultDecoratorRange = {\n  start: null,\n  end: null,\n  decoratorKey: null,\n  leaves: null\n};\nvar DecoratorRange = Record(defaultDecoratorRange);\nvar BlockTree = {\n  /**\n   * Generate a block tree for a given ContentBlock/decorator pair.\n   */\n  generate: function generate(contentState, block, decorator) {\n    var textLength = block.getLength();\n\n    if (!textLength) {\n      return List.of(new DecoratorRange({\n        start: 0,\n        end: 0,\n        decoratorKey: null,\n        leaves: List.of(new LeafRange({\n          start: 0,\n          end: 0\n        }))\n      }));\n    }\n\n    var leafSets = [];\n    var decorations = decorator ? decorator.getDecorations(block, contentState) : List(Repeat(null, textLength));\n    var chars = block.getCharacterList();\n    findRangesImmutable(decorations, areEqual, returnTrue, function (start, end) {\n      leafSets.push(new DecoratorRange({\n        start: start,\n        end: end,\n        decoratorKey: decorations.get(start),\n        leaves: generateLeaves(chars.slice(start, end).toList(), start)\n      }));\n    });\n    return List(leafSets);\n  },\n  fromJS: function fromJS(_ref) {\n    var leaves = _ref.leaves,\n        other = _objectWithoutPropertiesLoose(_ref, [\"leaves\"]);\n\n    return new DecoratorRange(_objectSpread({}, other, {\n      leaves: leaves != null ? List(Array.isArray(leaves) ? leaves : getOwnObjectValues(leaves)).map(function (leaf) {\n        return LeafRange(leaf);\n      }) : null\n    }));\n  }\n};\n/**\n * Generate LeafRange records for a given character list.\n */\n\nfunction generateLeaves(characters, offset) {\n  var leaves = [];\n  var inlineStyles = characters.map(function (c) {\n    return c.getStyle();\n  }).toList();\n  findRangesImmutable(inlineStyles, areEqual, returnTrue, function (start, end) {\n    leaves.push(new LeafRange({\n      start: start + offset,\n      end: end + offset\n    }));\n  });\n  return List(leaves);\n}\n\nfunction areEqual(a, b) {\n  return a === b;\n}\n\nmodule.exports = BlockTree;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar Immutable = require(\"immutable\");\n\nvar insertIntoList = require(\"./insertIntoList\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar randomizeBlockMapKeys = require(\"./randomizeBlockMapKeys\");\n\nvar List = Immutable.List;\n\nvar updateExistingBlock = function updateExistingBlock(contentState, selectionState, blockMap, fragmentBlock, targetKey, targetOffset) {\n  var mergeBlockData = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'REPLACE_WITH_NEW_DATA';\n  var targetBlock = blockMap.get(targetKey);\n  var text = targetBlock.getText();\n  var chars = targetBlock.getCharacterList();\n  var finalKey = targetKey;\n  var finalOffset = targetOffset + fragmentBlock.getText().length;\n  var data = null;\n\n  switch (mergeBlockData) {\n    case 'MERGE_OLD_DATA_TO_NEW_DATA':\n      data = fragmentBlock.getData().merge(targetBlock.getData());\n      break;\n\n    case 'REPLACE_WITH_NEW_DATA':\n      data = fragmentBlock.getData();\n      break;\n  }\n\n  var type = targetBlock.getType();\n\n  if (text && type === 'unstyled') {\n    type = fragmentBlock.getType();\n  }\n\n  var newBlock = targetBlock.merge({\n    text: text.slice(0, targetOffset) + fragmentBlock.getText() + text.slice(targetOffset),\n    characterList: insertIntoList(chars, fragmentBlock.getCharacterList(), targetOffset),\n    type: type,\n    data: data\n  });\n  return contentState.merge({\n    blockMap: blockMap.set(targetKey, newBlock),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: finalKey,\n      anchorOffset: finalOffset,\n      focusKey: finalKey,\n      focusOffset: finalOffset,\n      isBackward: false\n    })\n  });\n};\n/**\n * Appends text/characterList from the fragment first block to\n * target block.\n */\n\n\nvar updateHead = function updateHead(block, targetOffset, fragment) {\n  var text = block.getText();\n  var chars = block.getCharacterList(); // Modify head portion of block.\n\n  var headText = text.slice(0, targetOffset);\n  var headCharacters = chars.slice(0, targetOffset);\n  var appendToHead = fragment.first();\n  return block.merge({\n    text: headText + appendToHead.getText(),\n    characterList: headCharacters.concat(appendToHead.getCharacterList()),\n    type: headText ? block.getType() : appendToHead.getType(),\n    data: appendToHead.getData()\n  });\n};\n/**\n * Appends offset text/characterList from the target block to the last\n * fragment block.\n */\n\n\nvar updateTail = function updateTail(block, targetOffset, fragment) {\n  // Modify tail portion of block.\n  var text = block.getText();\n  var chars = block.getCharacterList(); // Modify head portion of block.\n\n  var blockSize = text.length;\n  var tailText = text.slice(targetOffset, blockSize);\n  var tailCharacters = chars.slice(targetOffset, blockSize);\n  var prependToTail = fragment.last();\n  return prependToTail.merge({\n    text: prependToTail.getText() + tailText,\n    characterList: prependToTail.getCharacterList().concat(tailCharacters),\n    data: prependToTail.getData()\n  });\n};\n\nvar getRootBlocks = function getRootBlocks(block, blockMap) {\n  var headKey = block.getKey();\n  var rootBlock = block;\n  var rootBlocks = []; // sometimes the fragment head block will not be part of the blockMap itself this can happen when\n  // the fragment head is used to update the target block, however when this does not happen we need\n  // to make sure that we include it on the rootBlocks since the first block of a fragment is always a\n  // fragment root block\n\n  if (blockMap.get(headKey)) {\n    rootBlocks.push(headKey);\n  }\n\n  while (rootBlock && rootBlock.getNextSiblingKey()) {\n    var lastSiblingKey = rootBlock.getNextSiblingKey();\n\n    if (!lastSiblingKey) {\n      break;\n    }\n\n    rootBlocks.push(lastSiblingKey);\n    rootBlock = blockMap.get(lastSiblingKey);\n  }\n\n  return rootBlocks;\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockMap, targetBlock, fragmentHeadBlock) {\n  return blockMap.withMutations(function (blockMapState) {\n    var targetKey = targetBlock.getKey();\n    var headKey = fragmentHeadBlock.getKey();\n    var targetNextKey = targetBlock.getNextSiblingKey();\n    var targetParentKey = targetBlock.getParentKey();\n    var fragmentRootBlocks = getRootBlocks(fragmentHeadBlock, blockMap);\n    var lastRootFragmentBlockKey = fragmentRootBlocks[fragmentRootBlocks.length - 1];\n\n    if (blockMapState.get(headKey)) {\n      // update the fragment head when it is part of the blockMap otherwise\n      blockMapState.setIn([targetKey, 'nextSibling'], headKey);\n      blockMapState.setIn([headKey, 'prevSibling'], targetKey);\n    } else {\n      // update the target block that had the fragment head contents merged into it\n      blockMapState.setIn([targetKey, 'nextSibling'], fragmentHeadBlock.getNextSiblingKey());\n      blockMapState.setIn([fragmentHeadBlock.getNextSiblingKey(), 'prevSibling'], targetKey);\n    } // update the last root block fragment\n\n\n    blockMapState.setIn([lastRootFragmentBlockKey, 'nextSibling'], targetNextKey); // update the original target next block\n\n    if (targetNextKey) {\n      blockMapState.setIn([targetNextKey, 'prevSibling'], lastRootFragmentBlockKey);\n    } // update fragment parent links\n\n\n    fragmentRootBlocks.forEach(function (blockKey) {\n      return blockMapState.setIn([blockKey, 'parent'], targetParentKey);\n    }); // update targetBlock parent child links\n\n    if (targetParentKey) {\n      var targetParent = blockMap.get(targetParentKey);\n      var originalTargetParentChildKeys = targetParent.getChildKeys();\n      var targetBlockIndex = originalTargetParentChildKeys.indexOf(targetKey);\n      var insertionIndex = targetBlockIndex + 1;\n      var newChildrenKeysArray = originalTargetParentChildKeys.toArray(); // insert fragment children\n\n      newChildrenKeysArray.splice.apply(newChildrenKeysArray, [insertionIndex, 0].concat(fragmentRootBlocks));\n      blockMapState.setIn([targetParentKey, 'children'], List(newChildrenKeysArray));\n    }\n  });\n};\n\nvar insertFragment = function insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n  var newBlockArr = [];\n  var fragmentSize = fragment.size;\n  var target = blockMap.get(targetKey);\n  var head = fragment.first();\n  var tail = fragment.last();\n  var finalOffset = tail.getLength();\n  var finalKey = tail.getKey();\n  var shouldNotUpdateFromFragmentBlock = isTreeBasedBlockMap && (!target.getChildKeys().isEmpty() || !head.getChildKeys().isEmpty());\n  blockMap.forEach(function (block, blockKey) {\n    if (blockKey !== targetKey) {\n      newBlockArr.push(block);\n      return;\n    }\n\n    if (shouldNotUpdateFromFragmentBlock) {\n      newBlockArr.push(block);\n    } else {\n      newBlockArr.push(updateHead(block, targetOffset, fragment));\n    } // Insert fragment blocks after the head and before the tail.\n\n\n    fragment // when we are updating the target block with the head fragment block we skip the first fragment\n    // head since its contents have already been merged with the target block otherwise we include\n    // the whole fragment\n    .slice(shouldNotUpdateFromFragmentBlock ? 0 : 1, fragmentSize - 1).forEach(function (fragmentBlock) {\n      return newBlockArr.push(fragmentBlock);\n    }); // update tail\n\n    newBlockArr.push(updateTail(block, targetOffset, fragment));\n  });\n  var updatedBlockMap = BlockMapBuilder.createFromArray(newBlockArr);\n\n  if (isTreeBasedBlockMap) {\n    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, blockMap, target, head);\n  }\n\n  return contentState.merge({\n    blockMap: updatedBlockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: finalKey,\n      anchorOffset: finalOffset,\n      focusKey: finalKey,\n      focusOffset: finalOffset,\n      isBackward: false\n    })\n  });\n};\n\nvar insertFragmentIntoContentState = function insertFragmentIntoContentState(contentState, selectionState, fragmentBlockMap) {\n  var mergeBlockData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'REPLACE_WITH_NEW_DATA';\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`insertFragment` should only be called with a collapsed selection state.') : invariant(false) : void 0;\n  var blockMap = contentState.getBlockMap();\n  var fragment = randomizeBlockMapKeys(fragmentBlockMap);\n  var targetKey = selectionState.getStartKey();\n  var targetOffset = selectionState.getStartOffset();\n  var targetBlock = blockMap.get(targetKey);\n\n  if (targetBlock instanceof ContentBlockNode) {\n    !targetBlock.getChildKeys().isEmpty() ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`insertFragment` should not be called when a container node is selected.') : invariant(false) : void 0;\n  } // When we insert a fragment with a single block we simply update the target block\n  // with the contents of the inserted fragment block\n\n\n  if (fragment.size === 1) {\n    return updateExistingBlock(contentState, selectionState, blockMap, fragment.first(), targetKey, targetOffset, mergeBlockData);\n  }\n\n  return insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset);\n};\n\nmodule.exports = insertFragmentIntoContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getOwnObjectValues = require(\"./getOwnObjectValues\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar sanitizeDraftText = require(\"./sanitizeDraftText\");\n\nvar List = Immutable.List,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat,\n    ImmutableMap = Immutable.Map,\n    OrderedMap = Immutable.OrderedMap;\nvar defaultRecord = {\n  entityMap: null,\n  blockMap: null,\n  selectionBefore: null,\n  selectionAfter: null\n};\nvar ContentStateRecord = Record(defaultRecord);\n/* $FlowFixMe[signature-verification-failure] Supressing a `signature-\n * verification-failure` error here. TODO: T65949050 Clean up the branch for\n * this GK */\n\nvar ContentBlockNodeRecord = gkx('draft_tree_data_support') ? ContentBlockNode : ContentBlock;\n\nvar ContentState = /*#__PURE__*/function (_ContentStateRecord) {\n  _inheritsLoose(ContentState, _ContentStateRecord);\n\n  function ContentState() {\n    return _ContentStateRecord.apply(this, arguments) || this;\n  }\n\n  var _proto = ContentState.prototype;\n\n  _proto.getEntityMap = function getEntityMap() {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity;\n  };\n\n  _proto.getBlockMap = function getBlockMap() {\n    return this.get('blockMap');\n  };\n\n  _proto.getSelectionBefore = function getSelectionBefore() {\n    return this.get('selectionBefore');\n  };\n\n  _proto.getSelectionAfter = function getSelectionAfter() {\n    return this.get('selectionAfter');\n  };\n\n  _proto.getBlockForKey = function getBlockForKey(key) {\n    var block = this.getBlockMap().get(key);\n    return block;\n  };\n\n  _proto.getKeyBefore = function getKeyBefore(key) {\n    return this.getBlockMap().reverse().keySeq().skipUntil(function (v) {\n      return v === key;\n    }).skip(1).first();\n  };\n\n  _proto.getKeyAfter = function getKeyAfter(key) {\n    return this.getBlockMap().keySeq().skipUntil(function (v) {\n      return v === key;\n    }).skip(1).first();\n  };\n\n  _proto.getBlockAfter = function getBlockAfter(key) {\n    return this.getBlockMap().skipUntil(function (_, k) {\n      return k === key;\n    }).skip(1).first();\n  };\n\n  _proto.getBlockBefore = function getBlockBefore(key) {\n    return this.getBlockMap().reverse().skipUntil(function (_, k) {\n      return k === key;\n    }).skip(1).first();\n  };\n\n  _proto.getBlocksAsArray = function getBlocksAsArray() {\n    return this.getBlockMap().toArray();\n  };\n\n  _proto.getFirstBlock = function getFirstBlock() {\n    return this.getBlockMap().first();\n  };\n\n  _proto.getLastBlock = function getLastBlock() {\n    return this.getBlockMap().last();\n  };\n\n  _proto.getPlainText = function getPlainText(delimiter) {\n    return this.getBlockMap().map(function (block) {\n      return block ? block.getText() : '';\n    }).join(delimiter || '\\n');\n  };\n\n  _proto.getLastCreatedEntityKey = function getLastCreatedEntityKey() {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity.__getLastCreatedEntityKey();\n  };\n\n  _proto.hasText = function hasText() {\n    var blockMap = this.getBlockMap();\n    return blockMap.size > 1 || // make sure that there are no zero width space chars\n    escape(blockMap.first().getText()).replace(/%u200B/g, '').length > 0;\n  };\n\n  _proto.createEntity = function createEntity(type, mutability, data) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__create(type, mutability, data);\n\n    return this;\n  };\n\n  _proto.mergeEntityData = function mergeEntityData(key, toMerge) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__mergeData(key, toMerge);\n\n    return this;\n  };\n\n  _proto.replaceEntityData = function replaceEntityData(key, newData) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__replaceData(key, newData);\n\n    return this;\n  };\n\n  _proto.addEntity = function addEntity(instance) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__add(instance);\n\n    return this;\n  };\n\n  _proto.getEntity = function getEntity(key) {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity.__get(key);\n  };\n\n  _proto.getAllEntities = function getAllEntities() {\n    return DraftEntity.__getAll();\n  };\n\n  _proto.loadWithEntities = function loadWithEntities(entities) {\n    return DraftEntity.__loadWithEntities(entities);\n  };\n\n  ContentState.createFromBlockArray = function createFromBlockArray( // TODO: update flow type when we completely deprecate the old entity API\n  blocks, entityMap) {\n    // TODO: remove this when we completely deprecate the old entity API\n    var theBlocks = Array.isArray(blocks) ? blocks : blocks.contentBlocks;\n    var blockMap = BlockMapBuilder.createFromArray(theBlocks);\n    var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());\n    return new ContentState({\n      blockMap: blockMap,\n      entityMap: entityMap || DraftEntity,\n      selectionBefore: selectionState,\n      selectionAfter: selectionState\n    });\n  };\n\n  ContentState.createFromText = function createFromText(text) {\n    var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : /\\r\\n?|\\n/g;\n    var strings = text.split(delimiter);\n    var blocks = strings.map(function (block) {\n      block = sanitizeDraftText(block);\n      return new ContentBlockNodeRecord({\n        key: generateRandomKey(),\n        text: block,\n        type: 'unstyled',\n        characterList: List(Repeat(CharacterMetadata.EMPTY, block.length))\n      });\n    });\n    return ContentState.createFromBlockArray(blocks);\n  };\n\n  ContentState.fromJS = function fromJS(state) {\n    return new ContentState(_objectSpread({}, state, {\n      blockMap: OrderedMap(state.blockMap).map(ContentState.createContentBlockFromJS),\n      selectionBefore: new SelectionState(state.selectionBefore),\n      selectionAfter: new SelectionState(state.selectionAfter)\n    }));\n  };\n\n  ContentState.createContentBlockFromJS = function createContentBlockFromJS(block) {\n    var characterList = block.characterList;\n    return new ContentBlockNodeRecord(_objectSpread({}, block, {\n      data: ImmutableMap(block.data),\n      characterList: characterList != null ? List((Array.isArray(characterList) ? characterList : getOwnObjectValues(characterList)).map(function (c) {\n        return CharacterMetadata.fromJS(c);\n      })) : undefined\n    }));\n  };\n\n  return ContentState;\n}(ContentStateRecord);\n\nmodule.exports = ContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar _require = require(\"immutable\"),\n    Map = _require.Map;\n\nvar ContentStateInlineStyle = {\n  add: function add(contentState, selectionState, inlineStyle) {\n    return modifyInlineStyle(contentState, selectionState, inlineStyle, true);\n  },\n  remove: function remove(contentState, selectionState, inlineStyle) {\n    return modifyInlineStyle(contentState, selectionState, inlineStyle, false);\n  }\n};\n\nfunction modifyInlineStyle(contentState, selectionState, inlineStyle, addOrRemove) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart;\n    var sliceEnd;\n\n    if (startKey === endKey) {\n      sliceStart = startOffset;\n      sliceEnd = endOffset;\n    } else {\n      sliceStart = blockKey === startKey ? startOffset : 0;\n      sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    }\n\n    var chars = block.getCharacterList();\n    var current;\n\n    while (sliceStart < sliceEnd) {\n      current = chars.get(sliceStart);\n      chars = chars.set(sliceStart, addOrRemove ? CharacterMetadata.applyStyle(current, inlineStyle) : CharacterMetadata.removeStyle(current, inlineStyle));\n      sliceStart++;\n    }\n\n    return block.set('characterList', chars);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = ContentStateInlineStyle;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nfunction keyCommandInsertNewline(editorState) {\n  var contentState = DraftModifier.splitBlock(editorState.getCurrentContent(), editorState.getSelection());\n  return EditorState.push(editorState, contentState, 'split-block');\n}\n\nmodule.exports = keyCommandInsertNewline;","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nfunction isInstanceOfNode(target) {\n  // we changed the name because of having duplicate module provider (fbjs)\n  if (!target || !('ownerDocument' in target)) {\n    return false;\n  }\n\n  if ('ownerDocument' in target) {\n    var node = target;\n\n    if (!node.ownerDocument.defaultView) {\n      return node instanceof Node;\n    }\n\n    if (node instanceof node.ownerDocument.defaultView.Node) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nmodule.exports = isInstanceOfNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Immutable = require(\"immutable\");\n\nvar Map = Immutable.Map;\n\nfunction modifyBlockForContentState(contentState, selectionState, operation) {\n  var startKey = selectionState.getStartKey();\n  var endKey = selectionState.getEndKey();\n  var blockMap = contentState.getBlockMap();\n  var newBlocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(operation);\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = modifyBlockForContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n'use strict';\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are unbounded, unlike `getScrollPosition`. This means they\n * may be negative or exceed the element boundaries (which is possible using\n * inertial scrolling).\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\nfunction getUnboundedScrollPosition(scrollable) {\n  if (scrollable.Window && scrollable instanceof scrollable.Window) {\n    return {\n      x: scrollable.pageXOffset || scrollable.document.documentElement.scrollLeft,\n      y: scrollable.pageYOffset || scrollable.document.documentElement.scrollTop\n    };\n  }\n\n  return {\n    x: scrollable.scrollLeft,\n    y: scrollable.scrollTop\n  };\n}\n\nmodule.exports = getUnboundedScrollPosition;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nvar PhotosMimeType = {\n  isImage: function isImage(mimeString) {\n    return getParts(mimeString)[0] === 'image';\n  },\n  isJpeg: function isJpeg(mimeString) {\n    var parts = getParts(mimeString);\n    return PhotosMimeType.isImage(mimeString) && ( // see http://fburl.com/10972194\n    parts[1] === 'jpeg' || parts[1] === 'pjpeg');\n  }\n};\n\nfunction getParts(mimeString) {\n  return mimeString.split('/');\n}\n\nmodule.exports = PhotosMimeType;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmptyTextNode;\n/**\n * Tests a htmlparser2 node and returns whether is it a text node at the start and end of the line containing only\n * white space. This allows these node types to be excluded from the rendering because they are unnecessary.\n *\n * @param {Object} node The element object as created by htmlparser2\n * @returns {boolean} Whether the node is an empty text node\n */\n\nfunction isEmptyTextNode(node) {\n  return node.type === 'text' && /\\r?\\n/.test(node.data) && node.data.trim() === '';\n}","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar _hyphenPattern = /-(.)/g;\n/**\n * Camelcases a hyphenated string, for example:\n *\n *   > camelize('background-color')\n *   < \"backgroundColor\"\n *\n * @param {string} string\n * @return {string}\n */\n\nfunction camelize(string) {\n  return string.replace(_hyphenPattern, function (_, character) {\n    return character.toUpperCase();\n  });\n}\n\nmodule.exports = camelize;","var ElementType = require(\"domelementtype\");\n\nvar re_whitespace = /\\s+/g;\n\nvar NodePrototype = require(\"./lib/node\");\n\nvar ElementPrototype = require(\"./lib/element\");\n\nfunction DomHandler(callback, options, elementCB) {\n  if (typeof callback === \"object\") {\n    elementCB = options;\n    options = callback;\n    callback = null;\n  } else if (typeof options === \"function\") {\n    elementCB = options;\n    options = defaultOpts;\n  }\n\n  this._callback = callback;\n  this._options = options || defaultOpts;\n  this._elementCB = elementCB;\n  this.dom = [];\n  this._done = false;\n  this._tagStack = [];\n  this._parser = this._parser || null;\n} //default options\n\n\nvar defaultOpts = {\n  normalizeWhitespace: false,\n  //Replace all whitespace with single spaces\n  withStartIndices: false,\n  //Add startIndex properties to nodes\n  withEndIndices: false //Add endIndex properties to nodes\n\n};\n\nDomHandler.prototype.onparserinit = function (parser) {\n  this._parser = parser;\n}; //Resets the handler back to starting state\n\n\nDomHandler.prototype.onreset = function () {\n  DomHandler.call(this, this._callback, this._options, this._elementCB);\n}; //Signals the handler that parsing is done\n\n\nDomHandler.prototype.onend = function () {\n  if (this._done) return;\n  this._done = true;\n  this._parser = null;\n\n  this._handleCallback(null);\n};\n\nDomHandler.prototype._handleCallback = DomHandler.prototype.onerror = function (error) {\n  if (typeof this._callback === \"function\") {\n    this._callback(error, this.dom);\n  } else {\n    if (error) throw error;\n  }\n};\n\nDomHandler.prototype.onclosetag = function () {\n  //if(this._tagStack.pop().name !== name) this._handleCallback(Error(\"Tagname didn't match!\"));\n  var elem = this._tagStack.pop();\n\n  if (this._options.withEndIndices && elem) {\n    elem.endIndex = this._parser.endIndex;\n  }\n\n  if (this._elementCB) this._elementCB(elem);\n};\n\nDomHandler.prototype._createDomElement = function (properties) {\n  if (!this._options.withDomLvl1) return properties;\n  var element;\n\n  if (properties.type === \"tag\") {\n    element = Object.create(ElementPrototype);\n  } else {\n    element = Object.create(NodePrototype);\n  }\n\n  for (var key in properties) {\n    if (properties.hasOwnProperty(key)) {\n      element[key] = properties[key];\n    }\n  }\n\n  return element;\n};\n\nDomHandler.prototype._addDomElement = function (element) {\n  var parent = this._tagStack[this._tagStack.length - 1];\n  var siblings = parent ? parent.children : this.dom;\n  var previousSibling = siblings[siblings.length - 1];\n  element.next = null;\n\n  if (this._options.withStartIndices) {\n    element.startIndex = this._parser.startIndex;\n  }\n\n  if (this._options.withEndIndices) {\n    element.endIndex = this._parser.endIndex;\n  }\n\n  if (previousSibling) {\n    element.prev = previousSibling;\n    previousSibling.next = element;\n  } else {\n    element.prev = null;\n  }\n\n  siblings.push(element);\n  element.parent = parent || null;\n};\n\nDomHandler.prototype.onopentag = function (name, attribs) {\n  var properties = {\n    type: name === \"script\" ? ElementType.Script : name === \"style\" ? ElementType.Style : ElementType.Tag,\n    name: name,\n    attribs: attribs,\n    children: []\n  };\n\n  var element = this._createDomElement(properties);\n\n  this._addDomElement(element);\n\n  this._tagStack.push(element);\n};\n\nDomHandler.prototype.ontext = function (data) {\n  //the ignoreWhitespace is officially dropped, but for now,\n  //it's an alias for normalizeWhitespace\n  var normalize = this._options.normalizeWhitespace || this._options.ignoreWhitespace;\n  var lastTag;\n\n  if (!this._tagStack.length && this.dom.length && (lastTag = this.dom[this.dom.length - 1]).type === ElementType.Text) {\n    if (normalize) {\n      lastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\n    } else {\n      lastTag.data += data;\n    }\n  } else {\n    if (this._tagStack.length && (lastTag = this._tagStack[this._tagStack.length - 1]) && (lastTag = lastTag.children[lastTag.children.length - 1]) && lastTag.type === ElementType.Text) {\n      if (normalize) {\n        lastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\n      } else {\n        lastTag.data += data;\n      }\n    } else {\n      if (normalize) {\n        data = data.replace(re_whitespace, \" \");\n      }\n\n      var element = this._createDomElement({\n        data: data,\n        type: ElementType.Text\n      });\n\n      this._addDomElement(element);\n    }\n  }\n};\n\nDomHandler.prototype.oncomment = function (data) {\n  var lastTag = this._tagStack[this._tagStack.length - 1];\n\n  if (lastTag && lastTag.type === ElementType.Comment) {\n    lastTag.data += data;\n    return;\n  }\n\n  var properties = {\n    data: data,\n    type: ElementType.Comment\n  };\n\n  var element = this._createDomElement(properties);\n\n  this._addDomElement(element);\n\n  this._tagStack.push(element);\n};\n\nDomHandler.prototype.oncdatastart = function () {\n  var properties = {\n    children: [{\n      data: \"\",\n      type: ElementType.Text\n    }],\n    type: ElementType.CDATA\n  };\n\n  var element = this._createDomElement(properties);\n\n  this._addDomElement(element);\n\n  this._tagStack.push(element);\n};\n\nDomHandler.prototype.oncommentend = DomHandler.prototype.oncdataend = function () {\n  this._tagStack.pop();\n};\n\nDomHandler.prototype.onprocessinginstruction = function (name, data) {\n  var element = this._createDomElement({\n    name: name,\n    data: data,\n    type: ElementType.Directive\n  });\n\n  this._addDomElement(element);\n};\n\nmodule.exports = DomHandler;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar adjustBlockDepthForContentState = require(\"./adjustBlockDepthForContentState\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar RichTextEditorUtil = {\n  currentBlockContainsLink: function currentBlockContainsLink(editorState) {\n    var selection = editorState.getSelection();\n    var contentState = editorState.getCurrentContent();\n    var entityMap = contentState.getEntityMap();\n    return contentState.getBlockForKey(selection.getAnchorKey()).getCharacterList().slice(selection.getStartOffset(), selection.getEndOffset()).some(function (v) {\n      var entity = v.getEntity();\n      return !!entity && entityMap.__get(entity).getType() === 'LINK';\n    });\n  },\n  getCurrentBlockType: function getCurrentBlockType(editorState) {\n    var selection = editorState.getSelection();\n    return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\n  },\n  getDataObjectForLinkURL: function getDataObjectForLinkURL(uri) {\n    return {\n      url: uri.toString()\n    };\n  },\n  handleKeyCommand: function handleKeyCommand(editorState, command, eventTimeStamp) {\n    switch (command) {\n      case 'bold':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'BOLD');\n\n      case 'italic':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'ITALIC');\n\n      case 'underline':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'UNDERLINE');\n\n      case 'code':\n        return RichTextEditorUtil.toggleCode(editorState);\n\n      case 'backspace':\n      case 'backspace-word':\n      case 'backspace-to-start-of-line':\n        return RichTextEditorUtil.onBackspace(editorState);\n\n      case 'delete':\n      case 'delete-word':\n      case 'delete-to-end-of-block':\n        return RichTextEditorUtil.onDelete(editorState);\n\n      default:\n        // they may have custom editor commands; ignore those\n        return null;\n    }\n  },\n  insertSoftNewline: function insertSoftNewline(editorState) {\n    var contentState = DraftModifier.insertText(editorState.getCurrentContent(), editorState.getSelection(), '\\n', editorState.getCurrentInlineStyle(), null);\n    var newEditorState = EditorState.push(editorState, contentState, 'insert-characters');\n    return EditorState.forceSelection(newEditorState, contentState.getSelectionAfter());\n  },\n\n  /**\n   * For collapsed selections at the start of styled blocks, backspace should\n   * just remove the existing style.\n   */\n  onBackspace: function onBackspace(editorState) {\n    var selection = editorState.getSelection();\n\n    if (!selection.isCollapsed() || selection.getAnchorOffset() || selection.getFocusOffset()) {\n      return null;\n    } // First, try to remove a preceding atomic block.\n\n\n    var content = editorState.getCurrentContent();\n    var startKey = selection.getStartKey();\n    var blockBefore = content.getBlockBefore(startKey);\n\n    if (blockBefore && blockBefore.getType() === 'atomic') {\n      var blockMap = content.getBlockMap()[\"delete\"](blockBefore.getKey());\n      var withoutAtomicBlock = content.merge({\n        blockMap: blockMap,\n        selectionAfter: selection\n      });\n\n      if (withoutAtomicBlock !== content) {\n        return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');\n      }\n    } // If that doesn't succeed, try to remove the current block style.\n\n\n    var withoutBlockStyle = RichTextEditorUtil.tryToRemoveBlockStyle(editorState);\n\n    if (withoutBlockStyle) {\n      return EditorState.push(editorState, withoutBlockStyle, 'change-block-type');\n    }\n\n    return null;\n  },\n  onDelete: function onDelete(editorState) {\n    var selection = editorState.getSelection();\n\n    if (!selection.isCollapsed()) {\n      return null;\n    }\n\n    var content = editorState.getCurrentContent();\n    var startKey = selection.getStartKey();\n    var block = content.getBlockForKey(startKey);\n    var length = block.getLength(); // The cursor is somewhere within the text. Behave normally.\n\n    if (selection.getStartOffset() < length) {\n      return null;\n    }\n\n    var blockAfter = content.getBlockAfter(startKey);\n\n    if (!blockAfter || blockAfter.getType() !== 'atomic') {\n      return null;\n    }\n\n    var atomicBlockTarget = selection.merge({\n      focusKey: blockAfter.getKey(),\n      focusOffset: blockAfter.getLength()\n    });\n    var withoutAtomicBlock = DraftModifier.removeRange(content, atomicBlockTarget, 'forward');\n\n    if (withoutAtomicBlock !== content) {\n      return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');\n    }\n\n    return null;\n  },\n  onTab: function onTab(event, editorState, maxDepth) {\n    var selection = editorState.getSelection();\n    var key = selection.getAnchorKey();\n\n    if (key !== selection.getFocusKey()) {\n      return editorState;\n    }\n\n    var content = editorState.getCurrentContent();\n    var block = content.getBlockForKey(key);\n    var type = block.getType();\n\n    if (type !== 'unordered-list-item' && type !== 'ordered-list-item') {\n      return editorState;\n    }\n\n    event.preventDefault();\n    var depth = block.getDepth();\n\n    if (!event.shiftKey && depth === maxDepth) {\n      return editorState;\n    }\n\n    var withAdjustment = adjustBlockDepthForContentState(content, selection, event.shiftKey ? -1 : 1, maxDepth);\n    return EditorState.push(editorState, withAdjustment, 'adjust-depth');\n  },\n  toggleBlockType: function toggleBlockType(editorState, blockType) {\n    var selection = editorState.getSelection();\n    var startKey = selection.getStartKey();\n    var endKey = selection.getEndKey();\n    var content = editorState.getCurrentContent();\n    var target = selection; // Triple-click can lead to a selection that includes offset 0 of the\n    // following block. The `SelectionState` for this case is accurate, but\n    // we should avoid toggling block type for the trailing block because it\n    // is a confusing interaction.\n\n    if (startKey !== endKey && selection.getEndOffset() === 0) {\n      var blockBefore = nullthrows(content.getBlockBefore(endKey));\n      endKey = blockBefore.getKey();\n      target = target.merge({\n        anchorKey: startKey,\n        anchorOffset: selection.getStartOffset(),\n        focusKey: endKey,\n        focusOffset: blockBefore.getLength(),\n        isBackward: false\n      });\n    }\n\n    var hasAtomicBlock = content.getBlockMap().skipWhile(function (_, k) {\n      return k !== startKey;\n    }).reverse().skipWhile(function (_, k) {\n      return k !== endKey;\n    }).some(function (v) {\n      return v.getType() === 'atomic';\n    });\n\n    if (hasAtomicBlock) {\n      return editorState;\n    }\n\n    var typeToSet = content.getBlockForKey(startKey).getType() === blockType ? 'unstyled' : blockType;\n    return EditorState.push(editorState, DraftModifier.setBlockType(content, target, typeToSet), 'change-block-type');\n  },\n  toggleCode: function toggleCode(editorState) {\n    var selection = editorState.getSelection();\n    var anchorKey = selection.getAnchorKey();\n    var focusKey = selection.getFocusKey();\n\n    if (selection.isCollapsed() || anchorKey !== focusKey) {\n      return RichTextEditorUtil.toggleBlockType(editorState, 'code-block');\n    }\n\n    return RichTextEditorUtil.toggleInlineStyle(editorState, 'CODE');\n  },\n\n  /**\n   * Toggle the specified inline style for the selection. If the\n   * user's selection is collapsed, apply or remove the style for the\n   * internal state. If it is not collapsed, apply the change directly\n   * to the document state.\n   */\n  toggleInlineStyle: function toggleInlineStyle(editorState, inlineStyle) {\n    var selection = editorState.getSelection();\n    var currentStyle = editorState.getCurrentInlineStyle(); // If the selection is collapsed, toggle the specified style on or off and\n    // set the result as the new inline style override. This will then be\n    // used as the inline style for the next character to be inserted.\n\n    if (selection.isCollapsed()) {\n      return EditorState.setInlineStyleOverride(editorState, currentStyle.has(inlineStyle) ? currentStyle.remove(inlineStyle) : currentStyle.add(inlineStyle));\n    } // If characters are selected, immediately apply or remove the\n    // inline style on the document state itself.\n\n\n    var content = editorState.getCurrentContent();\n    var newContent; // If the style is already present for the selection range, remove it.\n    // Otherwise, apply it.\n\n    if (currentStyle.has(inlineStyle)) {\n      newContent = DraftModifier.removeInlineStyle(content, selection, inlineStyle);\n    } else {\n      newContent = DraftModifier.applyInlineStyle(content, selection, inlineStyle);\n    }\n\n    return EditorState.push(editorState, newContent, 'change-inline-style');\n  },\n  toggleLink: function toggleLink(editorState, targetSelection, entityKey) {\n    var withoutLink = DraftModifier.applyEntity(editorState.getCurrentContent(), targetSelection, entityKey);\n    return EditorState.push(editorState, withoutLink, 'apply-entity');\n  },\n\n  /**\n   * When a collapsed cursor is at the start of a styled block, changes block\n   * type to 'unstyled'. Returns null if selection does not meet that criteria.\n   */\n  tryToRemoveBlockStyle: function tryToRemoveBlockStyle(editorState) {\n    var selection = editorState.getSelection();\n    var offset = selection.getAnchorOffset();\n\n    if (selection.isCollapsed() && offset === 0) {\n      var key = selection.getAnchorKey();\n      var content = editorState.getCurrentContent();\n      var block = content.getBlockForKey(key);\n      var type = block.getType();\n      var blockBefore = content.getBlockBefore(key);\n\n      if (type === 'code-block' && blockBefore && blockBefore.getType() === 'code-block' && blockBefore.getLength() !== 0) {\n        return null;\n      }\n\n      if (type !== 'unstyled') {\n        return DraftModifier.setBlockType(content, selection, 'unstyled');\n      }\n    }\n\n    return null;\n  }\n};\nmodule.exports = RichTextEditorUtil;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar DraftJsDebugLogging = require(\"./DraftJsDebugLogging\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar containsNode = require(\"fbjs/lib/containsNode\");\n\nvar getActiveElement = require(\"fbjs/lib/getActiveElement\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\");\n\nvar isIE = UserAgent.isBrowser('IE');\n\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n\n  !isElement(anonymized) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  var castedElement = anonymized;\n  return castedElement.outerHTML;\n}\n\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return getCorrectDocumentFromNode(node).createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n\n  var clone = node.cloneNode();\n\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n\n  var childNodes = node.childNodes;\n\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n\n  return clone;\n}\n\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node; // this should only be used after checking with isElement\n\n  var castedNode = currentNode;\n\n  while (currentNode) {\n    if (isElement(currentNode) && castedNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n      castedNode = currentNode;\n    }\n  }\n\n  return 'Could not find contentEditable parent of node';\n}\n\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\n\n\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  var documentObject = getCorrectDocumentFromNode(node);\n\n  if (!containsNode(documentObject.documentElement, node)) {\n    return;\n  }\n\n  var selection = documentObject.defaultView.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward(); // IE doesn't support backward selection. Swap key/offset pairs.\n\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset; // If the selection is entirely bound within this node, set the selection\n  // and be done.\n\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    } // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n\n\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    } // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n\n\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n/**\n * Extend selection towards focus point.\n */\n\n\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  var extend = selection.extend; // containsNode returns false if node is null.\n  // Let's refine the type of this value out here so flow knows.\n\n  if (extend && node != null && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({\n          offset: offset\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    } // logging to catch bug that is being reported in t18110632\n\n\n    var nodeWasFocus = node === selection.focusNode;\n\n    try {\n      // Fixes some reports of \"InvalidStateError: Failed to execute 'extend' on\n      // 'Selection': This Selection object doesn't have any Ranges.\"\n      // Note: selection.extend does not exist in IE.\n      if (selection.rangeCount > 0 && selection.extend) {\n        selection.extend(node, offset);\n      }\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      }); // allow the error to be thrown -\n      // better than continuing in a broken state\n\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    if (node && selection.rangeCount > 0) {\n      var range = selection.getRangeAt(0);\n      range.setEnd(node, offset);\n      selection.addRange(range.cloneRange());\n    }\n  }\n}\n\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = getCorrectDocumentFromNode(node).createRange(); // logging to catch bug that is being reported in t16250795\n\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({\n        offset: offset\n      }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n    DraftEffects.handleExtensionCausedError();\n  }\n\n  range.setStart(node, offset); // IE sometimes throws Unspecified Error when trying to addRange\n\n  if (isIE) {\n    try {\n      selection.addRange(range);\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        /* eslint-disable-next-line no-console */\n        console.warn('Call to selection.addRange() threw exception: ', e);\n      }\n    }\n  } else {\n    selection.addRange(range);\n  }\n}\n\nmodule.exports = {\n  setDraftEditorSelection: setDraftEditorSelection,\n  addFocusToSelection: addFocusToSelection\n};","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nfunction isHTMLElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  if (!node.ownerDocument.defaultView) {\n    return node instanceof HTMLElement;\n  }\n\n  if (node instanceof node.ownerDocument.defaultView.HTMLElement) {\n    return true;\n  }\n\n  return false;\n}\n\nmodule.exports = isHTMLElement;","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n\n      var TempCtor = function TempCtor() {};\n\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}","\"use strict\";\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar traverseInDepthOrder = function traverseInDepthOrder(blocks, fn) {\n  var stack = [].concat(blocks).reverse();\n\n  while (stack.length) {\n    var _block = stack.pop();\n\n    fn(_block);\n    var children = _block.children;\n    !Array.isArray(children) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid tree raw block') : invariant(false) : void 0;\n    stack = stack.concat([].concat(children.reverse()));\n  }\n};\n\nvar isListBlock = function isListBlock(block) {\n  if (!(block && block.type)) {\n    return false;\n  }\n\n  var type = block.type;\n  return type === 'unordered-list-item' || type === 'ordered-list-item';\n};\n\nvar addDepthToChildren = function addDepthToChildren(block) {\n  if (Array.isArray(block.children)) {\n    block.children = block.children.map(function (child) {\n      return child.type === block.type ? _objectSpread({}, child, {\n        depth: (block.depth || 0) + 1\n      }) : child;\n    });\n  }\n};\n/**\n * This adapter is intended to be be used as an adapter to draft tree data\n *\n * draft state <=====> draft tree state\n */\n\n\nvar DraftTreeAdapter = {\n  /**\n   * Converts from a tree raw state back to draft raw state\n   */\n  fromRawTreeStateToRawState: function fromRawTreeStateToRawState(draftTreeState) {\n    var blocks = draftTreeState.blocks;\n    var transformedBlocks = [];\n    !Array.isArray(blocks) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid raw state') : invariant(false) : void 0;\n\n    if (!Array.isArray(blocks) || !blocks.length) {\n      return draftTreeState;\n    }\n\n    traverseInDepthOrder(blocks, function (block) {\n      var newBlock = _objectSpread({}, block);\n\n      if (isListBlock(block)) {\n        newBlock.depth = newBlock.depth || 0;\n        addDepthToChildren(block); // if it's a non-leaf node, we don't do anything else\n\n        if (block.children != null && block.children.length > 0) {\n          return;\n        }\n      }\n\n      delete newBlock.children;\n      transformedBlocks.push(newBlock);\n    });\n    draftTreeState.blocks = transformedBlocks;\n    return _objectSpread({}, draftTreeState, {\n      blocks: transformedBlocks\n    });\n  },\n\n  /**\n   * Converts from draft raw state to tree draft state\n   */\n  fromRawStateToRawTreeState: function fromRawStateToRawTreeState(draftState) {\n    var transformedBlocks = [];\n    var parentStack = [];\n    draftState.blocks.forEach(function (block) {\n      var isList = isListBlock(block);\n      var depth = block.depth || 0;\n\n      var treeBlock = _objectSpread({}, block, {\n        children: []\n      });\n\n      if (!isList) {\n        transformedBlocks.push(treeBlock);\n        return;\n      }\n\n      var lastParent = parentStack[0]; // block is non-nested & there are no nested blocks, directly push block\n\n      if (lastParent == null && depth === 0) {\n        transformedBlocks.push(treeBlock); // block is first nested block or previous nested block is at a lower level\n      } else if (lastParent == null || lastParent.depth < depth - 1) {\n        // create new parent block\n        var newParent = {\n          key: generateRandomKey(),\n          text: '',\n          depth: depth - 1,\n          type: block.type,\n          children: [],\n          entityRanges: [],\n          inlineStyleRanges: []\n        };\n        parentStack.unshift(newParent);\n\n        if (depth === 1) {\n          // add as a root-level block\n          transformedBlocks.push(newParent);\n        } else if (lastParent != null) {\n          // depth > 1 => also add as previous parent's child\n          lastParent.children.push(newParent);\n        }\n\n        newParent.children.push(treeBlock);\n      } else if (lastParent.depth === depth - 1) {\n        // add as child of last parent\n        lastParent.children.push(treeBlock);\n      } else {\n        // pop out parents at levels above this one from the parent stack\n        while (lastParent != null && lastParent.depth >= depth) {\n          parentStack.shift();\n          lastParent = parentStack[0];\n        }\n\n        if (depth > 0) {\n          lastParent.children.push(treeBlock);\n        } else {\n          transformedBlocks.push(treeBlock);\n        }\n      }\n    });\n    return _objectSpread({}, draftState, {\n      blocks: transformedBlocks\n    });\n  }\n};\nmodule.exports = DraftTreeAdapter;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar convertFromHTMLToContentBlocks = require(\"./convertFromHTMLToContentBlocks\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getSafeBodyFromHTML = require(\"./getSafeBodyFromHTML\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar sanitizeDraftText = require(\"./sanitizeDraftText\");\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\nvar DraftPasteProcessor = {\n  processHTML: function processHTML(html, blockRenderMap) {\n    return convertFromHTMLToContentBlocks(html, getSafeBodyFromHTML, blockRenderMap);\n  },\n  processText: function processText(textBlocks, character, type) {\n    return textBlocks.reduce(function (acc, textLine, index) {\n      textLine = sanitizeDraftText(textLine);\n      var key = generateRandomKey();\n      var blockNodeConfig = {\n        key: key,\n        type: type,\n        text: textLine,\n        characterList: List(Repeat(character, textLine.length))\n      }; // next block updates previous block\n\n      if (experimentalTreeDataSupport && index !== 0) {\n        var prevSiblingIndex = index - 1; // update previous block\n\n        var previousBlock = acc[prevSiblingIndex] = acc[prevSiblingIndex].merge({\n          nextSibling: key\n        });\n        blockNodeConfig = _objectSpread({}, blockNodeConfig, {\n          prevSibling: previousBlock.getKey()\n        });\n      }\n\n      acc.push(new ContentBlockRecord(blockNodeConfig));\n      return acc;\n    }, []);\n  }\n};\nmodule.exports = DraftPasteProcessor;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar UnicodeBidi = require(\"fbjs/lib/UnicodeBidi\");\n\nvar UnicodeBidiDirection = require(\"fbjs/lib/UnicodeBidiDirection\");\n\nvar DraftEditorDecoratedLeaves = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorDecoratedLeaves, _React$Component);\n\n  function DraftEditorDecoratedLeaves() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorDecoratedLeaves.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        block = _this$props.block,\n        children = _this$props.children,\n        contentState = _this$props.contentState,\n        decorator = _this$props.decorator,\n        decoratorKey = _this$props.decoratorKey,\n        direction = _this$props.direction,\n        leafSet = _this$props.leafSet,\n        text = _this$props.text;\n    var blockKey = block.getKey();\n    var leavesForLeafSet = leafSet.get('leaves');\n    var DecoratorComponent = decorator.getComponentForKey(decoratorKey);\n    var decoratorProps = decorator.getPropsForKey(decoratorKey);\n    var decoratorOffsetKey = DraftOffsetKey.encode(blockKey, parseInt(decoratorKey, 10), 0);\n    var decoratedText = text.slice(leavesForLeafSet.first().get('start'), leavesForLeafSet.last().get('end')); // Resetting dir to the same value on a child node makes Chrome/Firefox\n    // confused on cursor movement. See http://jsfiddle.net/d157kLck/3/\n\n    var dir = UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText), direction);\n    return React.createElement(DecoratorComponent, _extends({}, decoratorProps, {\n      contentState: contentState,\n      decoratedText: decoratedText,\n      dir: dir,\n      key: decoratorOffsetKey,\n      entityKey: block.getEntityAt(leafSet.get('start')),\n      offsetKey: decoratorOffsetKey\n    }), children);\n  };\n\n  return DraftEditorDecoratedLeaves;\n}(React.Component);\n\nmodule.exports = DraftEditorDecoratedLeaves;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar invariant = require(\"./invariant\");\n\nvar componentRegex = /\\./;\nvar orRegex = /\\|\\|/;\nvar rangeRegex = /\\s+\\-\\s+/;\nvar modifierRegex = /^(<=|<|=|>=|~>|~|>|)?\\s*(.+)/;\nvar numericRegex = /^(\\d*)(.*)/;\n/**\n * Splits input `range` on \"||\" and returns true if any subrange matches\n * `version`.\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\n\nfunction checkOrExpression(range, version) {\n  var expressions = range.split(orRegex);\n\n  if (expressions.length > 1) {\n    return expressions.some(function (range) {\n      return VersionRange.contains(range, version);\n    });\n  } else {\n    range = expressions[0].trim();\n    return checkRangeExpression(range, version);\n  }\n}\n/**\n * Splits input `range` on \" - \" (the surrounding whitespace is required) and\n * returns true if version falls between the two operands.\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\n\n\nfunction checkRangeExpression(range, version) {\n  var expressions = range.split(rangeRegex);\n  !(expressions.length > 0 && expressions.length <= 2) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'the \"-\" operator expects exactly 2 operands') : invariant(false) : void 0;\n\n  if (expressions.length === 1) {\n    return checkSimpleExpression(expressions[0], version);\n  } else {\n    var startVersion = expressions[0],\n        endVersion = expressions[1];\n    !(isSimpleVersion(startVersion) && isSimpleVersion(endVersion)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'operands to the \"-\" operator must be simple (no modifiers)') : invariant(false) : void 0;\n    return checkSimpleExpression('>=' + startVersion, version) && checkSimpleExpression('<=' + endVersion, version);\n  }\n}\n/**\n * Checks if `range` matches `version`. `range` should be a \"simple\" range (ie.\n * not a compound range using the \" - \" or \"||\" operators).\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\n\n\nfunction checkSimpleExpression(range, version) {\n  range = range.trim();\n\n  if (range === '') {\n    return true;\n  }\n\n  var versionComponents = version.split(componentRegex);\n\n  var _getModifierAndCompon = getModifierAndComponents(range),\n      modifier = _getModifierAndCompon.modifier,\n      rangeComponents = _getModifierAndCompon.rangeComponents;\n\n  switch (modifier) {\n    case '<':\n      return checkLessThan(versionComponents, rangeComponents);\n\n    case '<=':\n      return checkLessThanOrEqual(versionComponents, rangeComponents);\n\n    case '>=':\n      return checkGreaterThanOrEqual(versionComponents, rangeComponents);\n\n    case '>':\n      return checkGreaterThan(versionComponents, rangeComponents);\n\n    case '~':\n    case '~>':\n      return checkApproximateVersion(versionComponents, rangeComponents);\n\n    default:\n      return checkEqual(versionComponents, rangeComponents);\n  }\n}\n/**\n * Checks whether `a` is less than `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkLessThan(a, b) {\n  return compareComponents(a, b) === -1;\n}\n/**\n * Checks whether `a` is less than or equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkLessThanOrEqual(a, b) {\n  var result = compareComponents(a, b);\n  return result === -1 || result === 0;\n}\n/**\n * Checks whether `a` is equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkEqual(a, b) {\n  return compareComponents(a, b) === 0;\n}\n/**\n * Checks whether `a` is greater than or equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkGreaterThanOrEqual(a, b) {\n  var result = compareComponents(a, b);\n  return result === 1 || result === 0;\n}\n/**\n * Checks whether `a` is greater than `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkGreaterThan(a, b) {\n  return compareComponents(a, b) === 1;\n}\n/**\n * Checks whether `a` is \"reasonably close\" to `b` (as described in\n * https://www.npmjs.org/doc/misc/semver.html). For example, if `b` is \"1.3.1\"\n * then \"reasonably close\" is defined as \">= 1.3.1 and < 1.4\".\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkApproximateVersion(a, b) {\n  var lowerBound = b.slice();\n  var upperBound = b.slice();\n\n  if (upperBound.length > 1) {\n    upperBound.pop();\n  }\n\n  var lastIndex = upperBound.length - 1;\n  var numeric = parseInt(upperBound[lastIndex], 10);\n\n  if (isNumber(numeric)) {\n    upperBound[lastIndex] = numeric + 1 + '';\n  }\n\n  return checkGreaterThanOrEqual(a, lowerBound) && checkLessThan(a, upperBound);\n}\n/**\n * Extracts the optional modifier (<, <=, =, >=, >, ~, ~>) and version\n * components from `range`.\n *\n * For example, given `range` \">= 1.2.3\" returns an object with a `modifier` of\n * `\">=\"` and `components` of `[1, 2, 3]`.\n *\n * @param {string} range\n * @returns {object}\n */\n\n\nfunction getModifierAndComponents(range) {\n  var rangeComponents = range.split(componentRegex);\n  var matches = rangeComponents[0].match(modifierRegex);\n  !matches ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'expected regex to match but it did not') : invariant(false) : void 0;\n  return {\n    modifier: matches[1],\n    rangeComponents: [matches[2]].concat(rangeComponents.slice(1))\n  };\n}\n/**\n * Determines if `number` is a number.\n *\n * @param {mixed} number\n * @returns {boolean}\n */\n\n\nfunction isNumber(number) {\n  return !isNaN(number) && isFinite(number);\n}\n/**\n * Tests whether `range` is a \"simple\" version number without any modifiers\n * (\">\", \"~\" etc).\n *\n * @param {string} range\n * @returns {boolean}\n */\n\n\nfunction isSimpleVersion(range) {\n  return !getModifierAndComponents(range).modifier;\n}\n/**\n * Zero-pads array `array` until it is at least `length` long.\n *\n * @param {array} array\n * @param {number} length\n */\n\n\nfunction zeroPad(array, length) {\n  for (var i = array.length; i < length; i++) {\n    array[i] = '0';\n  }\n}\n/**\n * Normalizes `a` and `b` in preparation for comparison by doing the following:\n *\n * - zero-pads `a` and `b`\n * - marks any \"x\", \"X\" or \"*\" component in `b` as equivalent by zero-ing it out\n *   in both `a` and `b`\n * - marks any final \"*\" component in `b` as a greedy wildcard by zero-ing it\n *   and all of its successors in `a`\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {array<array<string>>}\n */\n\n\nfunction normalizeVersions(a, b) {\n  a = a.slice();\n  b = b.slice();\n  zeroPad(a, b.length); // mark \"x\" and \"*\" components as equal\n\n  for (var i = 0; i < b.length; i++) {\n    var matches = b[i].match(/^[x*]$/i);\n\n    if (matches) {\n      b[i] = a[i] = '0'; // final \"*\" greedily zeros all remaining components\n\n      if (matches[0] === '*' && i === b.length - 1) {\n        for (var j = i; j < a.length; j++) {\n          a[j] = '0';\n        }\n      }\n    }\n  }\n\n  zeroPad(b, a.length);\n  return [a, b];\n}\n/**\n * Returns the numerical -- not the lexicographical -- ordering of `a` and `b`.\n *\n * For example, `10-alpha` is greater than `2-beta`.\n *\n * @param {string} a\n * @param {string} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\n\n\nfunction compareNumeric(a, b) {\n  var aPrefix = a.match(numericRegex)[1];\n  var bPrefix = b.match(numericRegex)[1];\n  var aNumeric = parseInt(aPrefix, 10);\n  var bNumeric = parseInt(bPrefix, 10);\n\n  if (isNumber(aNumeric) && isNumber(bNumeric) && aNumeric !== bNumeric) {\n    return compare(aNumeric, bNumeric);\n  } else {\n    return compare(a, b);\n  }\n}\n/**\n * Returns the ordering of `a` and `b`.\n *\n * @param {string|number} a\n * @param {string|number} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\n\n\nfunction compare(a, b) {\n  !(typeof a === typeof b) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '\"a\" and \"b\" must be of the same type') : invariant(false) : void 0;\n\n  if (a > b) {\n    return 1;\n  } else if (a < b) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n/**\n * Compares arrays of version components.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\n\n\nfunction compareComponents(a, b) {\n  var _normalizeVersions = normalizeVersions(a, b),\n      aNormalized = _normalizeVersions[0],\n      bNormalized = _normalizeVersions[1];\n\n  for (var i = 0; i < bNormalized.length; i++) {\n    var result = compareNumeric(aNormalized[i], bNormalized[i]);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  return 0;\n}\n\nvar VersionRange = {\n  /**\n   * Checks whether `version` satisfies the `range` specification.\n   *\n   * We support a subset of the expressions defined in\n   * https://www.npmjs.org/doc/misc/semver.html:\n   *\n   *    version   Must match version exactly\n   *    =version  Same as just version\n   *    >version  Must be greater than version\n   *    >=version Must be greater than or equal to version\n   *    <version  Must be less than version\n   *    <=version Must be less than or equal to version\n   *    ~version  Must be at least version, but less than the next significant\n   *              revision above version:\n   *              \"~1.2.3\" is equivalent to \">= 1.2.3 and < 1.3\"\n   *    ~>version Equivalent to ~version\n   *    1.2.x     Must match \"1.2.x\", where \"x\" is a wildcard that matches\n   *              anything\n   *    1.2.*     Similar to \"1.2.x\", but \"*\" in the trailing position is a\n   *              \"greedy\" wildcard, so will match any number of additional\n   *              components:\n   *              \"1.2.*\" will match \"1.2.1\", \"1.2.1.1\", \"1.2.1.1.1\" etc\n   *    *         Any version\n   *    \"\"        (Empty string) Same as *\n   *    v1 - v2   Equivalent to \">= v1 and <= v2\"\n   *    r1 || r2  Passes if either r1 or r2 are satisfied\n   *\n   * @param {string} range\n   * @param {string} version\n   * @returns {boolean}\n   */\n  contains: function contains(range, version) {\n    return checkOrExpression(range.trim(), version.trim());\n  }\n};\nmodule.exports = VersionRange;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar PhotosMimeType = require(\"./PhotosMimeType\");\n\nvar createArrayFromMixed = require(\"./createArrayFromMixed\");\n\nvar emptyFunction = require(\"./emptyFunction\");\n\nvar CR_LF_REGEX = new RegExp(\"\\r\\n\", 'g');\nvar LF_ONLY = \"\\n\";\nvar RICH_TEXT_TYPES = {\n  'text/rtf': 1,\n  'text/html': 1\n};\n/**\n * If DataTransferItem is a file then return the Blob of data.\n *\n * @param {object} item\n * @return {?blob}\n */\n\nfunction getFileFromDataTransfer(item) {\n  if (item.kind == 'file') {\n    return item.getAsFile();\n  }\n}\n\nvar DataTransfer = /*#__PURE__*/function () {\n  /**\n   * @param {object} data\n   */\n  function DataTransfer(data) {\n    this.data = data; // Types could be DOMStringList or array\n\n    this.types = data.types ? createArrayFromMixed(data.types) : [];\n  }\n  /**\n   * Is this likely to be a rich text data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  var _proto = DataTransfer.prototype;\n\n  _proto.isRichText = function isRichText() {\n    // If HTML is available, treat this data as rich text. This way, we avoid\n    // using a pasted image if it is packaged with HTML -- this may occur with\n    // pastes from MS Word, for example.  However this is only rich text if\n    // there's accompanying text.\n    if (this.getHTML() && this.getText()) {\n      return true;\n    } // When an image is copied from a preview window, you end up with two\n    // DataTransferItems one of which is a file's metadata as text.  Skip those.\n\n\n    if (this.isImage()) {\n      return false;\n    }\n\n    return this.types.some(function (type) {\n      return RICH_TEXT_TYPES[type];\n    });\n  };\n  /**\n   * Get raw text.\n   *\n   * @return {?string}\n   */\n\n\n  _proto.getText = function getText() {\n    var text;\n\n    if (this.data.getData) {\n      if (!this.types.length) {\n        text = this.data.getData('Text');\n      } else if (this.types.indexOf('text/plain') != -1) {\n        text = this.data.getData('text/plain');\n      }\n    }\n\n    return text ? text.replace(CR_LF_REGEX, LF_ONLY) : null;\n  };\n  /**\n   * Get HTML paste data\n   *\n   * @return {?string}\n   */\n\n\n  _proto.getHTML = function getHTML() {\n    if (this.data.getData) {\n      if (!this.types.length) {\n        return this.data.getData('Text');\n      } else if (this.types.indexOf('text/html') != -1) {\n        return this.data.getData('text/html');\n      }\n    }\n  };\n  /**\n   * Is this a link data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  _proto.isLink = function isLink() {\n    return this.types.some(function (type) {\n      return type.indexOf('Url') != -1 || type.indexOf('text/uri-list') != -1 || type.indexOf('text/x-moz-url');\n    });\n  };\n  /**\n   * Get a link url.\n   *\n   * @return {?string}\n   */\n\n\n  _proto.getLink = function getLink() {\n    if (this.data.getData) {\n      if (this.types.indexOf('text/x-moz-url') != -1) {\n        var url = this.data.getData('text/x-moz-url').split('\\n');\n        return url[0];\n      }\n\n      return this.types.indexOf('text/uri-list') != -1 ? this.data.getData('text/uri-list') : this.data.getData('url');\n    }\n\n    return null;\n  };\n  /**\n   * Is this an image data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  _proto.isImage = function isImage() {\n    var isImage = this.types.some(function (type) {\n      // Firefox will have a type of application/x-moz-file for images during\n      // dragging\n      return type.indexOf('application/x-moz-file') != -1;\n    });\n\n    if (isImage) {\n      return true;\n    }\n\n    var items = this.getFiles();\n\n    for (var i = 0; i < items.length; i++) {\n      var type = items[i].type;\n\n      if (!PhotosMimeType.isImage(type)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  _proto.getCount = function getCount() {\n    if (this.data.hasOwnProperty('items')) {\n      return this.data.items.length;\n    } else if (this.data.hasOwnProperty('mozItemCount')) {\n      return this.data.mozItemCount;\n    } else if (this.data.files) {\n      return this.data.files.length;\n    }\n\n    return null;\n  };\n  /**\n   * Get files.\n   *\n   * @return {array}\n   */\n\n\n  _proto.getFiles = function getFiles() {\n    if (this.data.items) {\n      // createArrayFromMixed doesn't properly handle DataTransferItemLists.\n      return Array.prototype.slice.call(this.data.items).map(getFileFromDataTransfer).filter(emptyFunction.thatReturnsArgument);\n    } else if (this.data.files) {\n      return Array.prototype.slice.call(this.data.files);\n    } else {\n      return [];\n    }\n  };\n  /**\n   * Are there any files to fetch?\n   *\n   * @return {boolean}\n   */\n\n\n  _proto.hasFiles = function hasFiles() {\n    return this.getFiles().length > 0;\n  };\n\n  return DataTransfer;\n}();\n\nmodule.exports = DataTransfer;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar _require = require(\"immutable\"),\n    OrderedSet = _require.OrderedSet;\n\nvar substr = UnicodeUtils.substr;\nvar EMPTY_SET = OrderedSet();\n/**\n * Convert to native JavaScript string lengths to determine ranges.\n */\n\nfunction decodeInlineStyleRanges(text, ranges) {\n  var styles = Array(text.length).fill(EMPTY_SET);\n\n  if (ranges) {\n    ranges.forEach(function (range) {\n      var cursor = substr(text, 0, range.offset).length;\n      var end = cursor + substr(text, range.offset, range.length).length;\n\n      while (cursor < end) {\n        styles[cursor] = styles[cursor].add(range.style);\n        cursor++;\n      }\n    });\n  }\n\n  return styles;\n}\n\nmodule.exports = decodeInlineStyleRanges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar NEWLINE_REGEX = /\\r\\n?|\\n/g;\n\nfunction splitTextIntoTextBlocks(text) {\n  return text.split(NEWLINE_REGEX);\n}\n\nmodule.exports = splitTextIntoTextBlocks;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar camelize = require(\"./camelize\");\n\nvar hyphenate = require(\"./hyphenate\");\n\nfunction asString(value)\n/*?string*/\n{\n  return value == null ? value : String(value);\n}\n\nfunction getStyleProperty(\n/*DOMNode*/\nnode,\n/*string*/\nname)\n/*?string*/\n{\n  var computedStyle; // W3C Standard\n\n  if (window.getComputedStyle) {\n    // In certain cases such as within an iframe in FF3, this returns null.\n    computedStyle = window.getComputedStyle(node, null);\n\n    if (computedStyle) {\n      return asString(computedStyle.getPropertyValue(hyphenate(name)));\n    }\n  } // Safari\n\n\n  if (document.defaultView && document.defaultView.getComputedStyle) {\n    computedStyle = document.defaultView.getComputedStyle(node, null); // A Safari bug causes this to return null for `display: none` elements.\n\n    if (computedStyle) {\n      return asString(computedStyle.getPropertyValue(hyphenate(name)));\n    }\n\n    if (name === 'display') {\n      return 'none';\n    }\n  } // Internet Explorer\n\n\n  if (node.currentStyle) {\n    if (name === 'float') {\n      return asString(node.currentStyle.cssFloat || node.currentStyle.styleFloat);\n    }\n\n    return asString(node.currentStyle[camelize(name)]);\n  }\n\n  return asString(node.style && node.style[camelize(name)]);\n}\n\nmodule.exports = getStyleProperty;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar TokenizeUtil = require(\"fbjs/lib/TokenizeUtil\");\n\nvar punctuation = TokenizeUtil.getPunctuation(); // The apostrophe and curly single quotes behave in a curious way: when\n// surrounded on both sides by word characters, they behave as word chars; when\n// either neighbor is punctuation or an end of the string, they behave as\n// punctuation.\n\nvar CHAMELEON_CHARS = \"['\\u2018\\u2019]\"; // Remove the underscore, which should count as part of the removable word. The\n// \"chameleon chars\" also count as punctuation in this regex.\n\nvar WHITESPACE_AND_PUNCTUATION = '\\\\s|(?![_])' + punctuation;\nvar DELETE_STRING = '^' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)';\nvar DELETE_REGEX = new RegExp(DELETE_STRING);\nvar BACKSPACE_STRING = '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '$';\nvar BACKSPACE_REGEX = new RegExp(BACKSPACE_STRING);\n\nfunction getRemovableWord(text, isBackward) {\n  var matches = isBackward ? BACKSPACE_REGEX.exec(text) : DELETE_REGEX.exec(text);\n  return matches ? matches[0] : text;\n}\n\nvar DraftRemovableWord = {\n  getBackward: function getBackward(text) {\n    return getRemovableWord(text, true);\n  },\n  getForward: function getForward(text) {\n    return getRemovableWord(text, false);\n  }\n};\nmodule.exports = DraftRemovableWord;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar isNode = require(\"./isNode\");\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM text node.\n */\n\n\nfunction isTextNode(object) {\n  return isNode(object) && object.nodeType == 3;\n}\n\nmodule.exports = isTextNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nfunction keyCommandUndo(e, editorState, updateFn) {\n  var undoneState = EditorState.undo(editorState); // If the last change to occur was a spellcheck change, allow the undo\n  // event to fall through to the browser. This allows the browser to record\n  // the unwanted change, which should soon lead it to learn not to suggest\n  // the correction again.\n\n  if (editorState.getLastChangeType() === 'spellcheck-change') {\n    var nativelyRenderedContent = undoneState.getCurrentContent();\n    updateFn(EditorState.set(undoneState, {\n      nativelyRenderedContent: nativelyRenderedContent\n    }));\n    return;\n  } // Otheriwse, manage the undo behavior manually.\n\n\n  e.preventDefault();\n\n  if (!editorState.getNativelyRenderedContent()) {\n    updateFn(undoneState);\n    return;\n  } // Trigger a re-render with the current content state to ensure that the\n  // component tree has up-to-date props for comparison.\n\n\n  updateFn(EditorState.set(editorState, {\n    nativelyRenderedContent: null\n  })); // Wait to ensure that the re-render has occurred before performing\n  // the undo action.\n\n  setTimeout(function () {\n    updateFn(undoneState);\n  }, 0);\n}\n\nmodule.exports = keyCommandUndo;","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Utility method for determining whether or not the value returned\n * from a handler indicates that it was handled.\n */\n\nfunction isEventHandled(value) {\n  return value === 'handled' || value === true;\n}\n\nmodule.exports = isEventHandled;","//Types of elements found in the DOM\nmodule.exports = {\n  Text: \"text\",\n  //Text\n  Directive: \"directive\",\n  //<? ... ?>\n  Comment: \"comment\",\n  //<!-- ... -->\n  Script: \"script\",\n  //<script> tags\n  Style: \"style\",\n  //<style> tags\n  Tag: \"tag\",\n  //Any tag\n  CDATA: \"cdata\",\n  //<![CDATA[ ... ]]>\n  Doctype: \"doctype\",\n  isTag: function isTag(elem) {\n    return elem.type === \"tag\" || elem.type === \"script\" || elem.type === \"style\";\n  }\n};","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nvar isTextNode = require(\"./isTextNode\");\n/*eslint-disable no-bitwise */\n\n/**\n * Checks if a given DOM node contains or is another DOM node.\n */\n\n\nfunction containsNode(outerNode, innerNode) {\n  if (!outerNode || !innerNode) {\n    return false;\n  } else if (outerNode === innerNode) {\n    return true;\n  } else if (isTextNode(outerNode)) {\n    return false;\n  } else if (isTextNode(innerNode)) {\n    return containsNode(outerNode, innerNode.parentNode);\n  } else if ('contains' in outerNode) {\n    return outerNode.contains(innerNode);\n  } else if (outerNode.compareDocumentPosition) {\n    return !!(outerNode.compareDocumentPosition(innerNode) & 16);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = containsNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Search through an array to find contiguous stretches of elements that\n * match a specified filter function.\n *\n * When ranges are found, execute a specified `found` function to supply\n * the values to the caller.\n */\n\nfunction findRangesImmutable(haystack, areEqualFn, filterFn, foundFn) {\n  if (!haystack.size) {\n    return;\n  }\n\n  var cursor = 0;\n  haystack.reduce(function (value, nextValue, nextIndex) {\n    if (!areEqualFn(value, nextValue)) {\n      if (filterFn(value)) {\n        foundFn(cursor, nextIndex);\n      }\n\n      cursor = nextIndex;\n    }\n\n    return nextValue;\n  });\n  filterFn(haystack.last()) && foundFn(cursor, haystack.count());\n}\n\nmodule.exports = findRangesImmutable;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List;\n\nfunction createCharacterList(inlineStyles, entities) {\n  var characterArray = inlineStyles.map(function (style, ii) {\n    var entity = entities[ii];\n    return CharacterMetadata.create({\n      style: style,\n      entity: entity\n    });\n  });\n  return List(characterArray);\n}\n\nmodule.exports = createCharacterList;","\"use strict\";\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\n\nvar DraftEntityInstance = require(\"./DraftEntityInstance\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar uuid = require(\"./uuid\");\n\nvar Map = Immutable.Map;\nvar instances = Map();\nvar instanceKey = uuid();\n/**\n * Temporary utility for generating the warnings\n */\n\nfunction logWarning(oldMethodCall, newMethodCall) {\n  console.warn('WARNING: ' + oldMethodCall + ' will be deprecated soon!\\nPlease use \"' + newMethodCall + '\" instead.');\n}\n/**\n * A \"document entity\" is an object containing metadata associated with a\n * piece of text in a ContentBlock.\n *\n * For example, a `link` entity might include a `uri` property. When a\n * ContentBlock is rendered in the browser, text that refers to that link\n * entity may be rendered as an anchor, with the `uri` as the href value.\n *\n * In a ContentBlock, every position in the text may correspond to zero\n * or one entities. This correspondence is tracked using a key string,\n * generated via DraftEntity.create() and used to obtain entity metadata\n * via DraftEntity.get().\n */\n\n\nvar DraftEntity = {\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.getLastCreatedEntityKey' instead.\n   * ---\n   * Get the random key string from whatever entity was last created.\n   * We need this to support the new API, as part of transitioning to put Entity\n   * storage in contentState.\n   */\n  getLastCreatedEntityKey: function getLastCreatedEntityKey() {\n    logWarning('DraftEntity.getLastCreatedEntityKey', 'contentState.getLastCreatedEntityKey');\n    return DraftEntity.__getLastCreatedEntityKey();\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.createEntity' instead.\n   * ---\n   * Create a DraftEntityInstance and store it for later retrieval.\n   *\n   * A random key string will be generated and returned. This key may\n   * be used to track the entity's usage in a ContentBlock, and for\n   * retrieving data about the entity at render time.\n   */\n  create: function create(type, mutability, data) {\n    logWarning('DraftEntity.create', 'contentState.createEntity');\n    return DraftEntity.__create(type, mutability, data);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.addEntity' instead.\n   * ---\n   * Add an existing DraftEntityInstance to the DraftEntity map. This is\n   * useful when restoring instances from the server.\n   */\n  add: function add(instance) {\n    logWarning('DraftEntity.add', 'contentState.addEntity');\n    return DraftEntity.__add(instance);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.getEntity' instead.\n   * ---\n   * Retrieve the entity corresponding to the supplied key string.\n   */\n  get: function get(key) {\n    logWarning('DraftEntity.get', 'contentState.getEntity');\n    return DraftEntity.__get(key);\n  },\n\n  /**\n   * Get all the entities in the content state.\n   */\n  __getAll: function __getAll() {\n    return instances;\n  },\n\n  /**\n   * Load the entity map with the given set of entities.\n   */\n  __loadWithEntities: function __loadWithEntities(entities) {\n    instances = entities;\n    instanceKey = uuid();\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.mergeEntityData' instead.\n   * ---\n   * Entity instances are immutable. If you need to update the data for an\n   * instance, this method will merge your data updates and return a new\n   * instance.\n   */\n  mergeData: function mergeData(key, toMerge) {\n    logWarning('DraftEntity.mergeData', 'contentState.mergeEntityData');\n    return DraftEntity.__mergeData(key, toMerge);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.replaceEntityData' instead.\n   * ---\n   * Completely replace the data for a given instance.\n   */\n  replaceData: function replaceData(key, newData) {\n    logWarning('DraftEntity.replaceData', 'contentState.replaceEntityData');\n    return DraftEntity.__replaceData(key, newData);\n  },\n  // ***********************************WARNING******************************\n  // --- the above public API will be deprecated in the next version of Draft!\n  // The methods below this line are private - don't call them directly.\n\n  /**\n   * Get the random key string from whatever entity was last created.\n   * We need this to support the new API, as part of transitioning to put Entity\n   * storage in contentState.\n   */\n  __getLastCreatedEntityKey: function __getLastCreatedEntityKey() {\n    return instanceKey;\n  },\n\n  /**\n   * Create a DraftEntityInstance and store it for later retrieval.\n   *\n   * A random key string will be generated and returned. This key may\n   * be used to track the entity's usage in a ContentBlock, and for\n   * retrieving data about the entity at render time.\n   */\n  __create: function __create(type, mutability, data) {\n    return DraftEntity.__add(new DraftEntityInstance({\n      type: type,\n      mutability: mutability,\n      data: data || {}\n    }));\n  },\n\n  /**\n   * Add an existing DraftEntityInstance to the DraftEntity map. This is\n   * useful when restoring instances from the server.\n   */\n  __add: function __add(instance) {\n    instanceKey = uuid();\n    instances = instances.set(instanceKey, instance);\n    return instanceKey;\n  },\n\n  /**\n   * Retrieve the entity corresponding to the supplied key string.\n   */\n  __get: function __get(key) {\n    var instance = instances.get(key);\n    !!!instance ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unknown DraftEntity key: %s.', key) : invariant(false) : void 0;\n    return instance;\n  },\n\n  /**\n   * Entity instances are immutable. If you need to update the data for an\n   * instance, this method will merge your data updates and return a new\n   * instance.\n   */\n  __mergeData: function __mergeData(key, toMerge) {\n    var instance = DraftEntity.__get(key);\n\n    var newData = _objectSpread({}, instance.getData(), toMerge);\n\n    var newInstance = instance.set('data', newData);\n    instances = instances.set(key, newInstance);\n    return newInstance;\n  },\n\n  /**\n   * Completely replace the data for a given instance.\n   */\n  __replaceData: function __replaceData(key, newData) {\n    var instance = DraftEntity.__get(key);\n\n    var newInstance = instance.set('data', newData);\n    instances = instances.set(key, newInstance);\n    return newInstance;\n  }\n};\nmodule.exports = DraftEntity;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftStringKey = require(\"./DraftStringKey\");\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar strlen = UnicodeUtils.strlen;\n/**\n * Convert to UTF-8 character counts for storage.\n */\n\nfunction encodeEntityRanges(block, storageMap) {\n  var encoded = [];\n  block.findEntityRanges(function (character) {\n    return !!character.getEntity();\n  }, function (\n  /*number*/\n  start,\n  /*number*/\n  end) {\n    var text = block.getText();\n    var key = block.getEntityAt(start);\n    encoded.push({\n      offset: strlen(text.slice(0, start)),\n      length: strlen(text.slice(start, end)),\n      // Encode the key as a number for range storage.\n      key: Number(storageMap[DraftStringKey.stringify(key)])\n    });\n  });\n  return encoded;\n}\n\nmodule.exports = encodeEntityRanges;","\"use strict\";\n/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * \n * @typechecks\n * @format\n */\n\n/**\n * Retrieve an object's own values as an array. If you want the values in the\n * protoype chain, too, use getObjectValuesIncludingPrototype.\n *\n * If you are looking for a function that creates an Array instance based\n * on an \"Array-like\" object, use createArrayFrom instead.\n *\n * @param {object} obj An object.\n * @return {array}     The object's values.\n */\n\nfunction getOwnObjectValues(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nmodule.exports = getOwnObjectValues;","var DomHandler = require(\"domhandler\");\n\nvar DomUtils = require(\"domutils\"); //TODO: make this a streamable handler\n\n\nfunction FeedHandler(callback, options) {\n  this.init(callback, options);\n}\n\nrequire(\"inherits\")(FeedHandler, DomHandler);\n\nFeedHandler.prototype.init = DomHandler;\n\nfunction getElements(what, where) {\n  return DomUtils.getElementsByTagName(what, where, true);\n}\n\nfunction getOneElement(what, where) {\n  return DomUtils.getElementsByTagName(what, where, true, 1)[0];\n}\n\nfunction fetch(what, where, recurse) {\n  return DomUtils.getText(DomUtils.getElementsByTagName(what, where, recurse, 1)).trim();\n}\n\nfunction addConditionally(obj, prop, what, where, recurse) {\n  var tmp = fetch(what, where, recurse);\n  if (tmp) obj[prop] = tmp;\n}\n\nvar isValidFeed = function isValidFeed(value) {\n  return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n};\n\nFeedHandler.prototype.onend = function () {\n  var feed = {},\n      feedRoot = getOneElement(isValidFeed, this.dom),\n      tmp,\n      childs;\n\n  if (feedRoot) {\n    if (feedRoot.name === \"feed\") {\n      childs = feedRoot.children;\n      feed.type = \"atom\";\n      addConditionally(feed, \"id\", \"id\", childs);\n      addConditionally(feed, \"title\", \"title\", childs);\n      if ((tmp = getOneElement(\"link\", childs)) && (tmp = tmp.attribs) && (tmp = tmp.href)) feed.link = tmp;\n      addConditionally(feed, \"description\", \"subtitle\", childs);\n      if (tmp = fetch(\"updated\", childs)) feed.updated = new Date(tmp);\n      addConditionally(feed, \"author\", \"email\", childs, true);\n      feed.items = getElements(\"entry\", childs).map(function (item) {\n        var entry = {},\n            tmp;\n        item = item.children;\n        addConditionally(entry, \"id\", \"id\", item);\n        addConditionally(entry, \"title\", \"title\", item);\n        if ((tmp = getOneElement(\"link\", item)) && (tmp = tmp.attribs) && (tmp = tmp.href)) entry.link = tmp;\n        if (tmp = fetch(\"summary\", item) || fetch(\"content\", item)) entry.description = tmp;\n        if (tmp = fetch(\"updated\", item)) entry.pubDate = new Date(tmp);\n        return entry;\n      });\n    } else {\n      childs = getOneElement(\"channel\", feedRoot.children).children;\n      feed.type = feedRoot.name.substr(0, 3);\n      feed.id = \"\";\n      addConditionally(feed, \"title\", \"title\", childs);\n      addConditionally(feed, \"link\", \"link\", childs);\n      addConditionally(feed, \"description\", \"description\", childs);\n      if (tmp = fetch(\"lastBuildDate\", childs)) feed.updated = new Date(tmp);\n      addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n      feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n        var entry = {},\n            tmp;\n        item = item.children;\n        addConditionally(entry, \"id\", \"guid\", item);\n        addConditionally(entry, \"title\", \"title\", item);\n        addConditionally(entry, \"link\", \"link\", item);\n        addConditionally(entry, \"description\", \"description\", item);\n        if (tmp = fetch(\"pubDate\", item)) entry.pubDate = new Date(tmp);\n        return entry;\n      });\n    }\n  }\n\n  this.dom = feed;\n\n  DomHandler.prototype._handleCallback.call(this, feedRoot ? null : Error(\"couldn't find root of feed\"));\n};\n\nmodule.exports = FeedHandler;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar OrderedMap = Immutable.OrderedMap;\n\nvar randomizeContentBlockNodeKeys = function randomizeContentBlockNodeKeys(blockMap) {\n  var newKeysRef = {}; // we keep track of root blocks in order to update subsequent sibling links\n\n  var lastRootBlock;\n  return OrderedMap(blockMap.withMutations(function (blockMapState) {\n    blockMapState.forEach(function (block, index) {\n      var oldKey = block.getKey();\n      var nextKey = block.getNextSiblingKey();\n      var prevKey = block.getPrevSiblingKey();\n      var childrenKeys = block.getChildKeys();\n      var parentKey = block.getParentKey(); // new key that we will use to build linking\n\n      var key = generateRandomKey(); // we will add it here to re-use it later\n\n      newKeysRef[oldKey] = key;\n\n      if (nextKey) {\n        var nextBlock = blockMapState.get(nextKey);\n\n        if (nextBlock) {\n          blockMapState.setIn([nextKey, 'prevSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'nextSibling'], null);\n        }\n      }\n\n      if (prevKey) {\n        var prevBlock = blockMapState.get(prevKey);\n\n        if (prevBlock) {\n          blockMapState.setIn([prevKey, 'nextSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'prevSibling'], null);\n        }\n      }\n\n      if (parentKey && blockMapState.get(parentKey)) {\n        var parentBlock = blockMapState.get(parentKey);\n        var parentChildrenList = parentBlock.getChildKeys();\n        blockMapState.setIn([parentKey, 'children'], parentChildrenList.set(parentChildrenList.indexOf(block.getKey()), key));\n      } else {\n        // blocks will then be treated as root block nodes\n        blockMapState.setIn([oldKey, 'parent'], null);\n\n        if (lastRootBlock) {\n          blockMapState.setIn([lastRootBlock.getKey(), 'nextSibling'], key);\n          blockMapState.setIn([oldKey, 'prevSibling'], newKeysRef[lastRootBlock.getKey()]);\n        }\n\n        lastRootBlock = blockMapState.get(oldKey);\n      }\n\n      childrenKeys.forEach(function (childKey) {\n        var childBlock = blockMapState.get(childKey);\n\n        if (childBlock) {\n          blockMapState.setIn([childKey, 'parent'], key);\n        } else {\n          blockMapState.setIn([oldKey, 'children'], block.getChildKeys().filter(function (child) {\n            return child !== childKey;\n          }));\n        }\n      });\n    });\n  }).toArray().map(function (block) {\n    return [newKeysRef[block.getKey()], block.set('key', newKeysRef[block.getKey()])];\n  }));\n};\n\nvar randomizeContentBlockKeys = function randomizeContentBlockKeys(blockMap) {\n  return OrderedMap(blockMap.toArray().map(function (block) {\n    var key = generateRandomKey();\n    return [key, block.set('key', key)];\n  }));\n};\n\nvar randomizeBlockMapKeys = function randomizeBlockMapKeys(blockMap) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n\n  if (!isTreeBasedBlockMap) {\n    return randomizeContentBlockKeys(blockMap);\n  }\n\n  return randomizeContentBlockNodeKeys(blockMap);\n};\n\nmodule.exports = randomizeBlockMapKeys;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeBidiService = require(\"fbjs/lib/UnicodeBidiService\");\n\nvar Immutable = require(\"immutable\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar OrderedMap = Immutable.OrderedMap;\nvar bidiService;\nvar EditorBidiService = {\n  getDirectionMap: function getDirectionMap(content, prevBidiMap) {\n    if (!bidiService) {\n      bidiService = new UnicodeBidiService();\n    } else {\n      bidiService.reset();\n    }\n\n    var blockMap = content.getBlockMap();\n    var nextBidi = blockMap.valueSeq().map(function (block) {\n      return nullthrows(bidiService).getDirection(block.getText());\n    });\n    var bidiMap = OrderedMap(blockMap.keySeq().zip(nextBidi));\n\n    if (prevBidiMap != null && Immutable.is(prevBidiMap, bidiMap)) {\n      return prevBidiMap;\n    }\n\n    return bidiMap;\n  }\n};\nmodule.exports = EditorBidiService;","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar getNextDelimiterBlockKey = function getNextDelimiterBlockKey(block, blockMap) {\n  var isExperimentalTreeBlock = block instanceof ContentBlockNode;\n\n  if (!isExperimentalTreeBlock) {\n    return null;\n  }\n\n  var nextSiblingKey = block.getNextSiblingKey();\n\n  if (nextSiblingKey) {\n    return nextSiblingKey;\n  }\n\n  var parent = block.getParentKey();\n\n  if (!parent) {\n    return null;\n  }\n\n  var nextNonDescendantBlock = blockMap.get(parent);\n\n  while (nextNonDescendantBlock && !nextNonDescendantBlock.getNextSiblingKey()) {\n    var parentKey = nextNonDescendantBlock.getParentKey();\n    nextNonDescendantBlock = parentKey ? blockMap.get(parentKey) : null;\n  }\n\n  if (!nextNonDescendantBlock) {\n    return null;\n  }\n\n  return nextNonDescendantBlock.getNextSiblingKey();\n};\n\nmodule.exports = getNextDelimiterBlockKey;","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Close, Configure } from \"grommet-icons\";\nimport Modal from \"../../components/Modal\";\nimport Rte from \"../../components/Rte\";\nimport DateTimePicker from \"../../components/DateTimePicker\";\nimport {\n  Box,\n  Anchor,\n  DataTable,\n  Text,\n  TextInput,\n  Button,\n  Heading,\n  Image,\n  CheckBox,\n} from \"grommet\";\nimport { callCloud, crud } from \"../../library/parse\";\nimport { parseISO } from \"date-fns\";\nconst Home = ({ suffix = \"\", objectClass, columns, fetchData }) => {\n  const [activeModel, setActiveModel] = useState({});\n  const [formModel, setFormModel] = useState({});\n  const [showFormModal, setShowFormModal] = useState(false);\n  const [mode, setMode] = useState(\"read\");\n  const [stores, setStores] = useState([]);\n  const loadData = useCallback(async () => {\n    return (\n      fetchData &&\n      setStores(await callCloud(fetchData.action, fetchData.params))\n    );\n  }, [fetchData]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n  const dtColumn = columns.map((e) => ({\n    property: e.property,\n    header: <Text> {e.headerText}</Text>,\n    primary: e.primary,\n    render: e.render,\n  }));\n\n  useEffect(() => {\n    if (mode === \"update\") {\n      const m = columns.reduce(\n        (p, n) => {\n          const key = n.property;\n          p[key] = activeModel[key];\n          return p;\n        },\n        {\n          objectId: activeModel[\"objectId\"],\n        }\n      );\n      setFormModel(m);\n    }\n    if (mode === \"delete\") {\n      setFormModel({\n        objectId: activeModel.id,\n      });\n    }\n\n    if (mode === \"create\") {\n      setFormModel({});\n    }\n  }, [mode, activeModel, columns]);\n  return (\n    <Box>\n      {stores.length} {objectClass}\n      <DataTable\n        columns={dtColumn.concat([\n          {\n            property: \"instantClosePrice\",\n            header: (\n              <Anchor\n                onClick={() => {\n                  setActiveModel({});\n                  setMode(\"create\");\n                  setShowFormModal(true);\n                }}\n              >\n                Add {objectClass}\n              </Anchor>\n            ),\n            render: (datum) => (\n              <>\n                <Configure\n                  onClick={() => {\n                    setActiveModel(datum);\n                    setMode(\"update\");\n                    setShowFormModal(true);\n                  }}\n                  style={{ cursor: \"pointer\" }}\n                />\n                <Close\n                  onClick={() => {\n                    setActiveModel(datum);\n                    setMode(\"delete\");\n                    setShowFormModal(true);\n                  }}\n                  style={{ cursor: \"pointer\" }}\n                />\n              </>\n            ),\n          },\n        ])}\n        data={stores.map((e) => e.toJSON())}\n      />\n      {showFormModal && (\n        <Modal onClose={() => setShowFormModal(false)}>\n          <Heading level={3}>\n            {mode} {objectClass}\n          </Heading>\n          {columns.map((e) => {\n            if (e.type === \"Textarea\") {\n              return (\n                <Rte\n                  placeholder={e.headerText}\n                  html={formModel[e.property]}\n                  onChange={(v) =>\n                    setFormModel({\n                      ...formModel,\n                      [e.property]: v,\n                    })\n                  }\n                />\n              );\n            }\n\n            if (e.type === \"DateTimePicker\") {\n              const dtIso =\n                formModel[e.property] && formModel[e.property].iso\n                  ? formModel[e.property].iso\n                  : typeof formModel[e.property] === \"Date\"\n                  ? formModel[e.property]\n                  : new Date().toISOString();\n              return (\n                <DateTimePicker\n                  value={parseISO(dtIso)}\n                  onChange={(value) =>\n                    setFormModel({\n                      ...formModel,\n                      [e.property]: value,\n                    })\n                  }\n                />\n              );\n            }\n            if (e.type === \"Image\") {\n              return <Image src={e.url} />;\n            }\n\n            if (e.type === \"CheckBox\") {\n              return (\n                <CheckBox\n                  checked={formModel[e.property]}\n                  onChange={(event) =>\n                    setFormModel({\n                      ...formModel,\n                      [e.property]: event.target.checked,\n                    })\n                  }\n                />\n              );\n            }\n\n            return (\n              <TextInput\n                placeholder={e.headerText}\n                value={formModel[e.property]}\n                onChange={(event) =>\n                  setFormModel({\n                    ...formModel,\n                    [e.property]: event.target.value,\n                  })\n                }\n              />\n            );\n          })}\n          <Button\n            label={mode}\n            onClick={() => {\n              crud(objectClass, formModel, mode, suffix);\n              loadData();\n              setTimeout(() => setShowFormModal(false), 1000);\n            }}\n          />\n        </Modal>\n      )}\n    </Box>\n  );\n};\n\nexport default Home;\n","var Tokenizer = require(\"./Tokenizer.js\");\n/*\n\tOptions:\n\n\txmlMode: Disables the special behavior for script/style tags (false by default)\n\tlowerCaseAttributeNames: call .toLowerCase for each attribute name (true if xmlMode is `false`)\n\tlowerCaseTags: call .toLowerCase for each tag name (true if xmlMode is `false`)\n*/\n\n/*\n\tCallbacks:\n\n\toncdataend,\n\toncdatastart,\n\tonclosetag,\n\toncomment,\n\toncommentend,\n\tonerror,\n\tonopentag,\n\tonprocessinginstruction,\n\tonreset,\n\tontext\n*/\n\n\nvar formTags = {\n  input: true,\n  option: true,\n  optgroup: true,\n  select: true,\n  button: true,\n  datalist: true,\n  textarea: true\n};\nvar openImpliesClose = {\n  tr: {\n    tr: true,\n    th: true,\n    td: true\n  },\n  th: {\n    th: true\n  },\n  td: {\n    thead: true,\n    th: true,\n    td: true\n  },\n  body: {\n    head: true,\n    link: true,\n    script: true\n  },\n  li: {\n    li: true\n  },\n  p: {\n    p: true\n  },\n  h1: {\n    p: true\n  },\n  h2: {\n    p: true\n  },\n  h3: {\n    p: true\n  },\n  h4: {\n    p: true\n  },\n  h5: {\n    p: true\n  },\n  h6: {\n    p: true\n  },\n  select: formTags,\n  input: formTags,\n  output: formTags,\n  button: formTags,\n  datalist: formTags,\n  textarea: formTags,\n  option: {\n    option: true\n  },\n  optgroup: {\n    optgroup: true\n  }\n};\nvar voidElements = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  command: true,\n  embed: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true\n};\nvar foreignContextElements = {\n  __proto__: null,\n  math: true,\n  svg: true\n};\nvar htmlIntegrationElements = {\n  __proto__: null,\n  mi: true,\n  mo: true,\n  mn: true,\n  ms: true,\n  mtext: true,\n  \"annotation-xml\": true,\n  foreignObject: true,\n  desc: true,\n  title: true\n};\nvar re_nameEnd = /\\s|\\//;\n\nfunction Parser(cbs, options) {\n  this._options = options || {};\n  this._cbs = cbs || {};\n  this._tagname = \"\";\n  this._attribname = \"\";\n  this._attribvalue = \"\";\n  this._attribs = null;\n  this._stack = [];\n  this._foreignContext = [];\n  this.startIndex = 0;\n  this.endIndex = null;\n  this._lowerCaseTagNames = \"lowerCaseTags\" in this._options ? !!this._options.lowerCaseTags : !this._options.xmlMode;\n  this._lowerCaseAttributeNames = \"lowerCaseAttributeNames\" in this._options ? !!this._options.lowerCaseAttributeNames : !this._options.xmlMode;\n\n  if (this._options.Tokenizer) {\n    Tokenizer = this._options.Tokenizer;\n  }\n\n  this._tokenizer = new Tokenizer(this._options, this);\n  if (this._cbs.onparserinit) this._cbs.onparserinit(this);\n}\n\nrequire(\"inherits\")(Parser, require(\"events\").EventEmitter);\n\nParser.prototype._updatePosition = function (initialOffset) {\n  if (this.endIndex === null) {\n    if (this._tokenizer._sectionStart <= initialOffset) {\n      this.startIndex = 0;\n    } else {\n      this.startIndex = this._tokenizer._sectionStart - initialOffset;\n    }\n  } else this.startIndex = this.endIndex + 1;\n\n  this.endIndex = this._tokenizer.getAbsoluteIndex();\n}; //Tokenizer event handlers\n\n\nParser.prototype.ontext = function (data) {\n  this._updatePosition(1);\n\n  this.endIndex--;\n  if (this._cbs.ontext) this._cbs.ontext(data);\n};\n\nParser.prototype.onopentagname = function (name) {\n  if (this._lowerCaseTagNames) {\n    name = name.toLowerCase();\n  }\n\n  this._tagname = name;\n\n  if (!this._options.xmlMode && name in openImpliesClose) {\n    for (var el; ((el = this._stack[this._stack.length - 1]) in openImpliesClose[name]); this.onclosetag(el)) {\n      ;\n    }\n  }\n\n  if (this._options.xmlMode || !(name in voidElements)) {\n    this._stack.push(name);\n\n    if (name in foreignContextElements) this._foreignContext.push(true);else if (name in htmlIntegrationElements) this._foreignContext.push(false);\n  }\n\n  if (this._cbs.onopentagname) this._cbs.onopentagname(name);\n  if (this._cbs.onopentag) this._attribs = {};\n};\n\nParser.prototype.onopentagend = function () {\n  this._updatePosition(1);\n\n  if (this._attribs) {\n    if (this._cbs.onopentag) this._cbs.onopentag(this._tagname, this._attribs);\n    this._attribs = null;\n  }\n\n  if (!this._options.xmlMode && this._cbs.onclosetag && this._tagname in voidElements) {\n    this._cbs.onclosetag(this._tagname);\n  }\n\n  this._tagname = \"\";\n};\n\nParser.prototype.onclosetag = function (name) {\n  this._updatePosition(1);\n\n  if (this._lowerCaseTagNames) {\n    name = name.toLowerCase();\n  }\n\n  if (name in foreignContextElements || name in htmlIntegrationElements) {\n    this._foreignContext.pop();\n  }\n\n  if (this._stack.length && (!(name in voidElements) || this._options.xmlMode)) {\n    var pos = this._stack.lastIndexOf(name);\n\n    if (pos !== -1) {\n      if (this._cbs.onclosetag) {\n        pos = this._stack.length - pos;\n\n        while (pos--) {\n          this._cbs.onclosetag(this._stack.pop());\n        }\n      } else this._stack.length = pos;\n    } else if (name === \"p\" && !this._options.xmlMode) {\n      this.onopentagname(name);\n\n      this._closeCurrentTag();\n    }\n  } else if (!this._options.xmlMode && (name === \"br\" || name === \"p\")) {\n    this.onopentagname(name);\n\n    this._closeCurrentTag();\n  }\n};\n\nParser.prototype.onselfclosingtag = function () {\n  if (this._options.xmlMode || this._options.recognizeSelfClosing || this._foreignContext[this._foreignContext.length - 1]) {\n    this._closeCurrentTag();\n  } else {\n    this.onopentagend();\n  }\n};\n\nParser.prototype._closeCurrentTag = function () {\n  var name = this._tagname;\n  this.onopentagend(); //self-closing tags will be on the top of the stack\n  //(cheaper check than in onclosetag)\n\n  if (this._stack[this._stack.length - 1] === name) {\n    if (this._cbs.onclosetag) {\n      this._cbs.onclosetag(name);\n    }\n\n    this._stack.pop();\n  }\n};\n\nParser.prototype.onattribname = function (name) {\n  if (this._lowerCaseAttributeNames) {\n    name = name.toLowerCase();\n  }\n\n  this._attribname = name;\n};\n\nParser.prototype.onattribdata = function (value) {\n  this._attribvalue += value;\n};\n\nParser.prototype.onattribend = function () {\n  if (this._cbs.onattribute) this._cbs.onattribute(this._attribname, this._attribvalue);\n\n  if (this._attribs && !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)) {\n    this._attribs[this._attribname] = this._attribvalue;\n  }\n\n  this._attribname = \"\";\n  this._attribvalue = \"\";\n};\n\nParser.prototype._getInstructionName = function (value) {\n  var idx = value.search(re_nameEnd),\n      name = idx < 0 ? value : value.substr(0, idx);\n\n  if (this._lowerCaseTagNames) {\n    name = name.toLowerCase();\n  }\n\n  return name;\n};\n\nParser.prototype.ondeclaration = function (value) {\n  if (this._cbs.onprocessinginstruction) {\n    var name = this._getInstructionName(value);\n\n    this._cbs.onprocessinginstruction(\"!\" + name, \"!\" + value);\n  }\n};\n\nParser.prototype.onprocessinginstruction = function (value) {\n  if (this._cbs.onprocessinginstruction) {\n    var name = this._getInstructionName(value);\n\n    this._cbs.onprocessinginstruction(\"?\" + name, \"?\" + value);\n  }\n};\n\nParser.prototype.oncomment = function (value) {\n  this._updatePosition(4);\n\n  if (this._cbs.oncomment) this._cbs.oncomment(value);\n  if (this._cbs.oncommentend) this._cbs.oncommentend();\n};\n\nParser.prototype.oncdata = function (value) {\n  this._updatePosition(1);\n\n  if (this._options.xmlMode || this._options.recognizeCDATA) {\n    if (this._cbs.oncdatastart) this._cbs.oncdatastart();\n    if (this._cbs.ontext) this._cbs.ontext(value);\n    if (this._cbs.oncdataend) this._cbs.oncdataend();\n  } else {\n    this.oncomment(\"[CDATA[\" + value + \"]]\");\n  }\n};\n\nParser.prototype.onerror = function (err) {\n  if (this._cbs.onerror) this._cbs.onerror(err);\n};\n\nParser.prototype.onend = function () {\n  if (this._cbs.onclosetag) {\n    for (var i = this._stack.length; i > 0; this._cbs.onclosetag(this._stack[--i])) {\n      ;\n    }\n  }\n\n  if (this._cbs.onend) this._cbs.onend();\n}; //Resets the parser to a blank state, ready to parse a new HTML document\n\n\nParser.prototype.reset = function () {\n  if (this._cbs.onreset) this._cbs.onreset();\n\n  this._tokenizer.reset();\n\n  this._tagname = \"\";\n  this._attribname = \"\";\n  this._attribs = null;\n  this._stack = [];\n  if (this._cbs.onparserinit) this._cbs.onparserinit(this);\n}; //Parses a complete HTML document and pushes it to the handler\n\n\nParser.prototype.parseComplete = function (data) {\n  this.reset();\n  this.end(data);\n};\n\nParser.prototype.write = function (chunk) {\n  this._tokenizer.write(chunk);\n};\n\nParser.prototype.end = function (chunk) {\n  this._tokenizer.end(chunk);\n};\n\nParser.prototype.pause = function () {\n  this._tokenizer.pause();\n};\n\nParser.prototype.resume = function () {\n  this._tokenizer.resume();\n}; //alias for backwards compat\n\n\nParser.prototype.parseChunk = Parser.prototype.write;\nParser.prototype.done = Parser.prototype.end;\nmodule.exports = Parser;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftJsDebugLogging = require(\"./DraftJsDebugLogging\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar getContentEditableContainer = require(\"./getContentEditableContainer\");\n\nvar getDraftEditorSelection = require(\"./getDraftEditorSelection\");\n\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    if (editor._blockSelectEvents) {\n      var _editorState = editor.props.editorState;\n\n      var selectionState = _editorState.getSelection();\n\n      DraftJsDebugLogging.logBlockedSelectionEvent({\n        // For now I don't think we need any other info\n        anonymizedDom: 'N/A',\n        extraParams: JSON.stringify({\n          stacktrace: new Error().stack\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    }\n\n    return;\n  }\n\n  var editorState = editor.props.editorState;\n  var documentSelection = getDraftEditorSelection(editorState, getContentEditableContainer(editor));\n  var updatedSelectionState = documentSelection.selectionState;\n\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n\n    editor.update(editorState);\n  }\n}\n\nmodule.exports = editOnSelect;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar React = require(\"react\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\"); // In IE, spans with <br> tags render as two newlines. By rendering a span\n// with only a newline character, we can be sure to render a single line.\n\n\nvar useNewlineChar = UserAgent.isBrowser('IE <= 11');\n/**\n * Check whether the node should be considered a newline.\n */\n\nfunction isNewline(node) {\n  return useNewlineChar ? node.textContent === '\\n' : node.tagName === 'BR';\n}\n/**\n * Placeholder elements for empty text content.\n *\n * What is this `data-text` attribute, anyway? It turns out that we need to\n * put an attribute on the lowest-level text node in order to preserve correct\n * spellcheck handling. If the <span> is naked, Chrome and Safari may do\n * bizarre things to do the DOM -- split text nodes, create extra spans, etc.\n * If the <span> has an attribute, this appears not to happen.\n * See http://jsfiddle.net/9khdavod/ for the failure case, and\n * http://jsfiddle.net/7pg143f7/ for the fixed case.\n */\n\n\nvar NEWLINE_A = function NEWLINE_A(ref) {\n  return useNewlineChar ? React.createElement(\"span\", {\n    key: \"A\",\n    \"data-text\": \"true\",\n    ref: ref\n  }, '\\n') : React.createElement(\"br\", {\n    key: \"A\",\n    \"data-text\": \"true\",\n    ref: ref\n  });\n};\n\nvar NEWLINE_B = function NEWLINE_B(ref) {\n  return useNewlineChar ? React.createElement(\"span\", {\n    key: \"B\",\n    \"data-text\": \"true\",\n    ref: ref\n  }, '\\n') : React.createElement(\"br\", {\n    key: \"B\",\n    \"data-text\": \"true\",\n    ref: ref\n  });\n};\n/**\n * The lowest-level component in a `DraftEditor`, the text node component\n * replaces the default React text node implementation. This allows us to\n * perform custom handling of newline behavior and avoid re-rendering text\n * nodes with DOM state that already matches the expectations of our immutable\n * editor state.\n */\n\n\nvar DraftEditorTextNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorTextNode, _React$Component);\n\n  function DraftEditorTextNode(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // By flipping this flag, we also keep flipping keys which forces\n    // React to remount this node every time it rerenders.\n\n    _defineProperty(_assertThisInitialized(_this), \"_forceFlag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_node\", void 0);\n\n    _this._forceFlag = false;\n    return _this;\n  }\n\n  var _proto = DraftEditorTextNode.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var node = this._node;\n    var shouldBeNewline = nextProps.children === '';\n    !isElement(node) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'node is not an Element') : invariant(false) : void 0;\n    var elementNode = node;\n\n    if (shouldBeNewline) {\n      return !isNewline(elementNode);\n    }\n\n    return elementNode.textContent !== nextProps.children;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._forceFlag = !this._forceFlag;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._forceFlag = !this._forceFlag;\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    if (this.props.children === '') {\n      return this._forceFlag ? NEWLINE_A(function (ref) {\n        return _this2._node = ref;\n      }) : NEWLINE_B(function (ref) {\n        return _this2._node = ref;\n      });\n    }\n\n    return React.createElement(\"span\", {\n      key: this._forceFlag ? 'A' : 'B',\n      \"data-text\": \"true\",\n      ref: function ref(_ref) {\n        return _this2._node = _ref;\n      }\n    }, this.props.children);\n  };\n\n  return DraftEditorTextNode;\n}(React.Component);\n\nmodule.exports = DraftEditorTextNode;","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nfunction getWindowForNode(node) {\n  if (!node || !node.ownerDocument || !node.ownerDocument.defaultView) {\n    return window;\n  }\n\n  return node.ownerDocument.defaultView;\n}\n\nmodule.exports = getWindowForNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar clipboard = null;\n/**\n * Some systems offer a \"secondary\" clipboard to allow quick internal cut\n * and paste behavior. For instance, Ctrl+K (cut) and Ctrl+Y (paste).\n */\n\nvar SecondaryClipboard = {\n  cut: function cut(editorState) {\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var targetRange = null;\n\n    if (selection.isCollapsed()) {\n      var anchorKey = selection.getAnchorKey();\n      var blockEnd = content.getBlockForKey(anchorKey).getLength();\n\n      if (blockEnd === selection.getAnchorOffset()) {\n        var keyAfter = content.getKeyAfter(anchorKey);\n\n        if (keyAfter == null) {\n          return editorState;\n        }\n\n        targetRange = selection.set('focusKey', keyAfter).set('focusOffset', 0);\n      } else {\n        targetRange = selection.set('focusOffset', blockEnd);\n      }\n    } else {\n      targetRange = selection;\n    }\n\n    targetRange = nullthrows(targetRange); // TODO: This should actually append to the current state when doing\n    // successive ^K commands without any other cursor movement\n\n    clipboard = getContentStateFragment(content, targetRange);\n    var afterRemoval = DraftModifier.removeRange(content, targetRange, 'forward');\n\n    if (afterRemoval === content) {\n      return editorState;\n    }\n\n    return EditorState.push(editorState, afterRemoval, 'remove-range');\n  },\n  paste: function paste(editorState) {\n    if (!clipboard) {\n      return editorState;\n    }\n\n    var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), clipboard);\n    return EditorState.push(editorState, newContent, 'insert-fragment');\n  }\n};\nmodule.exports = SecondaryClipboard;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encode = exports.decodeStrict = exports.decode = void 0;\n\nvar decode_1 = require(\"./decode\");\n\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\n\n\nfunction decode(data, level) {\n  return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\n\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\n\nfunction decodeStrict(data, level) {\n  return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\n\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n */\n\nfunction encode(data, level) {\n  return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\n\nexports.encode = encode;\n\nvar encode_2 = require(\"./encode\");\n\nObject.defineProperty(exports, \"encodeXML\", {\n  enumerable: true,\n  get: function get() {\n    return encode_2.encodeXML;\n  }\n});\nObject.defineProperty(exports, \"encodeHTML\", {\n  enumerable: true,\n  get: function get() {\n    return encode_2.encodeHTML;\n  }\n});\nObject.defineProperty(exports, \"escape\", {\n  enumerable: true,\n  get: function get() {\n    return encode_2.escape;\n  }\n}); // Legacy aliases\n\nObject.defineProperty(exports, \"encodeHTML4\", {\n  enumerable: true,\n  get: function get() {\n    return encode_2.encodeHTML;\n  }\n});\nObject.defineProperty(exports, \"encodeHTML5\", {\n  enumerable: true,\n  get: function get() {\n    return encode_2.encodeHTML;\n  }\n});\n\nvar decode_2 = require(\"./decode\");\n\nObject.defineProperty(exports, \"decodeXML\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeXML;\n  }\n});\nObject.defineProperty(exports, \"decodeHTML\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeHTML;\n  }\n});\nObject.defineProperty(exports, \"decodeHTMLStrict\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeHTMLStrict;\n  }\n}); // Legacy aliases\n\nObject.defineProperty(exports, \"decodeHTML4\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeHTML;\n  }\n});\nObject.defineProperty(exports, \"decodeHTML5\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeHTML;\n  }\n});\nObject.defineProperty(exports, \"decodeHTML4Strict\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeHTMLStrict;\n  }\n});\nObject.defineProperty(exports, \"decodeHTML5Strict\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeHTMLStrict;\n  }\n});\nObject.defineProperty(exports, \"decodeXMLStrict\", {\n  enumerable: true,\n  get: function get() {\n    return decode_2.decodeXML;\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * A `dragstart` event has begun within the text editor component.\n */\n\nfunction editOnDragStart(editor) {\n  editor._internalDrag = true;\n  editor.setMode('drag');\n}\n\nmodule.exports = editOnDragStart;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DraftEditorBlock = require(\"./DraftEditorBlock.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar joinClasses = require(\"fbjs/lib/joinClasses\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n/**\n * Provide default styling for list items. This way, lists will be styled with\n * proper counters and indentation even if the caller does not specify\n * their own styling at all. If more than five levels of nesting are needed,\n * the necessary CSS classes can be provided via `blockStyleFn` configuration.\n */\n\n\nvar getListItemClasses = function getListItemClasses(type, depth, shouldResetCount, direction) {\n  return cx({\n    'public/DraftStyleDefault/unorderedListItem': type === 'unordered-list-item',\n    'public/DraftStyleDefault/orderedListItem': type === 'ordered-list-item',\n    'public/DraftStyleDefault/reset': shouldResetCount,\n    'public/DraftStyleDefault/depth0': depth === 0,\n    'public/DraftStyleDefault/depth1': depth === 1,\n    'public/DraftStyleDefault/depth2': depth === 2,\n    'public/DraftStyleDefault/depth3': depth === 3,\n    'public/DraftStyleDefault/depth4': depth >= 4,\n    'public/DraftStyleDefault/listLTR': direction === 'LTR',\n    'public/DraftStyleDefault/listRTL': direction === 'RTL'\n  });\n};\n/**\n * `DraftEditorContents` is the container component for all block components\n * rendered for a `DraftEditor`. It is optimized to aggressively avoid\n * re-rendering blocks whenever possible.\n *\n * This component is separate from `DraftEditor` because certain props\n * (for instance, ARIA props) must be allowed to update without affecting\n * the contents of the editor.\n */\n\n\nvar DraftEditorContents = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorContents, _React$Component);\n\n  function DraftEditorContents() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorContents.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var prevEditorState = this.props.editorState;\n    var nextEditorState = nextProps.editorState;\n    var prevDirectionMap = prevEditorState.getDirectionMap();\n    var nextDirectionMap = nextEditorState.getDirectionMap(); // Text direction has changed for one or more blocks. We must re-render.\n\n    if (prevDirectionMap !== nextDirectionMap) {\n      return true;\n    }\n\n    var didHaveFocus = prevEditorState.getSelection().getHasFocus();\n    var nowHasFocus = nextEditorState.getSelection().getHasFocus();\n\n    if (didHaveFocus !== nowHasFocus) {\n      return true;\n    }\n\n    var nextNativeContent = nextEditorState.getNativelyRenderedContent();\n    var wasComposing = prevEditorState.isInCompositionMode();\n    var nowComposing = nextEditorState.isInCompositionMode(); // If the state is unchanged or we're currently rendering a natively\n    // rendered state, there's nothing new to be done.\n\n    if (prevEditorState === nextEditorState || nextNativeContent !== null && nextEditorState.getCurrentContent() === nextNativeContent || wasComposing && nowComposing) {\n      return false;\n    }\n\n    var prevContent = prevEditorState.getCurrentContent();\n    var nextContent = nextEditorState.getCurrentContent();\n    var prevDecorator = prevEditorState.getDecorator();\n    var nextDecorator = nextEditorState.getDecorator();\n    return wasComposing !== nowComposing || prevContent !== nextContent || prevDecorator !== nextDecorator || nextEditorState.mustForceSelection();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        blockRenderMap = _this$props.blockRenderMap,\n        blockRendererFn = _this$props.blockRendererFn,\n        blockStyleFn = _this$props.blockStyleFn,\n        customStyleMap = _this$props.customStyleMap,\n        customStyleFn = _this$props.customStyleFn,\n        editorState = _this$props.editorState,\n        editorKey = _this$props.editorKey,\n        preventScroll = _this$props.preventScroll,\n        textDirectionality = _this$props.textDirectionality;\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var forceSelection = editorState.mustForceSelection();\n    var decorator = editorState.getDecorator();\n    var directionMap = nullthrows(editorState.getDirectionMap());\n    var blocksAsArray = content.getBlocksAsArray();\n    var processedBlocks = [];\n    var currentDepth = null;\n    var lastWrapperTemplate = null;\n\n    for (var ii = 0; ii < blocksAsArray.length; ii++) {\n      var _block = blocksAsArray[ii];\n\n      var key = _block.getKey();\n\n      var blockType = _block.getType();\n\n      var customRenderer = blockRendererFn(_block);\n      var CustomComponent = void 0,\n          customProps = void 0,\n          customEditable = void 0;\n\n      if (customRenderer) {\n        CustomComponent = customRenderer.component;\n        customProps = customRenderer.props;\n        customEditable = customRenderer.editable;\n      }\n\n      var direction = textDirectionality ? textDirectionality : directionMap.get(key);\n      var offsetKey = DraftOffsetKey.encode(key, 0, 0);\n      var componentProps = {\n        contentState: content,\n        block: _block,\n        blockProps: customProps,\n        blockStyleFn: blockStyleFn,\n        customStyleMap: customStyleMap,\n        customStyleFn: customStyleFn,\n        decorator: decorator,\n        direction: direction,\n        forceSelection: forceSelection,\n        offsetKey: offsetKey,\n        preventScroll: preventScroll,\n        selection: selection,\n        tree: editorState.getBlockTree(key)\n      };\n      var configForType = blockRenderMap.get(blockType) || blockRenderMap.get('unstyled');\n      var wrapperTemplate = configForType.wrapper;\n      var Element = configForType.element || blockRenderMap.get('unstyled').element;\n\n      var depth = _block.getDepth();\n\n      var _className = '';\n\n      if (blockStyleFn) {\n        _className = blockStyleFn(_block);\n      } // List items are special snowflakes, since we handle nesting and\n      // counters manually.\n\n\n      if (Element === 'li') {\n        var shouldResetCount = lastWrapperTemplate !== wrapperTemplate || currentDepth === null || depth > currentDepth;\n        _className = joinClasses(_className, getListItemClasses(blockType, depth, shouldResetCount, direction));\n      }\n\n      var Component = CustomComponent || DraftEditorBlock;\n      var childProps = {\n        className: _className,\n        'data-block': true,\n        'data-editor': editorKey,\n        'data-offset-key': offsetKey,\n        key: key\n      };\n\n      if (customEditable !== undefined) {\n        childProps = _objectSpread({}, childProps, {\n          contentEditable: customEditable,\n          suppressContentEditableWarning: true\n        });\n      }\n\n      var child = React.createElement(Element, childProps,\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This\n       * comment suppresses an error found when Flow v0.112 was deployed. To\n       * see the error delete this comment and run Flow. */\n      React.createElement(Component, _extends({}, componentProps, {\n        key: key\n      })));\n      processedBlocks.push({\n        block: child,\n        wrapperTemplate: wrapperTemplate,\n        key: key,\n        offsetKey: offsetKey\n      });\n\n      if (wrapperTemplate) {\n        currentDepth = _block.getDepth();\n      } else {\n        currentDepth = null;\n      }\n\n      lastWrapperTemplate = wrapperTemplate;\n    } // Group contiguous runs of blocks that have the same wrapperTemplate\n\n\n    var outputBlocks = [];\n\n    for (var _ii = 0; _ii < processedBlocks.length;) {\n      var info = processedBlocks[_ii];\n\n      if (info.wrapperTemplate) {\n        var blocks = [];\n\n        do {\n          blocks.push(processedBlocks[_ii].block);\n          _ii++;\n        } while (_ii < processedBlocks.length && processedBlocks[_ii].wrapperTemplate === info.wrapperTemplate);\n\n        var wrapperElement = React.cloneElement(info.wrapperTemplate, {\n          key: info.key + '-wrap',\n          'data-offset-key': info.offsetKey\n        }, blocks);\n        outputBlocks.push(wrapperElement);\n      } else {\n        outputBlocks.push(info.block);\n        _ii++;\n      }\n    }\n\n    return React.createElement(\"div\", {\n      \"data-contents\": \"true\"\n    }, outputBlocks);\n  };\n\n  return DraftEditorContents;\n}(React.Component);\n\nmodule.exports = DraftEditorContents;","(function (global, undefined) {\n  \"use strict\";\n\n  if (global.setImmediate) {\n    return;\n  }\n\n  var nextHandle = 1; // Spec says greater than zero\n\n  var tasksByHandle = {};\n  var currentlyRunningATask = false;\n  var doc = global.document;\n  var registerImmediate;\n\n  function setImmediate(callback) {\n    // Callback can either be a function or a string\n    if (typeof callback !== \"function\") {\n      callback = new Function(\"\" + callback);\n    } // Copy function arguments\n\n\n    var args = new Array(arguments.length - 1);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 1];\n    } // Store and register the task\n\n\n    var task = {\n      callback: callback,\n      args: args\n    };\n    tasksByHandle[nextHandle] = task;\n    registerImmediate(nextHandle);\n    return nextHandle++;\n  }\n\n  function clearImmediate(handle) {\n    delete tasksByHandle[handle];\n  }\n\n  function run(task) {\n    var callback = task.callback;\n    var args = task.args;\n\n    switch (args.length) {\n      case 0:\n        callback();\n        break;\n\n      case 1:\n        callback(args[0]);\n        break;\n\n      case 2:\n        callback(args[0], args[1]);\n        break;\n\n      case 3:\n        callback(args[0], args[1], args[2]);\n        break;\n\n      default:\n        callback.apply(undefined, args);\n        break;\n    }\n  }\n\n  function runIfPresent(handle) {\n    // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n    // So if we're currently running a task, we'll need to delay this invocation.\n    if (currentlyRunningATask) {\n      // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n      // \"too much recursion\" error.\n      setTimeout(runIfPresent, 0, handle);\n    } else {\n      var task = tasksByHandle[handle];\n\n      if (task) {\n        currentlyRunningATask = true;\n\n        try {\n          run(task);\n        } finally {\n          clearImmediate(handle);\n          currentlyRunningATask = false;\n        }\n      }\n    }\n  }\n\n  function installNextTickImplementation() {\n    registerImmediate = function registerImmediate(handle) {\n      process.nextTick(function () {\n        runIfPresent(handle);\n      });\n    };\n  }\n\n  function canUsePostMessage() {\n    // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n    // where `global.postMessage` means something completely different and can't be used for this purpose.\n    if (global.postMessage && !global.importScripts) {\n      var postMessageIsAsynchronous = true;\n      var oldOnMessage = global.onmessage;\n\n      global.onmessage = function () {\n        postMessageIsAsynchronous = false;\n      };\n\n      global.postMessage(\"\", \"*\");\n      global.onmessage = oldOnMessage;\n      return postMessageIsAsynchronous;\n    }\n  }\n\n  function installPostMessageImplementation() {\n    // Installs an event handler on `global` for the `message` event: see\n    // * https://developer.mozilla.org/en/DOM/window.postMessage\n    // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n    var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\n    var onGlobalMessage = function onGlobalMessage(event) {\n      if (event.source === global && typeof event.data === \"string\" && event.data.indexOf(messagePrefix) === 0) {\n        runIfPresent(+event.data.slice(messagePrefix.length));\n      }\n    };\n\n    if (global.addEventListener) {\n      global.addEventListener(\"message\", onGlobalMessage, false);\n    } else {\n      global.attachEvent(\"onmessage\", onGlobalMessage);\n    }\n\n    registerImmediate = function registerImmediate(handle) {\n      global.postMessage(messagePrefix + handle, \"*\");\n    };\n  }\n\n  function installMessageChannelImplementation() {\n    var channel = new MessageChannel();\n\n    channel.port1.onmessage = function (event) {\n      var handle = event.data;\n      runIfPresent(handle);\n    };\n\n    registerImmediate = function registerImmediate(handle) {\n      channel.port2.postMessage(handle);\n    };\n  }\n\n  function installReadyStateChangeImplementation() {\n    var html = doc.documentElement;\n\n    registerImmediate = function registerImmediate(handle) {\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var script = doc.createElement(\"script\");\n\n      script.onreadystatechange = function () {\n        runIfPresent(handle);\n        script.onreadystatechange = null;\n        html.removeChild(script);\n        script = null;\n      };\n\n      html.appendChild(script);\n    };\n  }\n\n  function installSetTimeoutImplementation() {\n    registerImmediate = function registerImmediate(handle) {\n      setTimeout(runIfPresent, 0, handle);\n    };\n  } // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\n\n  var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n  attachTo = attachTo && attachTo.setTimeout ? attachTo : global; // Don't get fooled by e.g. browserify environments.\n\n  if ({}.toString.call(global.process) === \"[object process]\") {\n    // For Node.js before 0.9\n    installNextTickImplementation();\n  } else if (canUsePostMessage()) {\n    // For non-IE10 modern browsers\n    installPostMessageImplementation();\n  } else if (global.MessageChannel) {\n    // For web workers, where supported\n    installMessageChannelImplementation();\n  } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n    // For IE 6–8\n    installReadyStateChangeImplementation();\n  } else {\n    // For older browsers\n    installSetTimeoutImplementation();\n  }\n\n  attachTo.setImmediate = setImmediate;\n  attachTo.clearImmediate = clearImmediate;\n})(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self);","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getFragmentFromSelection = require(\"./getFragmentFromSelection\");\n/**\n * If we have a selection, create a ContentState fragment and store\n * it in our internal clipboard. Subsequent paste events will use this\n * fragment if no external clipboard data is supplied.\n */\n\n\nfunction editOnCopy(editor, e) {\n  var editorState = editor._latestEditorState;\n  var selection = editorState.getSelection(); // No selection, so there's nothing to copy.\n\n  if (selection.isCollapsed()) {\n    e.preventDefault();\n    return;\n  }\n\n  editor.setClipboard(getFragmentFromSelection(editor._latestEditorState));\n}\n\nmodule.exports = editOnCopy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftRemovableWord = require(\"./DraftRemovableWord\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar moveSelectionForward = require(\"./moveSelectionForward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Delete the word that is right of the cursor, as well as any spaces or\n * punctuation before the word.\n */\n\n\nfunction keyCommandDeleteWord(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var offset = selection.getStartOffset();\n    var key = selection.getStartKey();\n    var content = strategyState.getCurrentContent();\n    var text = content.getBlockForKey(key).getText().slice(offset);\n    var toRemove = DraftRemovableWord.getForward(text); // If there are no words in front of the cursor, remove the newline.\n\n    return moveSelectionForward(strategyState, toRemove.length || 1);\n  }, 'forward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandDeleteWord;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * This function is used to mark string literals representing CSS class names\n * so that they can be transformed statically. This allows for modularization\n * and minification of CSS class names.\n *\n * In static_upstream, this function is actually implemented, but it should\n * eventually be replaced with something more descriptive, and the transform\n * that is used in the main stack should be ported for use elsewhere.\n *\n * @param string|object className to modularize, or an object of key/values.\n *                      In the object case, the values are conditions that\n *                      determine if the className keys should be included.\n * @param [string ...]  Variable list of classNames in the string case.\n * @return string       Renderable space-separated CSS className.\n */\n\nfunction cx(classNames) {\n  if (typeof classNames == 'object') {\n    return Object.keys(classNames).filter(function (className) {\n      return classNames[className];\n    }).map(replace).join(' ');\n  }\n\n  return Array.prototype.map.call(arguments, replace).join(' ');\n}\n\nfunction replace(str) {\n  return str.replace(/\\//g, '-');\n}\n\nmodule.exports = cx;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Immutable = require(\"immutable\");\n\nvar OrderedMap = Immutable.OrderedMap;\nvar BlockMapBuilder = {\n  createFromArray: function createFromArray(blocks) {\n    return OrderedMap(blocks.map(function (block) {\n      return [block.getKey(), block];\n    }));\n  }\n};\nmodule.exports = BlockMapBuilder;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This file is a fork of DraftEditorContents.react.js for tree nodes\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DraftEditorBlockNode = require(\"./DraftEditorBlockNode.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n/**\n * `DraftEditorContents` is the container component for all block components\n * rendered for a `DraftEditor`. It is optimized to aggressively avoid\n * re-rendering blocks whenever possible.\n *\n * This component is separate from `DraftEditor` because certain props\n * (for instance, ARIA props) must be allowed to update without affecting\n * the contents of the editor.\n */\n\n\nvar DraftEditorContentsExperimental = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorContentsExperimental, _React$Component);\n\n  function DraftEditorContentsExperimental() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorContentsExperimental.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var prevEditorState = this.props.editorState;\n    var nextEditorState = nextProps.editorState;\n    var prevDirectionMap = prevEditorState.getDirectionMap();\n    var nextDirectionMap = nextEditorState.getDirectionMap(); // Text direction has changed for one or more blocks. We must re-render.\n\n    if (prevDirectionMap !== nextDirectionMap) {\n      return true;\n    }\n\n    var didHaveFocus = prevEditorState.getSelection().getHasFocus();\n    var nowHasFocus = nextEditorState.getSelection().getHasFocus();\n\n    if (didHaveFocus !== nowHasFocus) {\n      return true;\n    }\n\n    var nextNativeContent = nextEditorState.getNativelyRenderedContent();\n    var wasComposing = prevEditorState.isInCompositionMode();\n    var nowComposing = nextEditorState.isInCompositionMode(); // If the state is unchanged or we're currently rendering a natively\n    // rendered state, there's nothing new to be done.\n\n    if (prevEditorState === nextEditorState || nextNativeContent !== null && nextEditorState.getCurrentContent() === nextNativeContent || wasComposing && nowComposing) {\n      return false;\n    }\n\n    var prevContent = prevEditorState.getCurrentContent();\n    var nextContent = nextEditorState.getCurrentContent();\n    var prevDecorator = prevEditorState.getDecorator();\n    var nextDecorator = nextEditorState.getDecorator();\n    return wasComposing !== nowComposing || prevContent !== nextContent || prevDecorator !== nextDecorator || nextEditorState.mustForceSelection();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        blockRenderMap = _this$props.blockRenderMap,\n        blockRendererFn = _this$props.blockRendererFn,\n        blockStyleFn = _this$props.blockStyleFn,\n        customStyleMap = _this$props.customStyleMap,\n        customStyleFn = _this$props.customStyleFn,\n        editorState = _this$props.editorState,\n        editorKey = _this$props.editorKey,\n        textDirectionality = _this$props.textDirectionality;\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var forceSelection = editorState.mustForceSelection();\n    var decorator = editorState.getDecorator();\n    var directionMap = nullthrows(editorState.getDirectionMap());\n    var blocksAsArray = content.getBlocksAsArray();\n    var rootBlock = blocksAsArray[0];\n    var processedBlocks = [];\n    var nodeBlock = rootBlock;\n\n    while (nodeBlock) {\n      var blockKey = nodeBlock.getKey();\n      var blockProps = {\n        blockRenderMap: blockRenderMap,\n        blockRendererFn: blockRendererFn,\n        blockStyleFn: blockStyleFn,\n        contentState: content,\n        customStyleFn: customStyleFn,\n        customStyleMap: customStyleMap,\n        decorator: decorator,\n        editorKey: editorKey,\n        editorState: editorState,\n        forceSelection: forceSelection,\n        selection: selection,\n        block: nodeBlock,\n        direction: textDirectionality ? textDirectionality : directionMap.get(blockKey),\n        tree: editorState.getBlockTree(blockKey)\n      };\n      var configForType = blockRenderMap.get(nodeBlock.getType()) || blockRenderMap.get('unstyled');\n      var wrapperTemplate = configForType.wrapper;\n      processedBlocks.push({\n        /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This\n         * comment suppresses an error found when Flow v0.112 was deployed. To\n         * see the error delete this comment and run Flow. */\n        block: React.createElement(DraftEditorBlockNode, _extends({\n          key: blockKey\n        }, blockProps)),\n        wrapperTemplate: wrapperTemplate,\n        key: blockKey,\n        offsetKey: DraftOffsetKey.encode(blockKey, 0, 0)\n      });\n      var nextBlockKey = nodeBlock.getNextSiblingKey();\n      nodeBlock = nextBlockKey ? content.getBlockForKey(nextBlockKey) : null;\n    } // Group contiguous runs of blocks that have the same wrapperTemplate\n\n\n    var outputBlocks = [];\n\n    for (var ii = 0; ii < processedBlocks.length;) {\n      var info = processedBlocks[ii];\n\n      if (info.wrapperTemplate) {\n        var blocks = [];\n\n        do {\n          blocks.push(processedBlocks[ii].block);\n          ii++;\n        } while (ii < processedBlocks.length && processedBlocks[ii].wrapperTemplate === info.wrapperTemplate);\n\n        var wrapperElement = React.cloneElement(info.wrapperTemplate, {\n          key: info.key + '-wrap',\n          'data-offset-key': info.offsetKey\n        }, blocks);\n        outputBlocks.push(wrapperElement);\n      } else {\n        outputBlocks.push(info.block);\n        ii++;\n      }\n    }\n\n    return React.createElement(\"div\", {\n      \"data-contents\": \"true\"\n    }, outputBlocks);\n  };\n\n  return DraftEditorContentsExperimental;\n}(React.Component);\n\nmodule.exports = DraftEditorContentsExperimental;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction isSelectionAtLeafStart(editorState) {\n  var selection = editorState.getSelection();\n  var anchorKey = selection.getAnchorKey();\n  var blockTree = editorState.getBlockTree(anchorKey);\n  var offset = selection.getStartOffset();\n  var isAtStart = false;\n  blockTree.some(function (leafSet) {\n    if (offset === leafSet.get('start')) {\n      isAtStart = true;\n      return true;\n    }\n\n    if (offset < leafSet.get('end')) {\n      return leafSet.get('leaves').some(function (leaf) {\n        var leafStart = leaf.get('start');\n\n        if (offset === leafStart) {\n          isAtStart = true;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    return false;\n  });\n  return isAtStart;\n}\n\nmodule.exports = isSelectionAtLeafStart;","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flatMap');\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar URI = /*#__PURE__*/function () {\n  function URI(uri) {\n    _defineProperty(this, \"_uri\", void 0);\n\n    this._uri = uri;\n  }\n\n  var _proto = URI.prototype;\n\n  _proto.toString = function toString() {\n    return this._uri;\n  };\n\n  return URI;\n}();\n\nmodule.exports = URI;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Maintain persistence for target list when appending and prepending.\n */\n\nfunction insertIntoList(targetListArg, toInsert, offset) {\n  var targetList = targetListArg;\n\n  if (offset === targetList.count()) {\n    toInsert.forEach(function (c) {\n      targetList = targetList.push(c);\n    });\n  } else if (offset === 0) {\n    toInsert.reverse().forEach(function (c) {\n      targetList = targetList.unshift(c);\n    });\n  } else {\n    var head = targetList.slice(0, offset);\n    var tail = targetList.slice(offset);\n    targetList = head.concat(toInsert, tail).toList();\n  }\n\n  return targetList;\n}\n\nmodule.exports = insertIntoList;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getDraftEditorSelectionWithNodes = require(\"./getDraftEditorSelectionWithNodes\");\n/**\n * Convert the current selection range to an anchor/focus pair of offset keys\n * and values that can be interpreted by components.\n */\n\n\nfunction getDraftEditorSelection(editorState, root) {\n  var selection = root.ownerDocument.defaultView.getSelection();\n  var anchorNode = selection.anchorNode,\n      anchorOffset = selection.anchorOffset,\n      focusNode = selection.focusNode,\n      focusOffset = selection.focusOffset,\n      rangeCount = selection.rangeCount;\n\n  if ( // No active selection.\n  rangeCount === 0 || // No selection, ever. As in, the user hasn't selected anything since\n  // opening the document.\n  anchorNode == null || focusNode == null) {\n    return {\n      selectionState: editorState.getSelection().set('hasFocus', false),\n      needsRecovery: false\n    };\n  }\n\n  return getDraftEditorSelectionWithNodes(editorState, root, anchorNode, anchorOffset, focusNode, focusOffset);\n}\n\nmodule.exports = getDraftEditorSelection;","// DOM-Level-1-compliant structure\nvar NodePrototype = require('./node');\n\nvar ElementPrototype = module.exports = Object.create(NodePrototype);\nvar domLvl1 = {\n  tagName: \"name\"\n};\nObject.keys(domLvl1).forEach(function (key) {\n  var shorthand = domLvl1[key];\n  Object.defineProperty(ElementPrototype, key, {\n    get: function get() {\n      return this[shorthand] || null;\n    },\n    set: function set(val) {\n      this[shorthand] = val;\n      return val;\n    }\n  });\n});","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nvar isElement = require(\"./isElement\");\n\nfunction isHTMLBRElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return isElement(node) && node.nodeName === 'BR';\n}\n\nmodule.exports = isHTMLBRElement;","var ElementType = require(\"domelementtype\"),\n    getOuterHTML = require(\"dom-serializer\"),\n    isTag = ElementType.isTag;\n\nmodule.exports = {\n  getInnerHTML: getInnerHTML,\n  getOuterHTML: getOuterHTML,\n  getText: getText\n};\n\nfunction getInnerHTML(elem, opts) {\n  return elem.children ? elem.children.map(function (elem) {\n    return getOuterHTML(elem, opts);\n  }).join(\"\") : \"\";\n}\n\nfunction getText(elem) {\n  if (Array.isArray(elem)) return elem.map(getText).join(\"\");\n  if (isTag(elem) || elem.type === ElementType.CDATA) return getText(elem.children);\n  if (elem.type === ElementType.Text) return elem.data;\n  return \"\";\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nexports.default = InlineStyleToObject;\n/**\n * Converts an inline style string into an object of React style properties\n *\n * @param {String} inlineStyle='' The inline style to convert\n * @returns {Object} The converted style\n */\n\nfunction InlineStyleToObject() {\n  var inlineStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; // just return empty object if the inlineStyle is empty\n\n  if (inlineStyle === '') {\n    return {};\n  }\n\n  return inlineStyle.split(';').reduce(function (styleObject, stylePropertyValue) {\n    // extract the style property name and value\n    var _stylePropertyValue$s = stylePropertyValue.split(/^([^:]+):/).filter(function (val, i) {\n      return i > 0;\n    }).map(function (item) {\n      return item.trim().toLowerCase();\n    }),\n        _stylePropertyValue$s2 = _slicedToArray(_stylePropertyValue$s, 2),\n        property = _stylePropertyValue$s2[0],\n        value = _stylePropertyValue$s2[1]; // if there is no value (i.e. no : in the style) then ignore it\n\n\n    if (value === undefined) {\n      return styleObject;\n    } // convert the property name into the correct React format\n    // remove all hyphens and convert the letter immediately after each hyphen to upper case\n    // additionally don't uppercase any -ms- prefix\n    // e.g. -ms-style-property = msStyleProperty\n    //      -webkit-style-property = WebkitStyleProperty\n\n\n    property = property.replace(/^-ms-/, 'ms-').replace(/-(.)/g, function (_, character) {\n      return character.toUpperCase();\n    }); // add the new style property and value to the style object\n\n    styleObject[property] = value;\n    return styleObject;\n  }, {});\n}","module.exports = Tokenizer;\n\nvar decodeCodePoint = require(\"entities/lib/decode_codepoint.js\");\n\nvar entityMap = require(\"entities/maps/entities.json\");\n\nvar legacyMap = require(\"entities/maps/legacy.json\");\n\nvar xmlMap = require(\"entities/maps/xml.json\");\n\nvar i = 0;\nvar TEXT = i++;\nvar BEFORE_TAG_NAME = i++; //after <\n\nvar IN_TAG_NAME = i++;\nvar IN_SELF_CLOSING_TAG = i++;\nvar BEFORE_CLOSING_TAG_NAME = i++;\nvar IN_CLOSING_TAG_NAME = i++;\nvar AFTER_CLOSING_TAG_NAME = i++; //attributes\n\nvar BEFORE_ATTRIBUTE_NAME = i++;\nvar IN_ATTRIBUTE_NAME = i++;\nvar AFTER_ATTRIBUTE_NAME = i++;\nvar BEFORE_ATTRIBUTE_VALUE = i++;\nvar IN_ATTRIBUTE_VALUE_DQ = i++; // \"\n\nvar IN_ATTRIBUTE_VALUE_SQ = i++; // '\n\nvar IN_ATTRIBUTE_VALUE_NQ = i++; //declarations\n\nvar BEFORE_DECLARATION = i++; // !\n\nvar IN_DECLARATION = i++; //processing instructions\n\nvar IN_PROCESSING_INSTRUCTION = i++; // ?\n//comments\n\nvar BEFORE_COMMENT = i++;\nvar IN_COMMENT = i++;\nvar AFTER_COMMENT_1 = i++;\nvar AFTER_COMMENT_2 = i++; //cdata\n\nvar BEFORE_CDATA_1 = i++; // [\n\nvar BEFORE_CDATA_2 = i++; // C\n\nvar BEFORE_CDATA_3 = i++; // D\n\nvar BEFORE_CDATA_4 = i++; // A\n\nvar BEFORE_CDATA_5 = i++; // T\n\nvar BEFORE_CDATA_6 = i++; // A\n\nvar IN_CDATA = i++; // [\n\nvar AFTER_CDATA_1 = i++; // ]\n\nvar AFTER_CDATA_2 = i++; // ]\n//special tags\n\nvar BEFORE_SPECIAL = i++; //S\n\nvar BEFORE_SPECIAL_END = i++; //S\n\nvar BEFORE_SCRIPT_1 = i++; //C\n\nvar BEFORE_SCRIPT_2 = i++; //R\n\nvar BEFORE_SCRIPT_3 = i++; //I\n\nvar BEFORE_SCRIPT_4 = i++; //P\n\nvar BEFORE_SCRIPT_5 = i++; //T\n\nvar AFTER_SCRIPT_1 = i++; //C\n\nvar AFTER_SCRIPT_2 = i++; //R\n\nvar AFTER_SCRIPT_3 = i++; //I\n\nvar AFTER_SCRIPT_4 = i++; //P\n\nvar AFTER_SCRIPT_5 = i++; //T\n\nvar BEFORE_STYLE_1 = i++; //T\n\nvar BEFORE_STYLE_2 = i++; //Y\n\nvar BEFORE_STYLE_3 = i++; //L\n\nvar BEFORE_STYLE_4 = i++; //E\n\nvar AFTER_STYLE_1 = i++; //T\n\nvar AFTER_STYLE_2 = i++; //Y\n\nvar AFTER_STYLE_3 = i++; //L\n\nvar AFTER_STYLE_4 = i++; //E\n\nvar BEFORE_ENTITY = i++; //&\n\nvar BEFORE_NUMERIC_ENTITY = i++; //#\n\nvar IN_NAMED_ENTITY = i++;\nvar IN_NUMERIC_ENTITY = i++;\nvar IN_HEX_ENTITY = i++; //X\n\nvar j = 0;\nvar SPECIAL_NONE = j++;\nvar SPECIAL_SCRIPT = j++;\nvar SPECIAL_STYLE = j++;\n\nfunction whitespace(c) {\n  return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n  var lower = upper.toLowerCase();\n\n  if (upper === lower) {\n    return function (c) {\n      if (c === lower) {\n        this._state = SUCCESS;\n      } else {\n        this._state = FAILURE;\n        this._index--;\n      }\n    };\n  } else {\n    return function (c) {\n      if (c === lower || c === upper) {\n        this._state = SUCCESS;\n      } else {\n        this._state = FAILURE;\n        this._index--;\n      }\n    };\n  }\n}\n\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n  var lower = upper.toLowerCase();\n  return function (c) {\n    if (c === lower || c === upper) {\n      this._state = NEXT_STATE;\n    } else {\n      this._state = IN_TAG_NAME;\n      this._index--; //consume the token again\n    }\n  };\n}\n\nfunction Tokenizer(options, cbs) {\n  this._state = TEXT;\n  this._buffer = \"\";\n  this._sectionStart = 0;\n  this._index = 0;\n  this._bufferOffset = 0; //chars removed from _buffer\n\n  this._baseState = TEXT;\n  this._special = SPECIAL_NONE;\n  this._cbs = cbs;\n  this._running = true;\n  this._ended = false;\n  this._xmlMode = !!(options && options.xmlMode);\n  this._decodeEntities = !!(options && options.decodeEntities);\n}\n\nTokenizer.prototype._stateText = function (c) {\n  if (c === \"<\") {\n    if (this._index > this._sectionStart) {\n      this._cbs.ontext(this._getSection());\n    }\n\n    this._state = BEFORE_TAG_NAME;\n    this._sectionStart = this._index;\n  } else if (this._decodeEntities && this._special === SPECIAL_NONE && c === \"&\") {\n    if (this._index > this._sectionStart) {\n      this._cbs.ontext(this._getSection());\n    }\n\n    this._baseState = TEXT;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateBeforeTagName = function (c) {\n  if (c === \"/\") {\n    this._state = BEFORE_CLOSING_TAG_NAME;\n  } else if (c === \"<\") {\n    this._cbs.ontext(this._getSection());\n\n    this._sectionStart = this._index;\n  } else if (c === \">\" || this._special !== SPECIAL_NONE || whitespace(c)) {\n    this._state = TEXT;\n  } else if (c === \"!\") {\n    this._state = BEFORE_DECLARATION;\n    this._sectionStart = this._index + 1;\n  } else if (c === \"?\") {\n    this._state = IN_PROCESSING_INSTRUCTION;\n    this._sectionStart = this._index + 1;\n  } else {\n    this._state = !this._xmlMode && (c === \"s\" || c === \"S\") ? BEFORE_SPECIAL : IN_TAG_NAME;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateInTagName = function (c) {\n  if (c === \"/\" || c === \">\" || whitespace(c)) {\n    this._emitToken(\"onopentagname\");\n\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  }\n};\n\nTokenizer.prototype._stateBeforeCloseingTagName = function (c) {\n  if (whitespace(c)) ;else if (c === \">\") {\n    this._state = TEXT;\n  } else if (this._special !== SPECIAL_NONE) {\n    if (c === \"s\" || c === \"S\") {\n      this._state = BEFORE_SPECIAL_END;\n    } else {\n      this._state = TEXT;\n      this._index--;\n    }\n  } else {\n    this._state = IN_CLOSING_TAG_NAME;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateInCloseingTagName = function (c) {\n  if (c === \">\" || whitespace(c)) {\n    this._emitToken(\"onclosetag\");\n\n    this._state = AFTER_CLOSING_TAG_NAME;\n    this._index--;\n  }\n};\n\nTokenizer.prototype._stateAfterCloseingTagName = function (c) {\n  //skip everything until \">\"\n  if (c === \">\") {\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  }\n};\n\nTokenizer.prototype._stateBeforeAttributeName = function (c) {\n  if (c === \">\") {\n    this._cbs.onopentagend();\n\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (c === \"/\") {\n    this._state = IN_SELF_CLOSING_TAG;\n  } else if (!whitespace(c)) {\n    this._state = IN_ATTRIBUTE_NAME;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateInSelfClosingTag = function (c) {\n  if (c === \">\") {\n    this._cbs.onselfclosingtag();\n\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (!whitespace(c)) {\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  }\n};\n\nTokenizer.prototype._stateInAttributeName = function (c) {\n  if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n    this._cbs.onattribname(this._getSection());\n\n    this._sectionStart = -1;\n    this._state = AFTER_ATTRIBUTE_NAME;\n    this._index--;\n  }\n};\n\nTokenizer.prototype._stateAfterAttributeName = function (c) {\n  if (c === \"=\") {\n    this._state = BEFORE_ATTRIBUTE_VALUE;\n  } else if (c === \"/\" || c === \">\") {\n    this._cbs.onattribend();\n\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  } else if (!whitespace(c)) {\n    this._cbs.onattribend();\n\n    this._state = IN_ATTRIBUTE_NAME;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateBeforeAttributeValue = function (c) {\n  if (c === '\"') {\n    this._state = IN_ATTRIBUTE_VALUE_DQ;\n    this._sectionStart = this._index + 1;\n  } else if (c === \"'\") {\n    this._state = IN_ATTRIBUTE_VALUE_SQ;\n    this._sectionStart = this._index + 1;\n  } else if (!whitespace(c)) {\n    this._state = IN_ATTRIBUTE_VALUE_NQ;\n    this._sectionStart = this._index;\n    this._index--; //reconsume token\n  }\n};\n\nTokenizer.prototype._stateInAttributeValueDoubleQuotes = function (c) {\n  if (c === '\"') {\n    this._emitToken(\"onattribdata\");\n\n    this._cbs.onattribend();\n\n    this._state = BEFORE_ATTRIBUTE_NAME;\n  } else if (this._decodeEntities && c === \"&\") {\n    this._emitToken(\"onattribdata\");\n\n    this._baseState = this._state;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateInAttributeValueSingleQuotes = function (c) {\n  if (c === \"'\") {\n    this._emitToken(\"onattribdata\");\n\n    this._cbs.onattribend();\n\n    this._state = BEFORE_ATTRIBUTE_NAME;\n  } else if (this._decodeEntities && c === \"&\") {\n    this._emitToken(\"onattribdata\");\n\n    this._baseState = this._state;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateInAttributeValueNoQuotes = function (c) {\n  if (whitespace(c) || c === \">\") {\n    this._emitToken(\"onattribdata\");\n\n    this._cbs.onattribend();\n\n    this._state = BEFORE_ATTRIBUTE_NAME;\n    this._index--;\n  } else if (this._decodeEntities && c === \"&\") {\n    this._emitToken(\"onattribdata\");\n\n    this._baseState = this._state;\n    this._state = BEFORE_ENTITY;\n    this._sectionStart = this._index;\n  }\n};\n\nTokenizer.prototype._stateBeforeDeclaration = function (c) {\n  this._state = c === \"[\" ? BEFORE_CDATA_1 : c === \"-\" ? BEFORE_COMMENT : IN_DECLARATION;\n};\n\nTokenizer.prototype._stateInDeclaration = function (c) {\n  if (c === \">\") {\n    this._cbs.ondeclaration(this._getSection());\n\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  }\n};\n\nTokenizer.prototype._stateInProcessingInstruction = function (c) {\n  if (c === \">\") {\n    this._cbs.onprocessinginstruction(this._getSection());\n\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  }\n};\n\nTokenizer.prototype._stateBeforeComment = function (c) {\n  if (c === \"-\") {\n    this._state = IN_COMMENT;\n    this._sectionStart = this._index + 1;\n  } else {\n    this._state = IN_DECLARATION;\n  }\n};\n\nTokenizer.prototype._stateInComment = function (c) {\n  if (c === \"-\") this._state = AFTER_COMMENT_1;\n};\n\nTokenizer.prototype._stateAfterComment1 = function (c) {\n  if (c === \"-\") {\n    this._state = AFTER_COMMENT_2;\n  } else {\n    this._state = IN_COMMENT;\n  }\n};\n\nTokenizer.prototype._stateAfterComment2 = function (c) {\n  if (c === \">\") {\n    //remove 2 trailing chars\n    this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));\n\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (c !== \"-\") {\n    this._state = IN_COMMENT;\n  } // else: stay in AFTER_COMMENT_2 (`--->`)\n\n};\n\nTokenizer.prototype._stateBeforeCdata1 = ifElseState(\"C\", BEFORE_CDATA_2, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata2 = ifElseState(\"D\", BEFORE_CDATA_3, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata3 = ifElseState(\"A\", BEFORE_CDATA_4, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata4 = ifElseState(\"T\", BEFORE_CDATA_5, IN_DECLARATION);\nTokenizer.prototype._stateBeforeCdata5 = ifElseState(\"A\", BEFORE_CDATA_6, IN_DECLARATION);\n\nTokenizer.prototype._stateBeforeCdata6 = function (c) {\n  if (c === \"[\") {\n    this._state = IN_CDATA;\n    this._sectionStart = this._index + 1;\n  } else {\n    this._state = IN_DECLARATION;\n    this._index--;\n  }\n};\n\nTokenizer.prototype._stateInCdata = function (c) {\n  if (c === \"]\") this._state = AFTER_CDATA_1;\n};\n\nTokenizer.prototype._stateAfterCdata1 = function (c) {\n  if (c === \"]\") this._state = AFTER_CDATA_2;else this._state = IN_CDATA;\n};\n\nTokenizer.prototype._stateAfterCdata2 = function (c) {\n  if (c === \">\") {\n    //remove 2 trailing chars\n    this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));\n\n    this._state = TEXT;\n    this._sectionStart = this._index + 1;\n  } else if (c !== \"]\") {\n    this._state = IN_CDATA;\n  } //else: stay in AFTER_CDATA_2 (`]]]>`)\n\n};\n\nTokenizer.prototype._stateBeforeSpecial = function (c) {\n  if (c === \"c\" || c === \"C\") {\n    this._state = BEFORE_SCRIPT_1;\n  } else if (c === \"t\" || c === \"T\") {\n    this._state = BEFORE_STYLE_1;\n  } else {\n    this._state = IN_TAG_NAME;\n    this._index--; //consume the token again\n  }\n};\n\nTokenizer.prototype._stateBeforeSpecialEnd = function (c) {\n  if (this._special === SPECIAL_SCRIPT && (c === \"c\" || c === \"C\")) {\n    this._state = AFTER_SCRIPT_1;\n  } else if (this._special === SPECIAL_STYLE && (c === \"t\" || c === \"T\")) {\n    this._state = AFTER_STYLE_1;\n  } else this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeScript1 = consumeSpecialNameChar(\"R\", BEFORE_SCRIPT_2);\nTokenizer.prototype._stateBeforeScript2 = consumeSpecialNameChar(\"I\", BEFORE_SCRIPT_3);\nTokenizer.prototype._stateBeforeScript3 = consumeSpecialNameChar(\"P\", BEFORE_SCRIPT_4);\nTokenizer.prototype._stateBeforeScript4 = consumeSpecialNameChar(\"T\", BEFORE_SCRIPT_5);\n\nTokenizer.prototype._stateBeforeScript5 = function (c) {\n  if (c === \"/\" || c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_SCRIPT;\n  }\n\n  this._state = IN_TAG_NAME;\n  this._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterScript1 = ifElseState(\"R\", AFTER_SCRIPT_2, TEXT);\nTokenizer.prototype._stateAfterScript2 = ifElseState(\"I\", AFTER_SCRIPT_3, TEXT);\nTokenizer.prototype._stateAfterScript3 = ifElseState(\"P\", AFTER_SCRIPT_4, TEXT);\nTokenizer.prototype._stateAfterScript4 = ifElseState(\"T\", AFTER_SCRIPT_5, TEXT);\n\nTokenizer.prototype._stateAfterScript5 = function (c) {\n  if (c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_NONE;\n    this._state = IN_CLOSING_TAG_NAME;\n    this._sectionStart = this._index - 6;\n    this._index--; //reconsume the token\n  } else this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", BEFORE_STYLE_2);\nTokenizer.prototype._stateBeforeStyle2 = consumeSpecialNameChar(\"L\", BEFORE_STYLE_3);\nTokenizer.prototype._stateBeforeStyle3 = consumeSpecialNameChar(\"E\", BEFORE_STYLE_4);\n\nTokenizer.prototype._stateBeforeStyle4 = function (c) {\n  if (c === \"/\" || c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_STYLE;\n  }\n\n  this._state = IN_TAG_NAME;\n  this._index--; //consume the token again\n};\n\nTokenizer.prototype._stateAfterStyle1 = ifElseState(\"Y\", AFTER_STYLE_2, TEXT);\nTokenizer.prototype._stateAfterStyle2 = ifElseState(\"L\", AFTER_STYLE_3, TEXT);\nTokenizer.prototype._stateAfterStyle3 = ifElseState(\"E\", AFTER_STYLE_4, TEXT);\n\nTokenizer.prototype._stateAfterStyle4 = function (c) {\n  if (c === \">\" || whitespace(c)) {\n    this._special = SPECIAL_NONE;\n    this._state = IN_CLOSING_TAG_NAME;\n    this._sectionStart = this._index - 5;\n    this._index--; //reconsume the token\n  } else this._state = TEXT;\n};\n\nTokenizer.prototype._stateBeforeEntity = ifElseState(\"#\", BEFORE_NUMERIC_ENTITY, IN_NAMED_ENTITY);\nTokenizer.prototype._stateBeforeNumericEntity = ifElseState(\"X\", IN_HEX_ENTITY, IN_NUMERIC_ENTITY); //for entities terminated with a semicolon\n\nTokenizer.prototype._parseNamedEntityStrict = function () {\n  //offset = 1\n  if (this._sectionStart + 1 < this._index) {\n    var entity = this._buffer.substring(this._sectionStart + 1, this._index),\n        map = this._xmlMode ? xmlMap : entityMap;\n\n    if (map.hasOwnProperty(entity)) {\n      this._emitPartial(map[entity]);\n\n      this._sectionStart = this._index + 1;\n    }\n  }\n}; //parses legacy entities (without trailing semicolon)\n\n\nTokenizer.prototype._parseLegacyEntity = function () {\n  var start = this._sectionStart + 1,\n      limit = this._index - start;\n  if (limit > 6) limit = 6; //the max length of legacy entities is 6\n\n  while (limit >= 2) {\n    //the min length of legacy entities is 2\n    var entity = this._buffer.substr(start, limit);\n\n    if (legacyMap.hasOwnProperty(entity)) {\n      this._emitPartial(legacyMap[entity]);\n\n      this._sectionStart += limit + 1;\n      return;\n    } else {\n      limit--;\n    }\n  }\n};\n\nTokenizer.prototype._stateInNamedEntity = function (c) {\n  if (c === \";\") {\n    this._parseNamedEntityStrict();\n\n    if (this._sectionStart + 1 < this._index && !this._xmlMode) {\n      this._parseLegacyEntity();\n    }\n\n    this._state = this._baseState;\n  } else if ((c < \"a\" || c > \"z\") && (c < \"A\" || c > \"Z\") && (c < \"0\" || c > \"9\")) {\n    if (this._xmlMode) ;else if (this._sectionStart + 1 === this._index) ;else if (this._baseState !== TEXT) {\n      if (c !== \"=\") {\n        this._parseNamedEntityStrict();\n      }\n    } else {\n      this._parseLegacyEntity();\n    }\n    this._state = this._baseState;\n    this._index--;\n  }\n};\n\nTokenizer.prototype._decodeNumericEntity = function (offset, base) {\n  var sectionStart = this._sectionStart + offset;\n\n  if (sectionStart !== this._index) {\n    //parse entity\n    var entity = this._buffer.substring(sectionStart, this._index);\n\n    var parsed = parseInt(entity, base);\n\n    this._emitPartial(decodeCodePoint(parsed));\n\n    this._sectionStart = this._index;\n  } else {\n    this._sectionStart--;\n  }\n\n  this._state = this._baseState;\n};\n\nTokenizer.prototype._stateInNumericEntity = function (c) {\n  if (c === \";\") {\n    this._decodeNumericEntity(2, 10);\n\n    this._sectionStart++;\n  } else if (c < \"0\" || c > \"9\") {\n    if (!this._xmlMode) {\n      this._decodeNumericEntity(2, 10);\n    } else {\n      this._state = this._baseState;\n    }\n\n    this._index--;\n  }\n};\n\nTokenizer.prototype._stateInHexEntity = function (c) {\n  if (c === \";\") {\n    this._decodeNumericEntity(3, 16);\n\n    this._sectionStart++;\n  } else if ((c < \"a\" || c > \"f\") && (c < \"A\" || c > \"F\") && (c < \"0\" || c > \"9\")) {\n    if (!this._xmlMode) {\n      this._decodeNumericEntity(3, 16);\n    } else {\n      this._state = this._baseState;\n    }\n\n    this._index--;\n  }\n};\n\nTokenizer.prototype._cleanup = function () {\n  if (this._sectionStart < 0) {\n    this._buffer = \"\";\n    this._bufferOffset += this._index;\n    this._index = 0;\n  } else if (this._running) {\n    if (this._state === TEXT) {\n      if (this._sectionStart !== this._index) {\n        this._cbs.ontext(this._buffer.substr(this._sectionStart));\n      }\n\n      this._buffer = \"\";\n      this._bufferOffset += this._index;\n      this._index = 0;\n    } else if (this._sectionStart === this._index) {\n      //the section just started\n      this._buffer = \"\";\n      this._bufferOffset += this._index;\n      this._index = 0;\n    } else {\n      //remove everything unnecessary\n      this._buffer = this._buffer.substr(this._sectionStart);\n      this._index -= this._sectionStart;\n      this._bufferOffset += this._sectionStart;\n    }\n\n    this._sectionStart = 0;\n  }\n}; //TODO make events conditional\n\n\nTokenizer.prototype.write = function (chunk) {\n  if (this._ended) this._cbs.onerror(Error(\".write() after done!\"));\n  this._buffer += chunk;\n\n  this._parse();\n};\n\nTokenizer.prototype._parse = function () {\n  while (this._index < this._buffer.length && this._running) {\n    var c = this._buffer.charAt(this._index);\n\n    if (this._state === TEXT) {\n      this._stateText(c);\n    } else if (this._state === BEFORE_TAG_NAME) {\n      this._stateBeforeTagName(c);\n    } else if (this._state === IN_TAG_NAME) {\n      this._stateInTagName(c);\n    } else if (this._state === BEFORE_CLOSING_TAG_NAME) {\n      this._stateBeforeCloseingTagName(c);\n    } else if (this._state === IN_CLOSING_TAG_NAME) {\n      this._stateInCloseingTagName(c);\n    } else if (this._state === AFTER_CLOSING_TAG_NAME) {\n      this._stateAfterCloseingTagName(c);\n    } else if (this._state === IN_SELF_CLOSING_TAG) {\n      this._stateInSelfClosingTag(c);\n    } else if (this._state === BEFORE_ATTRIBUTE_NAME) {\n      /*\n      *\tattributes\n      */\n      this._stateBeforeAttributeName(c);\n    } else if (this._state === IN_ATTRIBUTE_NAME) {\n      this._stateInAttributeName(c);\n    } else if (this._state === AFTER_ATTRIBUTE_NAME) {\n      this._stateAfterAttributeName(c);\n    } else if (this._state === BEFORE_ATTRIBUTE_VALUE) {\n      this._stateBeforeAttributeValue(c);\n    } else if (this._state === IN_ATTRIBUTE_VALUE_DQ) {\n      this._stateInAttributeValueDoubleQuotes(c);\n    } else if (this._state === IN_ATTRIBUTE_VALUE_SQ) {\n      this._stateInAttributeValueSingleQuotes(c);\n    } else if (this._state === IN_ATTRIBUTE_VALUE_NQ) {\n      this._stateInAttributeValueNoQuotes(c);\n    } else if (this._state === BEFORE_DECLARATION) {\n      /*\n      *\tdeclarations\n      */\n      this._stateBeforeDeclaration(c);\n    } else if (this._state === IN_DECLARATION) {\n      this._stateInDeclaration(c);\n    } else if (this._state === IN_PROCESSING_INSTRUCTION) {\n      /*\n      *\tprocessing instructions\n      */\n      this._stateInProcessingInstruction(c);\n    } else if (this._state === BEFORE_COMMENT) {\n      /*\n      *\tcomments\n      */\n      this._stateBeforeComment(c);\n    } else if (this._state === IN_COMMENT) {\n      this._stateInComment(c);\n    } else if (this._state === AFTER_COMMENT_1) {\n      this._stateAfterComment1(c);\n    } else if (this._state === AFTER_COMMENT_2) {\n      this._stateAfterComment2(c);\n    } else if (this._state === BEFORE_CDATA_1) {\n      /*\n      *\tcdata\n      */\n      this._stateBeforeCdata1(c);\n    } else if (this._state === BEFORE_CDATA_2) {\n      this._stateBeforeCdata2(c);\n    } else if (this._state === BEFORE_CDATA_3) {\n      this._stateBeforeCdata3(c);\n    } else if (this._state === BEFORE_CDATA_4) {\n      this._stateBeforeCdata4(c);\n    } else if (this._state === BEFORE_CDATA_5) {\n      this._stateBeforeCdata5(c);\n    } else if (this._state === BEFORE_CDATA_6) {\n      this._stateBeforeCdata6(c);\n    } else if (this._state === IN_CDATA) {\n      this._stateInCdata(c);\n    } else if (this._state === AFTER_CDATA_1) {\n      this._stateAfterCdata1(c);\n    } else if (this._state === AFTER_CDATA_2) {\n      this._stateAfterCdata2(c);\n    } else if (this._state === BEFORE_SPECIAL) {\n      /*\n      * special tags\n      */\n      this._stateBeforeSpecial(c);\n    } else if (this._state === BEFORE_SPECIAL_END) {\n      this._stateBeforeSpecialEnd(c);\n    } else if (this._state === BEFORE_SCRIPT_1) {\n      /*\n      * script\n      */\n      this._stateBeforeScript1(c);\n    } else if (this._state === BEFORE_SCRIPT_2) {\n      this._stateBeforeScript2(c);\n    } else if (this._state === BEFORE_SCRIPT_3) {\n      this._stateBeforeScript3(c);\n    } else if (this._state === BEFORE_SCRIPT_4) {\n      this._stateBeforeScript4(c);\n    } else if (this._state === BEFORE_SCRIPT_5) {\n      this._stateBeforeScript5(c);\n    } else if (this._state === AFTER_SCRIPT_1) {\n      this._stateAfterScript1(c);\n    } else if (this._state === AFTER_SCRIPT_2) {\n      this._stateAfterScript2(c);\n    } else if (this._state === AFTER_SCRIPT_3) {\n      this._stateAfterScript3(c);\n    } else if (this._state === AFTER_SCRIPT_4) {\n      this._stateAfterScript4(c);\n    } else if (this._state === AFTER_SCRIPT_5) {\n      this._stateAfterScript5(c);\n    } else if (this._state === BEFORE_STYLE_1) {\n      /*\n      * style\n      */\n      this._stateBeforeStyle1(c);\n    } else if (this._state === BEFORE_STYLE_2) {\n      this._stateBeforeStyle2(c);\n    } else if (this._state === BEFORE_STYLE_3) {\n      this._stateBeforeStyle3(c);\n    } else if (this._state === BEFORE_STYLE_4) {\n      this._stateBeforeStyle4(c);\n    } else if (this._state === AFTER_STYLE_1) {\n      this._stateAfterStyle1(c);\n    } else if (this._state === AFTER_STYLE_2) {\n      this._stateAfterStyle2(c);\n    } else if (this._state === AFTER_STYLE_3) {\n      this._stateAfterStyle3(c);\n    } else if (this._state === AFTER_STYLE_4) {\n      this._stateAfterStyle4(c);\n    } else if (this._state === BEFORE_ENTITY) {\n      /*\n      * entities\n      */\n      this._stateBeforeEntity(c);\n    } else if (this._state === BEFORE_NUMERIC_ENTITY) {\n      this._stateBeforeNumericEntity(c);\n    } else if (this._state === IN_NAMED_ENTITY) {\n      this._stateInNamedEntity(c);\n    } else if (this._state === IN_NUMERIC_ENTITY) {\n      this._stateInNumericEntity(c);\n    } else if (this._state === IN_HEX_ENTITY) {\n      this._stateInHexEntity(c);\n    } else {\n      this._cbs.onerror(Error(\"unknown _state\"), this._state);\n    }\n\n    this._index++;\n  }\n\n  this._cleanup();\n};\n\nTokenizer.prototype.pause = function () {\n  this._running = false;\n};\n\nTokenizer.prototype.resume = function () {\n  this._running = true;\n\n  if (this._index < this._buffer.length) {\n    this._parse();\n  }\n\n  if (this._ended) {\n    this._finish();\n  }\n};\n\nTokenizer.prototype.end = function (chunk) {\n  if (this._ended) this._cbs.onerror(Error(\".end() after done!\"));\n  if (chunk) this.write(chunk);\n  this._ended = true;\n  if (this._running) this._finish();\n};\n\nTokenizer.prototype._finish = function () {\n  //if there is remaining data, emit it in a reasonable way\n  if (this._sectionStart < this._index) {\n    this._handleTrailingData();\n  }\n\n  this._cbs.onend();\n};\n\nTokenizer.prototype._handleTrailingData = function () {\n  var data = this._buffer.substr(this._sectionStart);\n\n  if (this._state === IN_CDATA || this._state === AFTER_CDATA_1 || this._state === AFTER_CDATA_2) {\n    this._cbs.oncdata(data);\n  } else if (this._state === IN_COMMENT || this._state === AFTER_COMMENT_1 || this._state === AFTER_COMMENT_2) {\n    this._cbs.oncomment(data);\n  } else if (this._state === IN_NAMED_ENTITY && !this._xmlMode) {\n    this._parseLegacyEntity();\n\n    if (this._sectionStart < this._index) {\n      this._state = this._baseState;\n\n      this._handleTrailingData();\n    }\n  } else if (this._state === IN_NUMERIC_ENTITY && !this._xmlMode) {\n    this._decodeNumericEntity(2, 10);\n\n    if (this._sectionStart < this._index) {\n      this._state = this._baseState;\n\n      this._handleTrailingData();\n    }\n  } else if (this._state === IN_HEX_ENTITY && !this._xmlMode) {\n    this._decodeNumericEntity(3, 16);\n\n    if (this._sectionStart < this._index) {\n      this._state = this._baseState;\n\n      this._handleTrailingData();\n    }\n  } else if (this._state !== IN_TAG_NAME && this._state !== BEFORE_ATTRIBUTE_NAME && this._state !== BEFORE_ATTRIBUTE_VALUE && this._state !== AFTER_ATTRIBUTE_NAME && this._state !== IN_ATTRIBUTE_NAME && this._state !== IN_ATTRIBUTE_VALUE_SQ && this._state !== IN_ATTRIBUTE_VALUE_DQ && this._state !== IN_ATTRIBUTE_VALUE_NQ && this._state !== IN_CLOSING_TAG_NAME) {\n    this._cbs.ontext(data);\n  } //else, ignore remaining data\n  //TODO add a way to remove current tag\n\n};\n\nTokenizer.prototype.reset = function () {\n  Tokenizer.call(this, {\n    xmlMode: this._xmlMode,\n    decodeEntities: this._decodeEntities\n  }, this._cbs);\n};\n\nTokenizer.prototype.getAbsoluteIndex = function () {\n  return this._bufferOffset + this._index;\n};\n\nTokenizer.prototype._getSection = function () {\n  return this._buffer.substring(this._sectionStart, this._index);\n};\n\nTokenizer.prototype._emitToken = function (name) {\n  this._cbs[name](this._getSection());\n\n  this._sectionStart = -1;\n};\n\nTokenizer.prototype._emitPartial = function (value) {\n  if (this._baseState !== TEXT) {\n    this._cbs.onattribdata(value); //TODO implement the new event\n\n  } else {\n    this._cbs.ontext(value);\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar substr = UnicodeUtils.substr;\n/**\n * Convert to native JavaScript string lengths to determine ranges.\n */\n\nfunction decodeEntityRanges(text, ranges) {\n  var entities = Array(text.length).fill(null);\n\n  if (ranges) {\n    ranges.forEach(function (range) {\n      // Using Unicode-enabled substrings converted to JavaScript lengths,\n      // fill the output array with entity keys.\n      var start = substr(text, 0, range.offset).length;\n      var end = start + substr(text, range.offset, range.length).length;\n\n      for (var ii = start; ii < end; ii++) {\n        entities[ii] = range.key;\n      }\n    });\n  }\n\n  return entities;\n}\n\nmodule.exports = decodeEntityRanges;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.draftjsToHtml = factory());\n})(this, function () {\n  'use strict';\n  /**\n  * Utility function to execute callback for eack key->value pair.\n  */\n\n  function forEach(obj, callback) {\n    if (obj) {\n      for (var key in obj) {\n        // eslint-disable-line no-restricted-syntax\n        if ({}.hasOwnProperty.call(obj, key)) {\n          callback(key, obj[key]);\n        }\n      }\n    }\n  }\n  /**\n  * The function returns true if the string passed to it has no content.\n  */\n\n\n  function isEmptyString(str) {\n    if (str === undefined || str === null || str.length === 0 || str.trim().length === 0) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n  * Mapping block-type to corresponding html tag.\n  */\n\n\n  var blockTypesMapping = {\n    unstyled: 'p',\n    'header-one': 'h1',\n    'header-two': 'h2',\n    'header-three': 'h3',\n    'header-four': 'h4',\n    'header-five': 'h5',\n    'header-six': 'h6',\n    'unordered-list-item': 'ul',\n    'ordered-list-item': 'ol',\n    blockquote: 'blockquote',\n    code: 'pre'\n  };\n  /**\n  * Function will return HTML tag for a block.\n  */\n\n  function getBlockTag(type) {\n    return type && blockTypesMapping[type];\n  }\n  /**\n  * Function will return style string for a block.\n  */\n\n\n  function getBlockStyle(data) {\n    var styles = '';\n    forEach(data, function (key, value) {\n      if (value) {\n        styles += \"\".concat(key, \":\").concat(value, \";\");\n      }\n    });\n    return styles;\n  }\n  /**\n  * The function returns an array of hashtag-sections in blocks.\n  * These will be areas in block which have hashtags applicable to them.\n  */\n\n\n  function getHashtagRanges(blockText, hashtagConfig) {\n    var sections = [];\n\n    if (hashtagConfig) {\n      var counter = 0;\n      var startIndex = 0;\n      var text = blockText;\n      var trigger = hashtagConfig.trigger || '#';\n      var separator = hashtagConfig.separator || ' ';\n\n      for (; text.length > 0 && startIndex >= 0;) {\n        if (text[0] === trigger) {\n          startIndex = 0;\n          counter = 0;\n          text = text.substr(trigger.length);\n        } else {\n          startIndex = text.indexOf(separator + trigger);\n\n          if (startIndex >= 0) {\n            text = text.substr(startIndex + (separator + trigger).length);\n            counter += startIndex + separator.length;\n          }\n        }\n\n        if (startIndex >= 0) {\n          var endIndex = text.indexOf(separator) >= 0 ? text.indexOf(separator) : text.length;\n          var hashtag = text.substr(0, endIndex);\n\n          if (hashtag && hashtag.length > 0) {\n            sections.push({\n              offset: counter,\n              length: hashtag.length + trigger.length,\n              type: 'HASHTAG'\n            });\n          }\n\n          counter += trigger.length;\n        }\n      }\n    }\n\n    return sections;\n  }\n  /**\n  * The function returns an array of entity-sections in blocks.\n  * These will be areas in block which have same entity or no entity applicable to them.\n  */\n\n\n  function getSections(block, hashtagConfig) {\n    var sections = [];\n    var lastOffset = 0;\n    var sectionRanges = block.entityRanges.map(function (range) {\n      var offset = range.offset,\n          length = range.length,\n          key = range.key;\n      return {\n        offset: offset,\n        length: length,\n        key: key,\n        type: 'ENTITY'\n      };\n    });\n    sectionRanges = sectionRanges.concat(getHashtagRanges(block.text, hashtagConfig));\n    sectionRanges = sectionRanges.sort(function (s1, s2) {\n      return s1.offset - s2.offset;\n    });\n    sectionRanges.forEach(function (r) {\n      if (r.offset > lastOffset) {\n        sections.push({\n          start: lastOffset,\n          end: r.offset\n        });\n      }\n\n      sections.push({\n        start: r.offset,\n        end: r.offset + r.length,\n        entityKey: r.key,\n        type: r.type\n      });\n      lastOffset = r.offset + r.length;\n    });\n\n    if (lastOffset < block.text.length) {\n      sections.push({\n        start: lastOffset,\n        end: block.text.length\n      });\n    }\n\n    return sections;\n  }\n  /**\n  * Function to check if the block is an atomic entity block.\n  */\n\n\n  function isAtomicEntityBlock(block) {\n    if (block.entityRanges.length > 0 && (isEmptyString(block.text) || block.type === 'atomic')) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n  * The function will return array of inline styles applicable to the block.\n  */\n\n\n  function getStyleArrayForBlock(block) {\n    var text = block.text,\n        inlineStyleRanges = block.inlineStyleRanges;\n    var inlineStyles = {\n      BOLD: new Array(text.length),\n      ITALIC: new Array(text.length),\n      UNDERLINE: new Array(text.length),\n      STRIKETHROUGH: new Array(text.length),\n      CODE: new Array(text.length),\n      SUPERSCRIPT: new Array(text.length),\n      SUBSCRIPT: new Array(text.length),\n      COLOR: new Array(text.length),\n      BGCOLOR: new Array(text.length),\n      FONTSIZE: new Array(text.length),\n      FONTFAMILY: new Array(text.length),\n      length: text.length\n    };\n\n    if (inlineStyleRanges && inlineStyleRanges.length > 0) {\n      inlineStyleRanges.forEach(function (range) {\n        var offset = range.offset;\n        var length = offset + range.length;\n\n        for (var i = offset; i < length; i += 1) {\n          if (range.style.indexOf('color-') === 0) {\n            inlineStyles.COLOR[i] = range.style.substring(6);\n          } else if (range.style.indexOf('bgcolor-') === 0) {\n            inlineStyles.BGCOLOR[i] = range.style.substring(8);\n          } else if (range.style.indexOf('fontsize-') === 0) {\n            inlineStyles.FONTSIZE[i] = range.style.substring(9);\n          } else if (range.style.indexOf('fontfamily-') === 0) {\n            inlineStyles.FONTFAMILY[i] = range.style.substring(11);\n          } else if (inlineStyles[range.style]) {\n            inlineStyles[range.style][i] = true;\n          }\n        }\n      });\n    }\n\n    return inlineStyles;\n  }\n  /**\n  * The function will return inline style applicable at some offset within a block.\n  */\n\n\n  function getStylesAtOffset(inlineStyles, offset) {\n    var styles = {};\n\n    if (inlineStyles.COLOR[offset]) {\n      styles.COLOR = inlineStyles.COLOR[offset];\n    }\n\n    if (inlineStyles.BGCOLOR[offset]) {\n      styles.BGCOLOR = inlineStyles.BGCOLOR[offset];\n    }\n\n    if (inlineStyles.FONTSIZE[offset]) {\n      styles.FONTSIZE = inlineStyles.FONTSIZE[offset];\n    }\n\n    if (inlineStyles.FONTFAMILY[offset]) {\n      styles.FONTFAMILY = inlineStyles.FONTFAMILY[offset];\n    }\n\n    if (inlineStyles.UNDERLINE[offset]) {\n      styles.UNDERLINE = true;\n    }\n\n    if (inlineStyles.ITALIC[offset]) {\n      styles.ITALIC = true;\n    }\n\n    if (inlineStyles.BOLD[offset]) {\n      styles.BOLD = true;\n    }\n\n    if (inlineStyles.STRIKETHROUGH[offset]) {\n      styles.STRIKETHROUGH = true;\n    }\n\n    if (inlineStyles.CODE[offset]) {\n      styles.CODE = true;\n    }\n\n    if (inlineStyles.SUBSCRIPT[offset]) {\n      styles.SUBSCRIPT = true;\n    }\n\n    if (inlineStyles.SUPERSCRIPT[offset]) {\n      styles.SUPERSCRIPT = true;\n    }\n\n    return styles;\n  }\n  /**\n  * Function returns true for a set of styles if the value of these styles at an offset\n  * are same as that on the previous offset.\n  */\n\n\n  function sameStyleAsPrevious(inlineStyles, styles, index) {\n    var sameStyled = true;\n\n    if (index > 0 && index < inlineStyles.length) {\n      styles.forEach(function (style) {\n        sameStyled = sameStyled && inlineStyles[style][index] === inlineStyles[style][index - 1];\n      });\n    } else {\n      sameStyled = false;\n    }\n\n    return sameStyled;\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n\n  function addInlineStyleMarkup(style, content) {\n    if (style === 'BOLD') {\n      return \"<strong>\".concat(content, \"</strong>\");\n    }\n\n    if (style === 'ITALIC') {\n      return \"<em>\".concat(content, \"</em>\");\n    }\n\n    if (style === 'UNDERLINE') {\n      return \"<ins>\".concat(content, \"</ins>\");\n    }\n\n    if (style === 'STRIKETHROUGH') {\n      return \"<del>\".concat(content, \"</del>\");\n    }\n\n    if (style === 'CODE') {\n      return \"<code>\".concat(content, \"</code>\");\n    }\n\n    if (style === 'SUPERSCRIPT') {\n      return \"<sup>\".concat(content, \"</sup>\");\n    }\n\n    if (style === 'SUBSCRIPT') {\n      return \"<sub>\".concat(content, \"</sub>\");\n    }\n\n    return content;\n  }\n  /**\n  * The function returns text for given section of block after doing required character replacements.\n  */\n\n\n  function getSectionText(text) {\n    if (text && text.length > 0) {\n      var chars = text.map(function (ch) {\n        switch (ch) {\n          case '\\n':\n            return '<br>';\n\n          case '&':\n            return '&amp;';\n\n          case '<':\n            return '&lt;';\n\n          case '>':\n            return '&gt;';\n\n          default:\n            return ch;\n        }\n      });\n      return chars.join('');\n    }\n\n    return '';\n  }\n  /**\n  * Function returns html for text depending on inline style tags applicable to it.\n  */\n\n\n  function addStylePropertyMarkup(styles, text) {\n    if (styles && (styles.COLOR || styles.BGCOLOR || styles.FONTSIZE || styles.FONTFAMILY)) {\n      var styleString = 'style=\"';\n\n      if (styles.COLOR) {\n        styleString += \"color: \".concat(styles.COLOR, \";\");\n      }\n\n      if (styles.BGCOLOR) {\n        styleString += \"background-color: \".concat(styles.BGCOLOR, \";\");\n      }\n\n      if (styles.FONTSIZE) {\n        styleString += \"font-size: \".concat(styles.FONTSIZE).concat(/^\\d+$/.test(styles.FONTSIZE) ? 'px' : '', \";\");\n      }\n\n      if (styles.FONTFAMILY) {\n        styleString += \"font-family: \".concat(styles.FONTFAMILY, \";\");\n      }\n\n      styleString += '\"';\n      return \"<span \".concat(styleString, \">\").concat(text, \"</span>\");\n    }\n\n    return text;\n  }\n  /**\n  * Function will return markup for Entity.\n  */\n\n\n  function getEntityMarkup(entityMap, entityKey, text, customEntityTransform) {\n    var entity = entityMap[entityKey];\n\n    if (typeof customEntityTransform === 'function') {\n      var html = customEntityTransform(entity, text);\n\n      if (html) {\n        return html;\n      }\n    }\n\n    if (entity.type === 'MENTION') {\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" class=\\\"wysiwyg-mention\\\" data-mention data-value=\\\"\").concat(entity.data.value, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'LINK') {\n      var targetOption = entity.data.targetOption || '_self';\n      return \"<a href=\\\"\".concat(entity.data.url, \"\\\" target=\\\"\").concat(targetOption, \"\\\">\").concat(text, \"</a>\");\n    }\n\n    if (entity.type === 'IMAGE') {\n      var alignment = entity.data.alignment;\n\n      if (alignment && alignment.length) {\n        return \"<div style=\\\"text-align:\".concat(alignment, \";\\\"><img src=\\\"\").concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/></div>\");\n      }\n\n      return \"<img src=\\\"\".concat(entity.data.src, \"\\\" alt=\\\"\").concat(entity.data.alt, \"\\\" style=\\\"height: \").concat(entity.data.height, \";width: \").concat(entity.data.width, \"\\\"/>\");\n    }\n\n    if (entity.type === 'EMBEDDED_LINK') {\n      return \"<iframe width=\\\"\".concat(entity.data.width, \"\\\" height=\\\"\").concat(entity.data.height, \"\\\" src=\\\"\").concat(entity.data.src, \"\\\" frameBorder=\\\"0\\\"></iframe>\");\n    }\n\n    return text;\n  }\n  /**\n  * For a given section in a block the function will return a further list of sections,\n  * with similar inline styles applicable to them.\n  */\n\n\n  function getInlineStyleSections(block, styles, start, end) {\n    var styleSections = [];\n    var text = Array.from(block.text);\n\n    if (text.length > 0) {\n      var inlineStyles = getStyleArrayForBlock(block);\n      var section;\n\n      for (var i = start; i < end; i += 1) {\n        if (i !== start && sameStyleAsPrevious(inlineStyles, styles, i)) {\n          section.text.push(text[i]);\n          section.end = i + 1;\n        } else {\n          section = {\n            styles: getStylesAtOffset(inlineStyles, i),\n            text: [text[i]],\n            start: i,\n            end: i + 1\n          };\n          styleSections.push(section);\n        }\n      }\n    }\n\n    return styleSections;\n  }\n  /**\n  * Replace leading blank spaces by &nbsp;\n  */\n\n\n  function trimLeadingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = 0; i < replacedText.length; i += 1) {\n        if (sectionText[i] === ' ') {\n          replacedText = replacedText.replace(' ', '&nbsp;');\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * Replace trailing blank spaces by &nbsp;\n  */\n\n\n  function trimTrailingZeros(sectionText) {\n    if (sectionText) {\n      var replacedText = sectionText;\n\n      for (var i = replacedText.length - 1; i >= 0; i -= 1) {\n        if (replacedText[i] === ' ') {\n          replacedText = \"\".concat(replacedText.substring(0, i), \"&nbsp;\").concat(replacedText.substring(i + 1));\n        } else {\n          break;\n        }\n      }\n\n      return replacedText;\n    }\n\n    return sectionText;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  * like BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE, SUPERSCRIPT, SUBSCRIPT are applicable.\n  */\n\n\n  function getStyleTagSectionMarkup(styleSection) {\n    var styles = styleSection.styles,\n        text = styleSection.text;\n    var content = getSectionText(text);\n    forEach(styles, function (style, value) {\n      content = addInlineStyleMarkup(style, content);\n    });\n    return content;\n  }\n  /**\n  * The method returns markup for section to which inline styles\n  like color, background-color, font-size are applicable.\n  */\n\n\n  function getInlineStyleSectionMarkup(block, styleSection) {\n    var styleTagSections = getInlineStyleSections(block, ['BOLD', 'ITALIC', 'UNDERLINE', 'STRIKETHROUGH', 'CODE', 'SUPERSCRIPT', 'SUBSCRIPT'], styleSection.start, styleSection.end);\n    var styleSectionText = '';\n    styleTagSections.forEach(function (stylePropertySection) {\n      styleSectionText += getStyleTagSectionMarkup(stylePropertySection);\n    });\n    styleSectionText = addStylePropertyMarkup(styleSection.styles, styleSectionText);\n    return styleSectionText;\n  }\n  /*\n  * The method returns markup for an entity section.\n  * An entity section is a continuous section in a block\n  * to which same entity or no entity is applicable.\n  */\n\n\n  function getSectionMarkup(block, entityMap, section, customEntityTransform) {\n    var entityInlineMarkup = [];\n    var inlineStyleSections = getInlineStyleSections(block, ['COLOR', 'BGCOLOR', 'FONTSIZE', 'FONTFAMILY'], section.start, section.end);\n    inlineStyleSections.forEach(function (styleSection) {\n      entityInlineMarkup.push(getInlineStyleSectionMarkup(block, styleSection));\n    });\n    var sectionText = entityInlineMarkup.join('');\n\n    if (section.type === 'ENTITY') {\n      if (section.entityKey !== undefined && section.entityKey !== null) {\n        sectionText = getEntityMarkup(entityMap, section.entityKey, sectionText, customEntityTransform); // eslint-disable-line max-len\n      }\n    } else if (section.type === 'HASHTAG') {\n      sectionText = \"<a href=\\\"\".concat(sectionText, \"\\\" class=\\\"wysiwyg-hashtag\\\">\").concat(sectionText, \"</a>\");\n    }\n\n    return sectionText;\n  }\n  /**\n  * Function will return the markup for block preserving the inline styles and\n  * special characters like newlines or blank spaces.\n  */\n\n\n  function getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform) {\n    var blockMarkup = [];\n    var sections = getSections(block, hashtagConfig);\n    sections.forEach(function (section, index) {\n      var sectionText = getSectionMarkup(block, entityMap, section, customEntityTransform);\n\n      if (index === 0) {\n        sectionText = trimLeadingZeros(sectionText);\n      }\n\n      if (index === sections.length - 1) {\n        sectionText = trimTrailingZeros(sectionText);\n      }\n\n      blockMarkup.push(sectionText);\n    });\n    return blockMarkup.join('');\n  }\n  /**\n  * Function will return html for the block.\n  */\n\n\n  function getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var blockHtml = [];\n\n    if (isAtomicEntityBlock(block)) {\n      blockHtml.push(getEntityMarkup(entityMap, block.entityRanges[0].key, undefined, customEntityTransform));\n    } else {\n      var blockTag = getBlockTag(block.type);\n\n      if (blockTag) {\n        blockHtml.push(\"<\".concat(blockTag));\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          blockHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          blockHtml.push(' dir = \"auto\"');\n        }\n\n        blockHtml.push('>');\n        blockHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        blockHtml.push(\"</\".concat(blockTag, \">\"));\n      }\n    }\n\n    blockHtml.push('\\n');\n    return blockHtml.join('');\n  }\n  /**\n  * Function to check if a block is of type list.\n  */\n\n\n  function isList(blockType) {\n    return blockType === 'unordered-list-item' || blockType === 'ordered-list-item';\n  }\n  /**\n  * Function will return html markup for a list block.\n  */\n\n\n  function getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform) {\n    var listHtml = [];\n    var nestedListBlock = [];\n    var previousBlock;\n    listBlocks.forEach(function (block) {\n      var nestedBlock = false;\n\n      if (!previousBlock) {\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.type !== block.type) {\n        listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n        listHtml.push(\"<\".concat(getBlockTag(block.type), \">\\n\"));\n      } else if (previousBlock.depth === block.depth) {\n        if (nestedListBlock && nestedListBlock.length > 0) {\n          listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n          nestedListBlock = [];\n        }\n      } else {\n        nestedBlock = true;\n        nestedListBlock.push(block);\n      }\n\n      if (!nestedBlock) {\n        listHtml.push('<li');\n        var blockStyle = getBlockStyle(block.data);\n\n        if (blockStyle) {\n          listHtml.push(\" style=\\\"\".concat(blockStyle, \"\\\"\"));\n        }\n\n        if (directional) {\n          listHtml.push(' dir = \"auto\"');\n        }\n\n        listHtml.push('>');\n        listHtml.push(getBlockInnerMarkup(block, entityMap, hashtagConfig, customEntityTransform));\n        listHtml.push('</li>\\n');\n        previousBlock = block;\n      }\n    });\n\n    if (nestedListBlock && nestedListBlock.length > 0) {\n      listHtml.push(getListMarkup(nestedListBlock, entityMap, hashtagConfig, directional, customEntityTransform));\n    }\n\n    listHtml.push(\"</\".concat(getBlockTag(previousBlock.type), \">\\n\"));\n    return listHtml.join('');\n  }\n  /**\n  * The function will generate html markup for given draftjs editorContent.\n  */\n\n\n  function draftToHtml(editorContent, hashtagConfig, directional, customEntityTransform) {\n    var html = [];\n\n    if (editorContent) {\n      var blocks = editorContent.blocks,\n          entityMap = editorContent.entityMap;\n\n      if (blocks && blocks.length > 0) {\n        var listBlocks = [];\n        blocks.forEach(function (block) {\n          if (isList(block.type)) {\n            listBlocks.push(block);\n          } else {\n            if (listBlocks.length > 0) {\n              var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, customEntityTransform); // eslint-disable-line max-len\n\n              html.push(listHtml);\n              listBlocks = [];\n            }\n\n            var blockHtml = getBlockMarkup(block, entityMap, hashtagConfig, directional, customEntityTransform);\n            html.push(blockHtml);\n          }\n        });\n\n        if (listBlocks.length > 0) {\n          var listHtml = getListMarkup(listBlocks, entityMap, hashtagConfig, directional, customEntityTransform); // eslint-disable-line max-len\n\n          html.push(listHtml);\n          listBlocks = [];\n        }\n      }\n    }\n\n    return html.join('');\n  }\n\n  return draftToHtml;\n});","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Executes the provided `callback` once for each enumerable own property in the\n * object and constructs a new object from the results. The `callback` is\n * invoked with three arguments:\n *\n *  - the property value\n *  - the property name\n *  - the object being traversed\n *\n * Properties that are added after the call to `mapObject` will not be visited\n * by `callback`. If the values of existing properties are changed, the value\n * passed to `callback` will be the value at the time `mapObject` visits them.\n * Properties that are deleted before being visited are not visited.\n *\n * @grep function objectMap()\n * @grep function objMap()\n *\n * @param {?object} object\n * @param {function} callback\n * @param {*} context\n * @return {?object}\n */\n\nfunction mapObject(object, callback, context) {\n  if (!object) {\n    return null;\n  }\n\n  var result = {};\n\n  for (var name in object) {\n    if (hasOwnProperty.call(object, name)) {\n      result[name] = callback.call(context, object[name], name, object);\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = mapObject;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nfunction removeEntitiesAtEdges(contentState, selectionState) {\n  var blockMap = contentState.getBlockMap();\n  var entityMap = contentState.getEntityMap();\n  var updatedBlocks = {};\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var startBlock = blockMap.get(startKey);\n  var updatedStart = removeForBlock(entityMap, startBlock, startOffset);\n\n  if (updatedStart !== startBlock) {\n    updatedBlocks[startKey] = updatedStart;\n  }\n\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var endBlock = blockMap.get(endKey);\n\n  if (startKey === endKey) {\n    endBlock = updatedStart;\n  }\n\n  var updatedEnd = removeForBlock(entityMap, endBlock, endOffset);\n\n  if (updatedEnd !== endBlock) {\n    updatedBlocks[endKey] = updatedEnd;\n  }\n\n  if (!Object.keys(updatedBlocks).length) {\n    return contentState.set('selectionAfter', selectionState);\n  }\n\n  return contentState.merge({\n    blockMap: blockMap.merge(updatedBlocks),\n    selectionAfter: selectionState\n  });\n}\n/**\n * Given a list of characters and an offset that is in the middle of an entity,\n * returns the start and end of the entity that is overlapping the offset.\n * Note: This method requires that the offset be in an entity range.\n */\n\n\nfunction getRemovalRange(characters, entityKey, offset) {\n  var removalRange; // Iterates through a list looking for ranges of matching items\n  // based on the 'isEqual' callback.\n  // Then instead of returning the result, call the 'found' callback\n  // with each range.\n  // Then filters those ranges based on the 'filter' callback\n  //\n  // Here we use it to find ranges of characters with the same entity key.\n\n  findRangesImmutable(characters, // the list to iterate through\n  function (a, b) {\n    return a.getEntity() === b.getEntity();\n  }, // 'isEqual' callback\n  function (element) {\n    return element.getEntity() === entityKey;\n  }, // 'filter' callback\n  function (start, end) {\n    // 'found' callback\n    if (start <= offset && end >= offset) {\n      // this entity overlaps the offset index\n      removalRange = {\n        start: start,\n        end: end\n      };\n    }\n  });\n  !(typeof removalRange === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Removal range must exist within character list.') : invariant(false) : void 0;\n  return removalRange;\n}\n\nfunction removeForBlock(entityMap, block, offset) {\n  var chars = block.getCharacterList();\n  var charBefore = offset > 0 ? chars.get(offset - 1) : undefined;\n  var charAfter = offset < chars.count() ? chars.get(offset) : undefined;\n  var entityBeforeCursor = charBefore ? charBefore.getEntity() : undefined;\n  var entityAfterCursor = charAfter ? charAfter.getEntity() : undefined;\n\n  if (entityAfterCursor && entityAfterCursor === entityBeforeCursor) {\n    var entity = entityMap.__get(entityAfterCursor);\n\n    if (entity.getMutability() !== 'MUTABLE') {\n      var _getRemovalRange = getRemovalRange(chars, entityAfterCursor, offset),\n          start = _getRemovalRange.start,\n          end = _getRemovalRange.end;\n\n      var current;\n\n      while (start < end) {\n        current = chars.get(start);\n        chars = chars.set(start, CharacterMetadata.applyEntity(current, null));\n        start++;\n      }\n\n      return block.set('characterList', chars);\n    }\n  }\n\n  return block;\n}\n\nmodule.exports = removeEntitiesAtEdges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftEntitySegments = require(\"./DraftEntitySegments\");\n\nvar getRangesForDraftEntity = require(\"./getRangesForDraftEntity\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n/**\n * Given a SelectionState and a removal direction, determine the entire range\n * that should be removed from a ContentState. This is based on any entities\n * within the target, with their `mutability` values taken into account.\n *\n * For instance, if we are attempting to remove part of an \"immutable\" entity\n * range, the entire entity must be removed. The returned `SelectionState`\n * will be adjusted accordingly.\n */\n\n\nfunction getCharacterRemovalRange(entityMap, startBlock, endBlock, selectionState, direction) {\n  var start = selectionState.getStartOffset();\n  var end = selectionState.getEndOffset();\n  var startEntityKey = startBlock.getEntityAt(start);\n  var endEntityKey = endBlock.getEntityAt(end - 1);\n\n  if (!startEntityKey && !endEntityKey) {\n    return selectionState;\n  }\n\n  var newSelectionState = selectionState;\n\n  if (startEntityKey && startEntityKey === endEntityKey) {\n    newSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, true, true);\n  } else if (startEntityKey && endEntityKey) {\n    var startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);\n    var endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);\n    newSelectionState = newSelectionState.merge({\n      anchorOffset: startSelectionState.getAnchorOffset(),\n      focusOffset: endSelectionState.getFocusOffset(),\n      isBackward: false\n    });\n  } else if (startEntityKey) {\n    var _startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);\n\n    newSelectionState = newSelectionState.merge({\n      anchorOffset: _startSelectionState.getStartOffset(),\n      isBackward: false\n    });\n  } else if (endEntityKey) {\n    var _endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);\n\n    newSelectionState = newSelectionState.merge({\n      focusOffset: _endSelectionState.getEndOffset(),\n      isBackward: false\n    });\n  }\n\n  return newSelectionState;\n}\n\nfunction getEntityRemovalRange(entityMap, block, selectionState, direction, entityKey, isEntireSelectionWithinEntity, isEntityAtStart) {\n  var start = selectionState.getStartOffset();\n  var end = selectionState.getEndOffset();\n\n  var entity = entityMap.__get(entityKey);\n\n  var mutability = entity.getMutability();\n  var sideToConsider = isEntityAtStart ? start : end; // `MUTABLE` entities can just have the specified range of text removed\n  // directly. No adjustments are needed.\n\n  if (mutability === 'MUTABLE') {\n    return selectionState;\n  } // Find the entity range that overlaps with our removal range.\n\n\n  var entityRanges = getRangesForDraftEntity(block, entityKey).filter(function (range) {\n    return sideToConsider <= range.end && sideToConsider >= range.start;\n  });\n  !(entityRanges.length == 1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'There should only be one entity range within this removal range.') : invariant(false) : void 0;\n  var entityRange = entityRanges[0]; // For `IMMUTABLE` entity types, we will remove the entire entity range.\n\n  if (mutability === 'IMMUTABLE') {\n    return selectionState.merge({\n      anchorOffset: entityRange.start,\n      focusOffset: entityRange.end,\n      isBackward: false\n    });\n  } // For `SEGMENTED` entity types, determine the appropriate segment to\n  // remove.\n\n\n  if (!isEntireSelectionWithinEntity) {\n    if (isEntityAtStart) {\n      end = entityRange.end;\n    } else {\n      start = entityRange.start;\n    }\n  }\n\n  var removalRange = DraftEntitySegments.getRemovalRange(start, end, block.getText().slice(entityRange.start, entityRange.end), entityRange.start, direction);\n  return selectionState.merge({\n    anchorOffset: removalRange.start,\n    focusOffset: removalRange.end,\n    isBackward: false\n  });\n}\n\nmodule.exports = getCharacterRemovalRange;","var decodeMap = require(\"../maps/decode.json\");\n\nmodule.exports = decodeCodePoint; // modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\n\nfunction decodeCodePoint(codePoint) {\n  if (codePoint >= 0xd800 && codePoint <= 0xdfff || codePoint > 0x10ffff) {\n    return \"\\uFFFD\";\n  }\n\n  if (codePoint in decodeMap) {\n    codePoint = decodeMap[codePoint];\n  }\n\n  var output = \"\";\n\n  if (codePoint > 0xffff) {\n    codePoint -= 0x10000;\n    output += String.fromCharCode(codePoint >>> 10 & 0x3ff | 0xd800);\n    codePoint = 0xdc00 | codePoint & 0x3ff;\n  }\n\n  output += String.fromCharCode(codePoint);\n  return output;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Drag behavior has begun from outside the editor element.\n */\n\nfunction editOnDragOver(editor, e) {\n  editor.setMode('drag');\n  e.preventDefault();\n}\n\nmodule.exports = editOnDragOver;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n'use strict';\n\nmodule.exports = function (name) {\n  if (typeof window !== 'undefined' && window.__DRAFT_GKX) {\n    return !!window.__DRAFT_GKX[name];\n  }\n\n  return false;\n};","var isTag = require(\"domelementtype\").isTag;\n\nmodule.exports = {\n  filter: filter,\n  find: find,\n  findOneChild: findOneChild,\n  findOne: findOne,\n  existsOne: existsOne,\n  findAll: findAll\n};\n\nfunction filter(test, element, recurse, limit) {\n  if (!Array.isArray(element)) element = [element];\n\n  if (typeof limit !== \"number\" || !isFinite(limit)) {\n    limit = Infinity;\n  }\n\n  return find(test, element, recurse !== false, limit);\n}\n\nfunction find(test, elems, recurse, limit) {\n  var result = [],\n      childs;\n\n  for (var i = 0, j = elems.length; i < j; i++) {\n    if (test(elems[i])) {\n      result.push(elems[i]);\n      if (--limit <= 0) break;\n    }\n\n    childs = elems[i].children;\n\n    if (recurse && childs && childs.length > 0) {\n      childs = find(test, childs, recurse, limit);\n      result = result.concat(childs);\n      limit -= childs.length;\n      if (limit <= 0) break;\n    }\n  }\n\n  return result;\n}\n\nfunction findOneChild(test, elems) {\n  for (var i = 0, l = elems.length; i < l; i++) {\n    if (test(elems[i])) return elems[i];\n  }\n\n  return null;\n}\n\nfunction findOne(test, elems) {\n  var elem = null;\n\n  for (var i = 0, l = elems.length; i < l && !elem; i++) {\n    if (!isTag(elems[i])) {\n      continue;\n    } else if (test(elems[i])) {\n      elem = elems[i];\n    } else if (elems[i].children.length > 0) {\n      elem = findOne(test, elems[i].children);\n    }\n  }\n\n  return elem;\n}\n\nfunction existsOne(test, elems) {\n  for (var i = 0, l = elems.length; i < l; i++) {\n    if (isTag(elems[i]) && (test(elems[i]) || elems[i].children.length > 0 && existsOne(test, elems[i].children))) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction findAll(test, elems) {\n  var result = [];\n\n  for (var i = 0, j = elems.length; i < j; i++) {\n    if (!isTag(elems[i])) continue;\n    if (test(elems[i])) result.push(elems[i]);\n\n    if (elems[i].children.length > 0) {\n      result = result.concat(findAll(test, elems[i].children));\n    }\n  }\n\n  return result;\n}","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"immutable\"), require(\"draft-js\")) : \"function\" == typeof define && define.amd ? define([\"immutable\", \"draft-js\"], t) : \"object\" == typeof exports ? exports.htmlToDraftjs = t(require(\"immutable\"), require(\"draft-js\")) : e.htmlToDraftjs = t(e.immutable, e[\"draft-js\"]);\n}(window, function (n, r) {\n  return o = {}, i.m = a = [function (e, t) {\n    e.exports = n;\n  }, function (e, t) {\n    e.exports = r;\n  }, function (e, t, n) {\n    e.exports = n(3);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t);\n\n    var v = n(1),\n        u = n(0),\n        s = function s(e) {\n      var t,\n          n = null;\n      return document.implementation && document.implementation.createHTMLDocument && ((t = document.implementation.createHTMLDocument(\"foo\")).documentElement.innerHTML = e, n = t.getElementsByTagName(\"body\")[0]), n;\n    },\n        x = function x(e, t, n) {\n      var r,\n          i = e.textContent;\n      return \"\" === i.trim() ? {\n        chunk: (r = n, {\n          text: \" \",\n          inlines: [new u.OrderedSet()],\n          entities: [r],\n          blocks: []\n        })\n      } : {\n        chunk: {\n          text: i,\n          inlines: Array(i.length).fill(t),\n          entities: Array(i.length).fill(n),\n          blocks: []\n        }\n      };\n    },\n        M = function M() {\n      return {\n        text: \"\\n\",\n        inlines: [new u.OrderedSet()],\n        entities: new Array(1),\n        blocks: []\n      };\n    },\n        k = function k() {\n      return {\n        text: \"\",\n        inlines: [],\n        entities: [],\n        blocks: []\n      };\n    },\n        E = function E(e, t) {\n      return {\n        text: \"\",\n        inlines: [],\n        entities: [],\n        blocks: [{\n          type: e,\n          depth: 0,\n          data: t || new u.Map({})\n        }]\n      };\n    },\n        w = function w(e, t, n) {\n      return {\n        text: \"\\r\",\n        inlines: [],\n        entities: [],\n        blocks: [{\n          type: e,\n          depth: Math.max(0, Math.min(4, t)),\n          data: n || new u.Map({})\n        }]\n      };\n    },\n        T = function T(e) {\n      return {\n        text: \"\\r \",\n        inlines: [new u.OrderedSet()],\n        entities: [e],\n        blocks: [{\n          type: \"atomic\",\n          depth: 0,\n          data: new u.Map({})\n        }]\n      };\n    },\n        L = function L(e, t) {\n      return {\n        text: e.text + t.text,\n        inlines: e.inlines.concat(t.inlines),\n        entities: e.entities.concat(t.entities),\n        blocks: e.blocks.concat(t.blocks)\n      };\n    },\n        A = new u.Map({\n      \"header-one\": {\n        element: \"h1\"\n      },\n      \"header-two\": {\n        element: \"h2\"\n      },\n      \"header-three\": {\n        element: \"h3\"\n      },\n      \"header-four\": {\n        element: \"h4\"\n      },\n      \"header-five\": {\n        element: \"h5\"\n      },\n      \"header-six\": {\n        element: \"h6\"\n      },\n      \"unordered-list-item\": {\n        element: \"li\",\n        wrapper: \"ul\"\n      },\n      \"ordered-list-item\": {\n        element: \"li\",\n        wrapper: \"ol\"\n      },\n      blockquote: {\n        element: \"blockquote\"\n      },\n      code: {\n        element: \"pre\"\n      },\n      atomic: {\n        element: \"figure\"\n      },\n      unstyled: {\n        element: \"p\",\n        aliasedElements: [\"div\"]\n      }\n    });\n\n    var O = {\n      code: \"CODE\",\n      del: \"STRIKETHROUGH\",\n      em: \"ITALIC\",\n      strong: \"BOLD\",\n      ins: \"UNDERLINE\",\n      sub: \"SUBSCRIPT\",\n      sup: \"SUPERSCRIPT\"\n    };\n\n    function S(e) {\n      return e.style.textAlign ? new u.Map({\n        \"text-align\": e.style.textAlign\n      }) : e.style.marginLeft ? new u.Map({\n        \"margin-left\": e.style.marginLeft\n      }) : void 0;\n    }\n\n    var _ = function _(e) {\n      var t = void 0;\n\n      if (e instanceof HTMLAnchorElement) {\n        var n = {};\n        t = e.dataset && void 0 !== e.dataset.mention ? (n.url = e.href, n.text = e.innerHTML, n.value = e.dataset.value, v.Entity.__create(\"MENTION\", \"IMMUTABLE\", n)) : (n.url = e.getAttribute && e.getAttribute(\"href\") || e.href, n.title = e.innerHTML, n.targetOption = e.target, v.Entity.__create(\"LINK\", \"MUTABLE\", n));\n      }\n\n      return t;\n    };\n\n    n.d(t, \"default\", function () {\n      return r;\n    });\n    var d = \" \",\n        f = new RegExp(\"&nbsp;\", \"g\"),\n        j = !0;\n\n    function I(e, t, n, r, i, a) {\n      var o = e.nodeName.toLowerCase();\n\n      if (a) {\n        var l = a(o, e);\n\n        if (l) {\n          var c = v.Entity.__create(l.type, l.mutability, l.data || {});\n\n          return {\n            chunk: T(c)\n          };\n        }\n      }\n\n      if (\"#text\" === o && \"\\n\" !== e.textContent) return x(e, t, i);\n      if (\"br\" === o) return {\n        chunk: M()\n      };\n\n      if (\"img\" === o && e instanceof HTMLImageElement) {\n        var u = {};\n        u.src = e.getAttribute && e.getAttribute(\"src\") || e.src, u.alt = e.alt, u.height = e.style.height, u.width = e.style.width, e.style.float && (u.alignment = e.style.float);\n\n        var s = v.Entity.__create(\"IMAGE\", \"MUTABLE\", u);\n\n        return {\n          chunk: T(s)\n        };\n      }\n\n      if (\"video\" === o && e instanceof HTMLVideoElement) {\n        var d = {};\n        d.src = e.getAttribute && e.getAttribute(\"src\") || e.src, d.alt = e.alt, d.height = e.style.height, d.width = e.style.width, e.style.float && (d.alignment = e.style.float);\n\n        var f = v.Entity.__create(\"VIDEO\", \"MUTABLE\", d);\n\n        return {\n          chunk: T(f)\n        };\n      }\n\n      if (\"iframe\" === o && e instanceof HTMLIFrameElement) {\n        var m = {};\n        m.src = e.getAttribute && e.getAttribute(\"src\") || e.src, m.height = e.height, m.width = e.width;\n\n        var p = v.Entity.__create(\"EMBEDDED_LINK\", \"MUTABLE\", m);\n\n        return {\n          chunk: T(p)\n        };\n      }\n\n      var h,\n          y = function (t, n) {\n        var e = A.filter(function (e) {\n          return e.element === t && (!e.wrapper || e.wrapper === n) || e.wrapper === t || e.aliasedElements && -1 < e.aliasedElements.indexOf(t);\n        }).keySeq().toSet().toArray();\n        if (1 === e.length) return e[0];\n      }(o, r);\n\n      y && (\"ul\" === o || \"ol\" === o ? (r = o, n += 1) : (\"unordered-list-item\" !== y && \"ordered-list-item\" !== y && (r = \"\", n = -1), j ? (h = E(y, S(e)), j = !1) : h = w(y, n, S(e)))), h = h || k(), t = function (e, t, n) {\n        var r,\n            i = O[e];\n        if (i) r = n.add(i).toOrderedSet();else if (t instanceof HTMLElement) {\n          var c = t;\n          r = (r = n).withMutations(function (e) {\n            var t = c.style.color,\n                n = c.style.backgroundColor,\n                r = c.style.fontSize,\n                i = c.style.fontFamily.replace(/^\"|\"$/g, \"\"),\n                a = c.style.fontWeight,\n                o = c.style.textDecoration,\n                l = c.style.fontStyle;\n            t && e.add(\"color-\".concat(t.replace(/ /g, \"\"))), n && e.add(\"bgcolor-\".concat(n.replace(/ /g, \"\"))), r && e.add(\"fontsize-\".concat(r.replace(/px$/g, \"\"))), i && e.add(\"fontfamily-\".concat(i)), \"bold\" === a && e.add(O.strong), \"underline\" === o && e.add(O.ins), \"italic\" === l && e.add(O.em);\n          }).toOrderedSet();\n        }\n        return r;\n      }(o, e, t);\n\n      for (var b = e.firstChild; b;) {\n        var g = I(b, t, n, r, _(b) || i, a).chunk;\n        h = L(h, g), b = b.nextSibling;\n      }\n\n      return {\n        chunk: h\n      };\n    }\n\n    function r(e, t) {\n      var n,\n          r,\n          i,\n          a = (n = t, r = e.trim().replace(f, d), (i = s(r)) ? (j = !0, {\n        chunk: I(i, new u.OrderedSet(), -1, \"\", void 0, n).chunk\n      }) : null);\n\n      if (a) {\n        var o = a.chunk,\n            l = new u.OrderedMap({});\n        o.entities && o.entities.forEach(function (e) {\n          e && (l = l.set(e, v.Entity.__get(e)));\n        });\n        var c = 0;\n        return {\n          contentBlocks: o.text.split(\"\\r\").map(function (e, t) {\n            var n = c + e.length,\n                r = o && o.inlines.slice(c, n),\n                i = o && o.entities.slice(c, n),\n                a = new u.List(r.map(function (e, t) {\n              var n = {\n                style: e,\n                entity: null\n              };\n              return i[t] && (n.entity = i[t]), v.CharacterMetadata.create(n);\n            }));\n            return c = n, new v.ContentBlock({\n              key: Object(v.genKey)(),\n              type: o && o.blocks[t] && o.blocks[t].type || \"unstyled\",\n              depth: o && o.blocks[t] && o.blocks[t].depth,\n              data: o && o.blocks[t] && o.blocks[t].data || new u.Map({}),\n              text: e,\n              characterList: a\n            });\n          }),\n          entityMap: l\n        };\n      }\n\n      return null;\n    }\n  }], i.c = o, i.d = function (e, t, n) {\n    i.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: n\n    });\n  }, i.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, i.t = function (t, e) {\n    if (1 & e && (t = i(t)), 8 & e) return t;\n    if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n    var n = Object.create(null);\n    if (i.r(n), Object.defineProperty(n, \"default\", {\n      enumerable: !0,\n      value: t\n    }), 2 & e && \"string\" != typeof t) for (var r in t) {\n      i.d(n, r, function (e) {\n        return t[e];\n      }.bind(null, r));\n    }\n    return n;\n  }, i.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return i.d(t, \"a\", t), t;\n  }, i.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, i.p = \"\", i(i.s = 2);\n\n  function i(e) {\n    if (o[e]) return o[e].exports;\n    var t = o[e] = {\n      i: e,\n      l: !1,\n      exports: {}\n    };\n    return a[e].call(t.exports, t, t.exports, i), t.l = !0, t.exports;\n  }\n\n  var a, o;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\n\nfunction isTag(elem) {\n  return elem.type === \"tag\"\n  /* Tag */\n  || elem.type === \"script\"\n  /* Script */\n  || elem.type === \"style\"\n  /* Style */\n  ;\n}\n\nexports.isTag = isTag; // Exports for backwards compatibility\n\nexports.Text = \"text\"\n/* Text */\n; //Text\n\nexports.Directive = \"directive\"\n/* Directive */\n; //<? ... ?>\n\nexports.Comment = \"comment\"\n/* Comment */\n; //<!-- ... -->\n\nexports.Script = \"script\"\n/* Script */\n; //<script> tags\n\nexports.Style = \"style\"\n/* Style */\n; //<style> tags\n\nexports.Tag = \"tag\"\n/* Tag */\n; //Any tag\n\nexports.CDATA = \"cdata\"\n/* CDATA */\n; //<![CDATA[ ... ]]>\n\nexports.Doctype = \"doctype\"\n/* Doctype */\n;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftStringKey = {\n  stringify: function stringify(key) {\n    return '_' + String(key);\n  },\n  unstringify: function unstringify(key) {\n    return key.slice(1);\n  }\n};\nmodule.exports = DraftStringKey;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar getFragmentFromSelection = require(\"./getFragmentFromSelection\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar isNode = require(\"./isInstanceOfNode\");\n/**\n * On `cut` events, native behavior is allowed to occur so that the system\n * clipboard is set properly. This means that we need to take steps to recover\n * the editor DOM state after the `cut` has occurred in order to maintain\n * control of the component.\n *\n * In addition, we can keep a copy of the removed fragment, including all\n * styles and entities, for use as an internal paste.\n */\n\n\nfunction editOnCut(editor, e) {\n  var editorState = editor._latestEditorState;\n  var selection = editorState.getSelection();\n  var element = e.target;\n  var scrollPosition; // No selection, so there's nothing to cut.\n\n  if (selection.isCollapsed()) {\n    e.preventDefault();\n    return;\n  } // Track the current scroll position so that it can be forced back in place\n  // after the editor regains control of the DOM.\n\n\n  if (isNode(element)) {\n    var node = element;\n    scrollPosition = getScrollPosition(Style.getScrollParent(node));\n  }\n\n  var fragment = getFragmentFromSelection(editorState);\n  editor.setClipboard(fragment); // Set `cut` mode to disable all event handling temporarily.\n\n  editor.setMode('cut'); // Let native `cut` behavior occur, then recover control.\n\n  setTimeout(function () {\n    editor.restoreEditorDOM(scrollPosition);\n    editor.exitCurrentMode();\n    editor.update(removeFragment(editorState));\n  }, 0);\n}\n\nfunction removeFragment(editorState) {\n  var newContent = DraftModifier.removeRange(editorState.getCurrentContent(), editorState.getSelection(), 'forward');\n  return EditorState.push(editorState, newContent, 'remove-range');\n}\n\nmodule.exports = editOnCut;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict'; // setimmediate adds setImmediate to the global. We want to make sure we export\n// the actual function.\n\nrequire(\"setimmediate\");\n\nmodule.exports = global.setImmediate;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Mapping of standard HTML attributes to their React counterparts\n * List taken and reversed from react/src/renderers/dom/shared/HTMLDOMPropertyConfig.js\n * https://github.com/facebook/react/blob/c9c3c339b757682f1154f1c915eb55e6a8766933/src/renderers/dom/shared/HTMLDOMPropertyConfig.js\n * @type {Object}\n */\n\nexports.default = {\n  /**\n   * Standard Properties\n   */\n  accept: 'accept',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  allowtransparency: 'allowTransparency',\n  alt: 'alt',\n  as: 'as',\n  async: 'async',\n  autocomplete: 'autoComplete',\n  autoplay: 'autoPlay',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  charset: 'charSet',\n  challenge: 'challenge',\n  checked: 'checked',\n  cite: 'cite',\n  classid: 'classID',\n  class: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlsList: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  form: 'form',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formmethod: 'formMethod',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  for: 'htmlFor',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginheight: 'marginHeight',\n  marginwidth: 'marginWidth',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  slot: 'slot',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  /**\n   * RDFa Properties\n   */\n  about: 'about',\n  datatype: 'datatype',\n  inlist: 'inlist',\n  prefix: 'prefix',\n  property: 'property',\n  resource: 'resource',\n  typeof: 'typeof',\n  vocab: 'vocab',\n\n  /**\n   * Non-standard Properties\n   */\n  autocapitalize: 'autoCapitalize',\n  autocorrect: 'autoCorrect',\n  autosave: 'autoSave',\n  color: 'color',\n  itemprop: 'itemProp',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  itemid: 'itemID',\n  itemref: 'itemRef',\n  results: 'results',\n  security: 'security',\n  unselectable: 'unselectable'\n};","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.escape = exports.encodeHTML = exports.encodeXML = void 0;\n\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\n\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\nexports.encodeXML = getInverse(inverseXML, xmlReplacer);\n\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\n\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n\nfunction getInverseObj(obj) {\n  return Object.keys(obj).sort().reduce(function (inverse, name) {\n    inverse[obj[name]] = \"&\" + name + \";\";\n    return inverse;\n  }, {});\n}\n\nfunction getInverseReplacer(inverse) {\n  var single = [];\n  var multiple = [];\n\n  for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n    var k = _a[_i];\n\n    if (k.length === 1) {\n      // Add value to single array\n      single.push(\"\\\\\" + k);\n    } else {\n      // Add value to multiple array\n      multiple.push(k);\n    }\n  } // Add ranges to single characters.\n\n\n  single.sort();\n\n  for (var start = 0; start < single.length - 1; start++) {\n    // Find the end of a run of characters\n    var end = start;\n\n    while (end < single.length - 1 && single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n      end += 1;\n    }\n\n    var count = 1 + end - start; // We want to replace at least three characters\n\n    if (count < 3) continue;\n    single.splice(start, count, single[start] + \"-\" + single[end]);\n  }\n\n  multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n  return new RegExp(multiple.join(\"|\"), \"g\");\n}\n\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\n\nfunction singleCharReplacer(c) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return \"&#x\" + c.codePointAt(0).toString(16).toUpperCase() + \";\";\n}\n\nfunction getInverse(inverse, re) {\n  return function (data) {\n    return data.replace(re, function (name) {\n      return inverse[name];\n    }).replace(reNonASCII, singleCharReplacer);\n  };\n}\n\nvar reXmlChars = getInverseReplacer(inverseXML);\n\nfunction escape(data) {\n  return data.replace(reXmlChars, singleCharReplacer).replace(reNonASCII, singleCharReplacer);\n}\n\nexports.escape = escape;","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","exports.removeElement = function (elem) {\n  if (elem.prev) elem.prev.next = elem.next;\n  if (elem.next) elem.next.prev = elem.prev;\n\n  if (elem.parent) {\n    var childs = elem.parent.children;\n    childs.splice(childs.lastIndexOf(elem), 1);\n  }\n};\n\nexports.replaceElement = function (elem, replacement) {\n  var prev = replacement.prev = elem.prev;\n\n  if (prev) {\n    prev.next = replacement;\n  }\n\n  var next = replacement.next = elem.next;\n\n  if (next) {\n    next.prev = replacement;\n  }\n\n  var parent = replacement.parent = elem.parent;\n\n  if (parent) {\n    var childs = parent.children;\n    childs[childs.lastIndexOf(elem)] = replacement;\n  }\n};\n\nexports.appendChild = function (elem, child) {\n  child.parent = elem;\n\n  if (elem.children.push(child) !== 1) {\n    var sibling = elem.children[elem.children.length - 2];\n    sibling.next = child;\n    child.prev = sibling;\n    child.next = null;\n  }\n};\n\nexports.append = function (elem, next) {\n  var parent = elem.parent,\n      currNext = elem.next;\n  next.next = currNext;\n  next.prev = elem;\n  elem.next = next;\n  next.parent = parent;\n\n  if (currNext) {\n    currNext.prev = next;\n\n    if (parent) {\n      var childs = parent.children;\n      childs.splice(childs.lastIndexOf(currNext), 0, next);\n    }\n  } else if (parent) {\n    parent.children.push(next);\n  }\n};\n\nexports.prepend = function (elem, prev) {\n  var parent = elem.parent;\n\n  if (parent) {\n    var childs = parent.children;\n    childs.splice(childs.lastIndexOf(elem), 0, prev);\n  }\n\n  if (elem.prev) {\n    elem.prev.next = prev;\n  }\n\n  prev.parent = parent;\n  prev.prev = elem.prev;\n  prev.next = elem;\n  elem.prev = prev;\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * @stub\n * \n */\n'use strict'; // \\u00a1-\\u00b1\\u00b4-\\u00b8\\u00ba\\u00bb\\u00bf\n//             is latin supplement punctuation except fractions and superscript\n//             numbers\n// \\u2010-\\u2027\\u2030-\\u205e\n//             is punctuation from the general punctuation block:\n//             weird quotes, commas, bullets, dashes, etc.\n// \\u30fb\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301f\n//             is CJK punctuation\n// \\uff1a-\\uff1f\\uff01-\\uff0f\\uff3b-\\uff40\\uff5b-\\uff65\n//             is some full-width/half-width punctuation\n// \\u2E2E\\u061f\\u066a-\\u066c\\u061b\\u060c\\u060d\\uFD3e\\uFD3F\n//             is some Arabic punctuation marks\n// \\u1801\\u0964\\u104a\\u104b\n//             is misc. other language punctuation marks\n\nvar PUNCTUATION = '[.,+*?$|#{}()\\'\\\\^\\\\-\\\\[\\\\]\\\\\\\\\\\\/!@%\"~=<>_:;' + \"\\u30FB\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301F\\uFF1A-\\uFF1F\\uFF01-\\uFF0F\" + \"\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\u2E2E\\u061F\\u066A-\\u066C\\u061B\\u060C\\u060D\" + \"\\uFD3E\\uFD3F\\u1801\\u0964\\u104A\\u104B\\u2010-\\u2027\\u2030-\\u205E\" + \"\\xA1-\\xB1\\xB4-\\xB8\\xBA\\xBB\\xBF]\";\nmodule.exports = {\n  getPunctuation: function getPunctuation() {\n    return PUNCTUATION;\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar getNextDelimiterBlockKey = require(\"./getNextDelimiterBlockKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map;\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n/**\n * Ancestors needs to be preserved when there are non selected\n * children to make sure we do not leave any orphans behind\n */\n\n\nvar getAncestorsKeys = function getAncestorsKeys(blockKey, blockMap) {\n  var parents = [];\n\n  if (!blockKey) {\n    return parents;\n  }\n\n  var blockNode = blockMap.get(blockKey);\n\n  while (blockNode && blockNode.getParentKey()) {\n    var parentKey = blockNode.getParentKey();\n\n    if (parentKey) {\n      parents.push(parentKey);\n    }\n\n    blockNode = parentKey ? blockMap.get(parentKey) : null;\n  }\n\n  return parents;\n};\n/**\n * Get all next delimiter keys until we hit a root delimiter and return\n * an array of key references\n */\n\n\nvar getNextDelimitersBlockKeys = function getNextDelimitersBlockKeys(block, blockMap) {\n  var nextDelimiters = [];\n\n  if (!block) {\n    return nextDelimiters;\n  }\n\n  var nextDelimiter = getNextDelimiterBlockKey(block, blockMap);\n\n  while (nextDelimiter && blockMap.get(nextDelimiter)) {\n    var _block = blockMap.get(nextDelimiter);\n\n    nextDelimiters.push(nextDelimiter); // we do not need to keep checking all root node siblings, just the first occurance\n\n    nextDelimiter = _block.getParentKey() ? getNextDelimiterBlockKey(_block, blockMap) : null;\n  }\n\n  return nextDelimiters;\n};\n\nvar getNextValidSibling = function getNextValidSibling(block, blockMap, originalBlockMap) {\n  if (!block) {\n    return null;\n  } // note that we need to make sure we refer to the original block since this\n  // function is called within a withMutations\n\n\n  var nextValidSiblingKey = originalBlockMap.get(block.getKey()).getNextSiblingKey();\n\n  while (nextValidSiblingKey && !blockMap.get(nextValidSiblingKey)) {\n    nextValidSiblingKey = originalBlockMap.get(nextValidSiblingKey).getNextSiblingKey() || null;\n  }\n\n  return nextValidSiblingKey;\n};\n\nvar getPrevValidSibling = function getPrevValidSibling(block, blockMap, originalBlockMap) {\n  if (!block) {\n    return null;\n  } // note that we need to make sure we refer to the original block since this\n  // function is called within a withMutations\n\n\n  var prevValidSiblingKey = originalBlockMap.get(block.getKey()).getPrevSiblingKey();\n\n  while (prevValidSiblingKey && !blockMap.get(prevValidSiblingKey)) {\n    prevValidSiblingKey = originalBlockMap.get(prevValidSiblingKey).getPrevSiblingKey() || null;\n  }\n\n  return prevValidSiblingKey;\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, startBlock, endBlock, originalBlockMap) {\n  return blockMap.withMutations(function (blocks) {\n    // update start block if its retained\n    transformBlock(startBlock.getKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n        prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update endblock if its retained\n\n    transformBlock(endBlock.getKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n        prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update start block parent ancestors\n\n    getAncestorsKeys(startBlock.getKey(), originalBlockMap).forEach(function (parentKey) {\n      return transformBlock(parentKey, blocks, function (block) {\n        return block.merge({\n          children: block.getChildKeys().filter(function (key) {\n            return blocks.get(key);\n          }),\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    }); // update start block next - can only happen if startBlock == endBlock\n\n    transformBlock(startBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: startBlock.getPrevSiblingKey()\n      });\n    }); // update start block prev\n\n    transformBlock(startBlock.getPrevSiblingKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update end block next\n\n    transformBlock(endBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update end block prev\n\n    transformBlock(endBlock.getPrevSiblingKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: endBlock.getNextSiblingKey()\n      });\n    }); // update end block parent ancestors\n\n    getAncestorsKeys(endBlock.getKey(), originalBlockMap).forEach(function (parentKey) {\n      transformBlock(parentKey, blocks, function (block) {\n        return block.merge({\n          children: block.getChildKeys().filter(function (key) {\n            return blocks.get(key);\n          }),\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    }); // update next delimiters all the way to a root delimiter\n\n    getNextDelimitersBlockKeys(endBlock, originalBlockMap).forEach(function (delimiterKey) {\n      return transformBlock(delimiterKey, blocks, function (block) {\n        return block.merge({\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    }); // if parent (startBlock) was deleted\n\n    if (blockMap.get(startBlock.getKey()) == null && blockMap.get(endBlock.getKey()) != null && endBlock.getParentKey() === startBlock.getKey() && endBlock.getPrevSiblingKey() == null) {\n      var prevSiblingKey = startBlock.getPrevSiblingKey(); // endBlock becomes next sibling of parent's prevSibling\n\n      transformBlock(endBlock.getKey(), blocks, function (block) {\n        return block.merge({\n          prevSibling: prevSiblingKey\n        });\n      });\n      transformBlock(prevSiblingKey, blocks, function (block) {\n        return block.merge({\n          nextSibling: endBlock.getKey()\n        });\n      }); // Update parent for previous parent's children, and children for that parent\n\n      var prevSibling = prevSiblingKey ? blockMap.get(prevSiblingKey) : null;\n      var newParentKey = prevSibling ? prevSibling.getParentKey() : null;\n      startBlock.getChildKeys().forEach(function (childKey) {\n        transformBlock(childKey, blocks, function (block) {\n          return block.merge({\n            parent: newParentKey // set to null if there is no parent\n\n          });\n        });\n      });\n\n      if (newParentKey != null) {\n        var newParent = blockMap.get(newParentKey);\n        transformBlock(newParentKey, blocks, function (block) {\n          return block.merge({\n            children: newParent.getChildKeys().concat(startBlock.getChildKeys())\n          });\n        });\n      } // last child of deleted parent should point to next sibling\n\n\n      transformBlock(startBlock.getChildKeys().find(function (key) {\n        var block = blockMap.get(key);\n        return block.getNextSiblingKey() === null;\n      }), blocks, function (block) {\n        return block.merge({\n          nextSibling: startBlock.getNextSiblingKey()\n        });\n      });\n    }\n  });\n};\n\nvar removeRangeFromContentState = function removeRangeFromContentState(contentState, selectionState) {\n  if (selectionState.isCollapsed()) {\n    return contentState;\n  }\n\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var startBlock = blockMap.get(startKey);\n  var endBlock = blockMap.get(endKey); // we assume that ContentBlockNode and ContentBlocks are not mixed together\n\n  var isExperimentalTreeBlock = startBlock instanceof ContentBlockNode; // used to retain blocks that should not be deleted to avoid orphan children\n\n  var parentAncestors = [];\n\n  if (isExperimentalTreeBlock) {\n    var endBlockchildrenKeys = endBlock.getChildKeys();\n    var endBlockAncestors = getAncestorsKeys(endKey, blockMap); // endBlock has unselected siblings so we can not remove its ancestors parents\n\n    if (endBlock.getNextSiblingKey()) {\n      parentAncestors = parentAncestors.concat(endBlockAncestors);\n    } // endBlock has children so can not remove this block or any of its ancestors\n\n\n    if (!endBlockchildrenKeys.isEmpty()) {\n      parentAncestors = parentAncestors.concat(endBlockAncestors.concat([endKey]));\n    } // we need to retain all ancestors of the next delimiter block\n\n\n    parentAncestors = parentAncestors.concat(getAncestorsKeys(getNextDelimiterBlockKey(endBlock, blockMap), blockMap));\n  }\n\n  var characterList;\n\n  if (startBlock === endBlock) {\n    characterList = removeFromList(startBlock.getCharacterList(), startOffset, endOffset);\n  } else {\n    characterList = startBlock.getCharacterList().slice(0, startOffset).concat(endBlock.getCharacterList().slice(endOffset));\n  }\n\n  var modifiedStart = startBlock.merge({\n    text: startBlock.getText().slice(0, startOffset) + endBlock.getText().slice(endOffset),\n    characterList: characterList\n  }); // If cursor (collapsed) is at the start of the first child, delete parent\n  // instead of child\n\n  var shouldDeleteParent = isExperimentalTreeBlock && startOffset === 0 && endOffset === 0 && endBlock.getParentKey() === startKey && endBlock.getPrevSiblingKey() == null;\n  var newBlocks = shouldDeleteParent ? Map([[startKey, null]]) : blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).filter(function (_, k) {\n    return parentAncestors.indexOf(k) === -1;\n  }).concat(Map([[endKey, null]])).map(function (_, k) {\n    return k === startKey ? modifiedStart : null;\n  });\n  var updatedBlockMap = blockMap.merge(newBlocks).filter(function (block) {\n    return !!block;\n  }); // Only update tree block pointers if the range is across blocks\n\n  if (isExperimentalTreeBlock && startBlock !== endBlock) {\n    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, startBlock, endBlock, blockMap);\n  }\n\n  return contentState.merge({\n    blockMap: updatedBlockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: startKey,\n      anchorOffset: startOffset,\n      focusKey: startKey,\n      focusOffset: startOffset,\n      isBackward: false\n    })\n  });\n};\n/**\n * Maintain persistence for target list when removing characters on the\n * head and tail of the character list.\n */\n\n\nvar removeFromList = function removeFromList(targetList, startOffset, endOffset) {\n  if (startOffset === 0) {\n    while (startOffset < endOffset) {\n      targetList = targetList.shift();\n      startOffset++;\n    }\n  } else if (endOffset === targetList.count()) {\n    while (endOffset > startOffset) {\n      targetList = targetList.pop();\n      endOffset--;\n    }\n  } else {\n    var head = targetList.slice(0, startOffset);\n    var tail = targetList.slice(endOffset);\n    targetList = head.concat(tail).toList();\n  }\n\n  return targetList;\n};\n\nmodule.exports = removeRangeFromContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n/**\n * Obtain the start and end positions of the range that has the\n * specified entity applied to it.\n *\n * Entity keys are applied only to contiguous stretches of text, so this\n * method searches for the first instance of the entity key and returns\n * the subsequent range.\n */\n\n\nfunction getRangesForDraftEntity(block, key) {\n  var ranges = [];\n  block.findEntityRanges(function (c) {\n    return c.getEntity() === key;\n  }, function (start, end) {\n    ranges.push({\n      start: start,\n      end: end\n    });\n  });\n  !!!ranges.length ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Entity key not found in this range.') : invariant(false) : void 0;\n  return ranges;\n}\n\nmodule.exports = getRangesForDraftEntity;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n    case 'raw':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n\n      default:\n        if (retried) return; // undefined\n\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n}\n\n; // Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\n\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n} // StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\n\n\nexports.StringDecoder = StringDecoder;\n\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End; // Returns only complete characters in a Buffer\n\nStringDecoder.prototype.text = utf8Text; // Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\n\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n}; // Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\n\n\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n} // Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\n\n\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n\n    return nb;\n  }\n\n  return 0;\n} // Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\n\n\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return \"\\uFFFD\";\n  }\n\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return \"\\uFFFD\";\n    }\n\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return \"\\uFFFD\";\n      }\n    }\n  }\n} // Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\n\n\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n} // Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\n\n\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n} // For UTF-8, a replacement character is added when ending on a partial\n// character.\n\n\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + \"\\uFFFD\";\n  return r;\n} // UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\n\n\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n\n    return r;\n  }\n\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n} // For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\n\n\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n} // Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\n\n\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Basic (stateless) API for text direction detection\n *\n * Part of our implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n'use strict';\n\nvar UnicodeBidiDirection = require(\"./UnicodeBidiDirection\");\n\nvar invariant = require(\"./invariant\");\n/**\n * RegExp ranges of characters with a *Strong* Bidi_Class value.\n *\n * Data is based on DerivedBidiClass.txt in UCD version 7.0.0.\n *\n * NOTE: For performance reasons, we only support Unicode's\n *       Basic Multilingual Plane (BMP) for now.\n */\n\n\nvar RANGE_BY_BIDI_TYPE = {\n  L: \"A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u01BA\\u01BB\" + \"\\u01BC-\\u01BF\\u01C0-\\u01C3\\u01C4-\\u0293\\u0294\\u0295-\\u02AF\\u02B0-\\u02B8\" + \"\\u02BB-\\u02C1\\u02D0-\\u02D1\\u02E0-\\u02E4\\u02EE\\u0370-\\u0373\\u0376-\\u0377\" + \"\\u037A\\u037B-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\" + \"\\u03A3-\\u03F5\\u03F7-\\u0481\\u0482\\u048A-\\u052F\\u0531-\\u0556\\u0559\" + \"\\u055A-\\u055F\\u0561-\\u0587\\u0589\\u0903\\u0904-\\u0939\\u093B\\u093D\" + \"\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0950\\u0958-\\u0961\\u0964-\\u0965\" + \"\\u0966-\\u096F\\u0970\\u0971\\u0972-\\u0980\\u0982-\\u0983\\u0985-\\u098C\" + \"\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\" + \"\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09CE\\u09D7\\u09DC-\\u09DD\" + \"\\u09DF-\\u09E1\\u09E6-\\u09EF\\u09F0-\\u09F1\\u09F4-\\u09F9\\u09FA\\u0A03\" + \"\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\" + \"\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A3E-\\u0A40\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\" + \"\\u0A72-\\u0A74\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\" + \"\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0AD0\" + \"\\u0AE0-\\u0AE1\\u0AE6-\\u0AEF\\u0AF0\\u0B02-\\u0B03\\u0B05-\\u0B0C\\u0B0F-\\u0B10\" + \"\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B3E\\u0B40\" + \"\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\" + \"\\u0B70\\u0B71\\u0B72-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\" + \"\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\" + \"\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD0\\u0BD7\" + \"\\u0BE6-\\u0BEF\\u0BF0-\\u0BF2\\u0C01-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\" + \"\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C41-\\u0C44\\u0C58-\\u0C59\\u0C60-\\u0C61\" + \"\\u0C66-\\u0C6F\\u0C7F\\u0C82-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\" + \"\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CBE\\u0CBF\\u0CC0-\\u0CC4\\u0CC6\" + \"\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0CDE\\u0CE0-\\u0CE1\\u0CE6-\\u0CEF\" + \"\\u0CF1-\\u0CF2\\u0D02-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\" + \"\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D4E\\u0D57\\u0D60-\\u0D61\" + \"\\u0D66-\\u0D6F\\u0D70-\\u0D75\\u0D79\\u0D7A-\\u0D7F\\u0D82-\\u0D83\\u0D85-\\u0D96\" + \"\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\" + \"\\u0DE6-\\u0DEF\\u0DF2-\\u0DF3\\u0DF4\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\" + \"\\u0E46\\u0E4F\\u0E50-\\u0E59\\u0E5A-\\u0E5B\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\" + \"\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\" + \"\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\" + \"\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F01-\\u0F03\\u0F04-\\u0F12\\u0F13\\u0F14\" + \"\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F20-\\u0F29\\u0F2A-\\u0F33\\u0F34\\u0F36\\u0F38\" + \"\\u0F3E-\\u0F3F\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F7F\\u0F85\\u0F88-\\u0F8C\" + \"\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE-\\u0FCF\\u0FD0-\\u0FD4\\u0FD5-\\u0FD8\" + \"\\u0FD9-\\u0FDA\\u1000-\\u102A\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u103F\" + \"\\u1040-\\u1049\\u104A-\\u104F\\u1050-\\u1055\\u1056-\\u1057\\u105A-\\u105D\\u1061\" + \"\\u1062-\\u1064\\u1065-\\u1066\\u1067-\\u106D\\u106E-\\u1070\\u1075-\\u1081\" + \"\\u1083-\\u1084\\u1087-\\u108C\\u108E\\u108F\\u1090-\\u1099\\u109A-\\u109C\" + \"\\u109E-\\u109F\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FB\\u10FC\" + \"\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\" + \"\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\" + \"\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1360-\\u1368\" + \"\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166D-\\u166E\" + \"\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EB-\\u16ED\\u16EE-\\u16F0\" + \"\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1735-\\u1736\" + \"\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17B6\\u17BE-\\u17C5\" + \"\\u17C7-\\u17C8\\u17D4-\\u17D6\\u17D7\\u17D8-\\u17DA\\u17DC\\u17E0-\\u17E9\" + \"\\u1810-\\u1819\\u1820-\\u1842\\u1843\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\" + \"\\u18B0-\\u18F5\\u1900-\\u191E\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\" + \"\\u1933-\\u1938\\u1946-\\u194F\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\" + \"\\u19B0-\\u19C0\\u19C1-\\u19C7\\u19C8-\\u19C9\\u19D0-\\u19D9\\u19DA\\u1A00-\\u1A16\" + \"\\u1A19-\\u1A1A\\u1A1E-\\u1A1F\\u1A20-\\u1A54\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\" + \"\\u1A6D-\\u1A72\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA0-\\u1AA6\\u1AA7\\u1AA8-\\u1AAD\" + \"\\u1B04\\u1B05-\\u1B33\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B45-\\u1B4B\" + \"\\u1B50-\\u1B59\\u1B5A-\\u1B60\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1B82\\u1B83-\\u1BA0\" + \"\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAE-\\u1BAF\\u1BB0-\\u1BB9\\u1BBA-\\u1BE5\\u1BE7\" + \"\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1BFC-\\u1BFF\\u1C00-\\u1C23\\u1C24-\\u1C2B\" + \"\\u1C34-\\u1C35\\u1C3B-\\u1C3F\\u1C40-\\u1C49\\u1C4D-\\u1C4F\\u1C50-\\u1C59\" + \"\\u1C5A-\\u1C77\\u1C78-\\u1C7D\\u1C7E-\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u1CE1\" + \"\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF2-\\u1CF3\\u1CF5-\\u1CF6\\u1D00-\\u1D2B\" + \"\\u1D2C-\\u1D6A\\u1D6B-\\u1D77\\u1D78\\u1D79-\\u1D9A\\u1D9B-\\u1DBF\\u1E00-\\u1F15\" + \"\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\" + \"\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\" + \"\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200E\" + \"\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\" + \"\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2134\\u2135-\\u2138\\u2139\" + \"\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u214F\\u2160-\\u2182\\u2183-\\u2184\" + \"\\u2185-\\u2188\\u2336-\\u237A\\u2395\\u249C-\\u24E9\\u26AC\\u2800-\\u28FF\" + \"\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C7B\\u2C7C-\\u2C7D\\u2C7E-\\u2CE4\" + \"\\u2CEB-\\u2CEE\\u2CF2-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\" + \"\\u2D70\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\" + \"\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005\\u3006\\u3007\" + \"\\u3021-\\u3029\\u302E-\\u302F\\u3031-\\u3035\\u3038-\\u303A\\u303B\\u303C\" + \"\\u3041-\\u3096\\u309D-\\u309E\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FE\\u30FF\" + \"\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u3191\\u3192-\\u3195\\u3196-\\u319F\" + \"\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3200-\\u321C\\u3220-\\u3229\\u322A-\\u3247\" + \"\\u3248-\\u324F\\u3260-\\u327B\\u327F\\u3280-\\u3289\\u328A-\\u32B0\\u32C0-\\u32CB\" + \"\\u32D0-\\u32FE\\u3300-\\u3376\\u337B-\\u33DD\\u33E0-\\u33FE\\u3400-\\u4DB5\" + \"\\u4E00-\\u9FCC\\uA000-\\uA014\\uA015\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA4F8-\\uA4FD\" + \"\\uA4FE-\\uA4FF\\uA500-\\uA60B\\uA60C\\uA610-\\uA61F\\uA620-\\uA629\\uA62A-\\uA62B\" + \"\\uA640-\\uA66D\\uA66E\\uA680-\\uA69B\\uA69C-\\uA69D\\uA6A0-\\uA6E5\\uA6E6-\\uA6EF\" + \"\\uA6F2-\\uA6F7\\uA722-\\uA76F\\uA770\\uA771-\\uA787\\uA789-\\uA78A\\uA78B-\\uA78E\" + \"\\uA790-\\uA7AD\\uA7B0-\\uA7B1\\uA7F7\\uA7F8-\\uA7F9\\uA7FA\\uA7FB-\\uA801\" + \"\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA823-\\uA824\\uA827\\uA830-\\uA835\" + \"\\uA836-\\uA837\\uA840-\\uA873\\uA880-\\uA881\\uA882-\\uA8B3\\uA8B4-\\uA8C3\" + \"\\uA8CE-\\uA8CF\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8F8-\\uA8FA\\uA8FB\\uA900-\\uA909\" + \"\\uA90A-\\uA925\\uA92E-\\uA92F\\uA930-\\uA946\\uA952-\\uA953\\uA95F\\uA960-\\uA97C\" + \"\\uA983\\uA984-\\uA9B2\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uA9C1-\\uA9CD\" + \"\\uA9CF\\uA9D0-\\uA9D9\\uA9DE-\\uA9DF\\uA9E0-\\uA9E4\\uA9E6\\uA9E7-\\uA9EF\" + \"\\uA9F0-\\uA9F9\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA2F-\\uAA30\\uAA33-\\uAA34\" + \"\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA4D\\uAA50-\\uAA59\\uAA5C-\\uAA5F\\uAA60-\\uAA6F\" + \"\\uAA70\\uAA71-\\uAA76\\uAA77-\\uAA79\\uAA7A\\uAA7B\\uAA7D\\uAA7E-\\uAAAF\\uAAB1\" + \"\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAADD\\uAADE-\\uAADF\" + \"\\uAAE0-\\uAAEA\\uAAEB\\uAAEE-\\uAAEF\\uAAF0-\\uAAF1\\uAAF2\\uAAF3-\\uAAF4\\uAAF5\" + \"\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\" + \"\\uAB30-\\uAB5A\\uAB5B\\uAB5C-\\uAB5F\\uAB64-\\uAB65\\uABC0-\\uABE2\\uABE3-\\uABE4\" + \"\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEB\\uABEC\\uABF0-\\uABF9\\uAC00-\\uD7A3\" + \"\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uE000-\\uF8FF\\uF900-\\uFA6D\\uFA70-\\uFAD9\" + \"\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFF6F\\uFF70\" + \"\\uFF71-\\uFF9D\\uFF9E-\\uFF9F\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\" + \"\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\",\n  R: \"\\u0590\\u05BE\\u05C0\\u05C3\\u05C6\\u05C8-\\u05CF\\u05D0-\\u05EA\\u05EB-\\u05EF\" + \"\\u05F0-\\u05F2\\u05F3-\\u05F4\\u05F5-\\u05FF\\u07C0-\\u07C9\\u07CA-\\u07EA\" + \"\\u07F4-\\u07F5\\u07FA\\u07FB-\\u07FF\\u0800-\\u0815\\u081A\\u0824\\u0828\" + \"\\u082E-\\u082F\\u0830-\\u083E\\u083F\\u0840-\\u0858\\u085C-\\u085D\\u085E\" + \"\\u085F-\\u089F\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB37\\uFB38-\\uFB3C\" + \"\\uFB3D\\uFB3E\\uFB3F\\uFB40-\\uFB41\\uFB42\\uFB43-\\uFB44\\uFB45\\uFB46-\\uFB4F\",\n  AL: \"\\u0608\\u060B\\u060D\\u061B\\u061C\\u061D\\u061E-\\u061F\\u0620-\\u063F\\u0640\" + \"\\u0641-\\u064A\\u066D\\u066E-\\u066F\\u0671-\\u06D3\\u06D4\\u06D5\\u06E5-\\u06E6\" + \"\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FD-\\u06FE\\u06FF\\u0700-\\u070D\\u070E\\u070F\" + \"\\u0710\\u0712-\\u072F\\u074B-\\u074C\\u074D-\\u07A5\\u07B1\\u07B2-\\u07BF\" + \"\\u08A0-\\u08B2\\u08B3-\\u08E3\\uFB50-\\uFBB1\\uFBB2-\\uFBC1\\uFBC2-\\uFBD2\" + \"\\uFBD3-\\uFD3D\\uFD40-\\uFD4F\\uFD50-\\uFD8F\\uFD90-\\uFD91\\uFD92-\\uFDC7\" + \"\\uFDC8-\\uFDCF\\uFDF0-\\uFDFB\\uFDFC\\uFDFE-\\uFDFF\\uFE70-\\uFE74\\uFE75\" + \"\\uFE76-\\uFEFC\\uFEFD-\\uFEFE\"\n};\nvar REGEX_STRONG = new RegExp('[' + RANGE_BY_BIDI_TYPE.L + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');\nvar REGEX_RTL = new RegExp('[' + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');\n/**\n * Returns the first strong character (has Bidi_Class value of L, R, or AL).\n *\n * @param str  A text block; e.g. paragraph, table cell, tag\n * @return     A character with strong bidi direction, or null if not found\n */\n\nfunction firstStrongChar(str) {\n  var match = REGEX_STRONG.exec(str);\n  return match == null ? null : match[0];\n}\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL).\n *\n * @param str  A text block; e.g. paragraph, table cell, tag\n * @return     The resolved direction\n */\n\n\nfunction firstStrongCharDir(str) {\n  var strongChar = firstStrongChar(str);\n\n  if (strongChar == null) {\n    return UnicodeBidiDirection.NEUTRAL;\n  }\n\n  return REGEX_RTL.exec(strongChar) ? UnicodeBidiDirection.RTL : UnicodeBidiDirection.LTR;\n}\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL), or a fallback\n * direction, if no strong character is found.\n *\n * This function is supposed to be used in respect to Higher-Level Protocol\n * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)\n *\n * @param str       A text block; e.g. paragraph, table cell, tag\n * @param fallback  Fallback direction, used if no strong direction detected\n *                  for the block (default = NEUTRAL)\n * @return          The resolved direction\n */\n\n\nfunction resolveBlockDir(str, fallback) {\n  fallback = fallback || UnicodeBidiDirection.NEUTRAL;\n\n  if (!str.length) {\n    return fallback;\n  }\n\n  var blockDir = firstStrongCharDir(str);\n  return blockDir === UnicodeBidiDirection.NEUTRAL ? fallback : blockDir;\n}\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL), or a fallback\n * direction, if no strong character is found.\n *\n * NOTE: This function is similar to resolveBlockDir(), but uses the global\n * direction as the fallback, so it *always* returns a Strong direction,\n * making it useful for integration in places that you need to make the final\n * decision, like setting some CSS class.\n *\n * This function is supposed to be used in respect to Higher-Level Protocol\n * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                The resolved Strong direction\n */\n\n\nfunction getDirection(str, strongFallback) {\n  if (!strongFallback) {\n    strongFallback = UnicodeBidiDirection.getGlobalDir();\n  }\n\n  !UnicodeBidiDirection.isStrong(strongFallback) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Fallback direction must be a strong direction') : invariant(false) : void 0;\n  return resolveBlockDir(str, strongFallback);\n}\n/**\n * Returns true if getDirection(arguments...) returns LTR.\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                True if the resolved direction is LTR\n */\n\n\nfunction isDirectionLTR(str, strongFallback) {\n  return getDirection(str, strongFallback) === UnicodeBidiDirection.LTR;\n}\n/**\n * Returns true if getDirection(arguments...) returns RTL.\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                True if the resolved direction is RTL\n */\n\n\nfunction isDirectionRTL(str, strongFallback) {\n  return getDirection(str, strongFallback) === UnicodeBidiDirection.RTL;\n}\n\nvar UnicodeBidi = {\n  firstStrongChar: firstStrongChar,\n  firstStrongCharDir: firstStrongCharDir,\n  resolveBlockDir: resolveBlockDir,\n  getDirection: getDirection,\n  isDirectionLTR: isDirectionLTR,\n  isDirectionRTL: isDirectionRTL\n};\nmodule.exports = UnicodeBidi;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks static-only\n */\n'use strict';\n/**\n * Combines multiple className strings into one.\n */\n\nfunction joinClasses(className) {\n  var newClassName = className || '';\n  var argLength = arguments.length;\n\n  if (argLength > 1) {\n    for (var index = 1; index < argLength; index++) {\n      var nextClass = arguments[index];\n\n      if (nextClass) {\n        newClassName = (newClassName ? newClassName + ' ' : '') + nextClass;\n      }\n    }\n  }\n\n  return newClassName;\n}\n\nmodule.exports = joinClasses;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.htmlparser2 = exports.convertNodeToElement = exports.processNodes = undefined;\n\nvar _processNodes = require('./processNodes');\n\nObject.defineProperty(exports, 'processNodes', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_processNodes).default;\n  }\n});\n\nvar _convertNodeToElement = require('./convertNodeToElement');\n\nObject.defineProperty(exports, 'convertNodeToElement', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_convertNodeToElement).default;\n  }\n});\n\nvar _htmlparser = require('htmlparser2');\n\nObject.defineProperty(exports, 'htmlparser2', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_htmlparser).default;\n  }\n});\n\nvar _HtmlParser = require('./HtmlParser');\n\nvar _HtmlParser2 = _interopRequireDefault(_HtmlParser);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = _HtmlParser2.default;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentStateInlineStyle = require(\"./ContentStateInlineStyle\");\n\nvar applyEntityToContentState = require(\"./applyEntityToContentState\");\n\nvar getCharacterRemovalRange = require(\"./getCharacterRemovalRange\");\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n\nvar Immutable = require(\"immutable\");\n\nvar insertFragmentIntoContentState = require(\"./insertFragmentIntoContentState\");\n\nvar insertTextIntoContentState = require(\"./insertTextIntoContentState\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar modifyBlockForContentState = require(\"./modifyBlockForContentState\");\n\nvar removeEntitiesAtEdges = require(\"./removeEntitiesAtEdges\");\n\nvar removeRangeFromContentState = require(\"./removeRangeFromContentState\");\n\nvar splitBlockInContentState = require(\"./splitBlockInContentState\");\n\nvar OrderedSet = Immutable.OrderedSet;\n/**\n * `DraftModifier` provides a set of convenience methods that apply\n * modifications to a `ContentState` object based on a target `SelectionState`.\n *\n * Any change to a `ContentState` should be decomposable into a series of\n * transaction functions that apply the required changes and return output\n * `ContentState` objects.\n *\n * These functions encapsulate some of the most common transaction sequences.\n */\n\nvar DraftModifier = {\n  replaceText: function replaceText(contentState, rangeToReplace, text, inlineStyle, entityKey) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, rangeToReplace);\n    var withoutText = removeRangeFromContentState(withoutEntities, rangeToReplace);\n    var character = CharacterMetadata.create({\n      style: inlineStyle || OrderedSet(),\n      entity: entityKey || null\n    });\n    return insertTextIntoContentState(withoutText, withoutText.getSelectionAfter(), text, character);\n  },\n  insertText: function insertText(contentState, targetRange, text, inlineStyle, entityKey) {\n    !targetRange.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Target range must be collapsed for `insertText`.') : invariant(false) : void 0;\n    return DraftModifier.replaceText(contentState, targetRange, text, inlineStyle, entityKey);\n  },\n  moveText: function moveText(contentState, removalRange, targetRange) {\n    var movedFragment = getContentStateFragment(contentState, removalRange);\n    var afterRemoval = DraftModifier.removeRange(contentState, removalRange, 'backward');\n    return DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n  },\n  replaceWithFragment: function replaceWithFragment(contentState, targetRange, fragment) {\n    var mergeBlockData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'REPLACE_WITH_NEW_DATA';\n    var withoutEntities = removeEntitiesAtEdges(contentState, targetRange);\n    var withoutText = removeRangeFromContentState(withoutEntities, targetRange);\n    return insertFragmentIntoContentState(withoutText, withoutText.getSelectionAfter(), fragment, mergeBlockData);\n  },\n  removeRange: function removeRange(contentState, rangeToRemove, removalDirection) {\n    var startKey, endKey, startBlock, endBlock;\n\n    if (rangeToRemove.getIsBackward()) {\n      rangeToRemove = rangeToRemove.merge({\n        anchorKey: rangeToRemove.getFocusKey(),\n        anchorOffset: rangeToRemove.getFocusOffset(),\n        focusKey: rangeToRemove.getAnchorKey(),\n        focusOffset: rangeToRemove.getAnchorOffset(),\n        isBackward: false\n      });\n    }\n\n    startKey = rangeToRemove.getAnchorKey();\n    endKey = rangeToRemove.getFocusKey();\n    startBlock = contentState.getBlockForKey(startKey);\n    endBlock = contentState.getBlockForKey(endKey);\n    var startOffset = rangeToRemove.getStartOffset();\n    var endOffset = rangeToRemove.getEndOffset();\n    var startEntityKey = startBlock.getEntityAt(startOffset);\n    var endEntityKey = endBlock.getEntityAt(endOffset - 1); // Check whether the selection state overlaps with a single entity.\n    // If so, try to remove the appropriate substring of the entity text.\n\n    if (startKey === endKey) {\n      if (startEntityKey && startEntityKey === endEntityKey) {\n        var adjustedRemovalRange = getCharacterRemovalRange(contentState.getEntityMap(), startBlock, endBlock, rangeToRemove, removalDirection);\n        return removeRangeFromContentState(contentState, adjustedRemovalRange);\n      }\n    }\n\n    var withoutEntities = removeEntitiesAtEdges(contentState, rangeToRemove);\n    return removeRangeFromContentState(withoutEntities, rangeToRemove);\n  },\n  splitBlock: function splitBlock(contentState, selectionState) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);\n    var withoutText = removeRangeFromContentState(withoutEntities, selectionState);\n    return splitBlockInContentState(withoutText, withoutText.getSelectionAfter());\n  },\n  applyInlineStyle: function applyInlineStyle(contentState, selectionState, inlineStyle) {\n    return ContentStateInlineStyle.add(contentState, selectionState, inlineStyle);\n  },\n  removeInlineStyle: function removeInlineStyle(contentState, selectionState, inlineStyle) {\n    return ContentStateInlineStyle.remove(contentState, selectionState, inlineStyle);\n  },\n  setBlockType: function setBlockType(contentState, selectionState, blockType) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({\n        type: blockType,\n        depth: 0\n      });\n    });\n  },\n  setBlockData: function setBlockData(contentState, selectionState, blockData) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({\n        data: blockData\n      });\n    });\n  },\n  mergeBlockData: function mergeBlockData(contentState, selectionState, blockData) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({\n        data: block.getData().merge(blockData)\n      });\n    });\n  },\n  applyEntity: function applyEntity(contentState, selectionState, entityKey) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);\n    return applyEntityToContentState(withoutEntities, selectionState, entityKey);\n  }\n};\nmodule.exports = DraftModifier;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar moveBlockInContentState = require(\"./moveBlockInContentState\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\nvar AtomicBlockUtils = {\n  insertAtomicBlock: function insertAtomicBlock(editorState, entityKey, character) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n    var afterRemoval = DraftModifier.removeRange(contentState, selectionState, 'backward');\n    var targetSelection = afterRemoval.getSelectionAfter();\n    var afterSplit = DraftModifier.splitBlock(afterRemoval, targetSelection);\n    var insertionTarget = afterSplit.getSelectionAfter();\n    var asAtomicBlock = DraftModifier.setBlockType(afterSplit, insertionTarget, 'atomic');\n    var charData = CharacterMetadata.create({\n      entity: entityKey\n    });\n    var atomicBlockConfig = {\n      key: generateRandomKey(),\n      type: 'atomic',\n      text: character,\n      characterList: List(Repeat(charData, character.length))\n    };\n    var atomicDividerBlockConfig = {\n      key: generateRandomKey(),\n      type: 'unstyled'\n    };\n\n    if (experimentalTreeDataSupport) {\n      atomicBlockConfig = _objectSpread({}, atomicBlockConfig, {\n        nextSibling: atomicDividerBlockConfig.key\n      });\n      atomicDividerBlockConfig = _objectSpread({}, atomicDividerBlockConfig, {\n        prevSibling: atomicBlockConfig.key\n      });\n    }\n\n    var fragmentArray = [new ContentBlockRecord(atomicBlockConfig), new ContentBlockRecord(atomicDividerBlockConfig)];\n    var fragment = BlockMapBuilder.createFromArray(fragmentArray);\n    var withAtomicBlock = DraftModifier.replaceWithFragment(asAtomicBlock, insertionTarget, fragment);\n    var newContent = withAtomicBlock.merge({\n      selectionBefore: selectionState,\n      selectionAfter: withAtomicBlock.getSelectionAfter().set('hasFocus', true)\n    });\n    return EditorState.push(editorState, newContent, 'insert-fragment');\n  },\n  moveAtomicBlock: function moveAtomicBlock(editorState, atomicBlock, targetRange, insertionMode) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n    var withMovedAtomicBlock;\n\n    if (insertionMode === 'before' || insertionMode === 'after') {\n      var targetBlock = contentState.getBlockForKey(insertionMode === 'before' ? targetRange.getStartKey() : targetRange.getEndKey());\n      withMovedAtomicBlock = moveBlockInContentState(contentState, atomicBlock, targetBlock, insertionMode);\n    } else {\n      var afterRemoval = DraftModifier.removeRange(contentState, targetRange, 'backward');\n      var selectionAfterRemoval = afterRemoval.getSelectionAfter();\n\n      var _targetBlock = afterRemoval.getBlockForKey(selectionAfterRemoval.getFocusKey());\n\n      if (selectionAfterRemoval.getStartOffset() === 0) {\n        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'before');\n      } else if (selectionAfterRemoval.getEndOffset() === _targetBlock.getLength()) {\n        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'after');\n      } else {\n        var afterSplit = DraftModifier.splitBlock(afterRemoval, selectionAfterRemoval);\n        var selectionAfterSplit = afterSplit.getSelectionAfter();\n\n        var _targetBlock2 = afterSplit.getBlockForKey(selectionAfterSplit.getFocusKey());\n\n        withMovedAtomicBlock = moveBlockInContentState(afterSplit, atomicBlock, _targetBlock2, 'before');\n      }\n    }\n\n    var newContent = withMovedAtomicBlock.merge({\n      selectionBefore: selectionState,\n      selectionAfter: withMovedAtomicBlock.getSelectionAfter().set('hasFocus', true)\n    });\n    return EditorState.push(editorState, newContent, 'move-block');\n  }\n};\nmodule.exports = AtomicBlockUtils;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = convertNodeToElement;\n\nvar _elementTypes = require('./elementTypes');\n\nvar _elementTypes2 = _interopRequireDefault(_elementTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Converts a htmlparser2 node to a React element\n *\n * @param {Object} node The htmlparser2 node to convert\n * @param {Number} index The index of the current node\n * @param {Function} transform Transform function to apply to children of the node\n * @returns {React.Element}\n */\n\n\nfunction convertNodeToElement(node, index, transform) {\n  return _elementTypes2.default[node.type](node, index, transform);\n}","import toInteger from '../_lib/toInteger/index.js';\nimport toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * var result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","import toInteger from '../_lib/toInteger/index.js';\nimport addMilliseconds from '../addMilliseconds/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * var result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nvar nullthrows = function nullthrows(x) {\n  if (x != null) {\n    return x;\n  }\n\n  throw new Error(\"Got unexpected null or undefined\");\n};\n\nmodule.exports = nullthrows;","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","import toDate from '../../toDate/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar isSelectionAtLeafStart = require(\"./isSelectionAtLeafStart\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar setImmediate = require(\"fbjs/lib/setImmediate\"); // When nothing is focused, Firefox regards two characters, `'` and `/`, as\n// commands that should open and focus the \"quickfind\" search bar. This should\n// *never* happen while a contenteditable is focused, but as of v28, it\n// sometimes does, even when the keypress event target is the contenteditable.\n// This breaks the input. Special case these characters to ensure that when\n// they are typed, we prevent default on the event to make sure not to\n// trigger quickfind.\n\n\nvar FF_QUICKFIND_CHAR = \"'\";\nvar FF_QUICKFIND_LINK_CHAR = '/';\nvar isFirefox = UserAgent.isBrowser('Firefox');\n\nfunction mustPreventDefaultForCharacter(character) {\n  return isFirefox && (character == FF_QUICKFIND_CHAR || character == FF_QUICKFIND_LINK_CHAR);\n}\n/**\n * Replace the current selection with the specified text string, with the\n * inline style and entity key applied to the newly inserted text.\n */\n\n\nfunction replaceText(editorState, text, inlineStyle, entityKey, forceSelection) {\n  var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), text, inlineStyle, entityKey);\n  return EditorState.push(editorState, contentState, 'insert-characters', forceSelection);\n}\n/**\n * When `onBeforeInput` executes, the browser is attempting to insert a\n * character into the editor. Apply this character data to the document,\n * allowing native insertion if possible.\n *\n * Native insertion is encouraged in order to limit re-rendering and to\n * preserve spellcheck highlighting, which disappears or flashes if re-render\n * occurs on the relevant text nodes.\n */\n\n\nfunction editOnBeforeInput(editor, e) {\n  if (editor._pendingStateFromBeforeInput !== undefined) {\n    editor.update(editor._pendingStateFromBeforeInput);\n    editor._pendingStateFromBeforeInput = undefined;\n  }\n\n  var editorState = editor._latestEditorState;\n  var chars = e.data; // In some cases (ex: IE ideographic space insertion) no character data\n  // is provided. There's nothing to do when this happens.\n\n  if (!chars) {\n    return;\n  } // Allow the top-level component to handle the insertion manually. This is\n  // useful when triggering interesting behaviors for a character insertion,\n  // Simple examples: replacing a raw text ':)' with a smile emoji or image\n  // decorator, or setting a block to be a list item after typing '- ' at the\n  // start of the block.\n\n\n  if (editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(chars, editorState, e.timeStamp))) {\n    e.preventDefault();\n    return;\n  } // If selection is collapsed, conditionally allow native behavior. This\n  // reduces re-renders and preserves spellcheck highlighting. If the selection\n  // is not collapsed, we will re-render.\n\n\n  var selection = editorState.getSelection();\n  var selectionStart = selection.getStartOffset();\n  var anchorKey = selection.getAnchorKey();\n\n  if (!selection.isCollapsed()) {\n    e.preventDefault();\n    editor.update(replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection()), true));\n    return;\n  }\n\n  var newEditorState = replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection()), false); // Bunch of different cases follow where we need to prevent native insertion.\n\n  var mustPreventNative = false;\n\n  if (!mustPreventNative) {\n    // Browsers tend to insert text in weird places in the DOM when typing at\n    // the start of a leaf, so we'll handle it ourselves.\n    mustPreventNative = isSelectionAtLeafStart(editor._latestCommittedEditorState);\n  }\n\n  if (!mustPreventNative) {\n    // Let's say we have a decorator that highlights hashtags. In many cases\n    // we need to prevent native behavior and rerender ourselves --\n    // particularly, any case *except* where the inserted characters end up\n    // anywhere except exactly where you put them.\n    //\n    // Using [] to denote a decorated leaf, some examples:\n    //\n    // 1. 'hi #' and append 'f'\n    // desired rendering: 'hi [#f]'\n    // native rendering would be: 'hi #f' (incorrect)\n    //\n    // 2. 'x [#foo]' and insert '#' before 'f'\n    // desired rendering: 'x #[#foo]'\n    // native rendering would be: 'x [##foo]' (incorrect)\n    //\n    // 3. '[#foobar]' and insert ' ' between 'foo' and 'bar'\n    // desired rendering: '[#foo] bar'\n    // native rendering would be: '[#foo bar]' (incorrect)\n    //\n    // 4. '[#foo]' and delete '#' [won't use this beforeinput codepath though]\n    // desired rendering: 'foo'\n    // native rendering would be: '[foo]' (incorrect)\n    //\n    // 5. '[#foo]' and append 'b'\n    // desired rendering: '[#foob]'\n    // native rendering would be: '[#foob]'\n    // (native insertion here would be ok for decorators like simple spans,\n    // but not more complex decorators. To be safe, we need to prevent it.)\n    //\n    // It is safe to allow native insertion if and only if the full list of\n    // decorator ranges matches what we expect native insertion to give, and\n    // the range lengths have not changed. We don't need to compare the content\n    // because the only possible mutation to consider here is inserting plain\n    // text and decorators can't affect text content.\n    var oldBlockTree = editorState.getBlockTree(anchorKey);\n    var newBlockTree = newEditorState.getBlockTree(anchorKey);\n    mustPreventNative = oldBlockTree.size !== newBlockTree.size || oldBlockTree.zip(newBlockTree).some(function (_ref) {\n      var oldLeafSet = _ref[0],\n          newLeafSet = _ref[1]; // selectionStart is guaranteed to be selectionEnd here\n\n      var oldStart = oldLeafSet.get('start');\n      var adjustedStart = oldStart + (oldStart >= selectionStart ? chars.length : 0);\n      var oldEnd = oldLeafSet.get('end');\n      var adjustedEnd = oldEnd + (oldEnd >= selectionStart ? chars.length : 0);\n      var newStart = newLeafSet.get('start');\n      var newEnd = newLeafSet.get('end');\n      var newDecoratorKey = newLeafSet.get('decoratorKey');\n      return (// Different decorators\n        oldLeafSet.get('decoratorKey') !== newDecoratorKey || // Different number of inline styles\n        oldLeafSet.get('leaves').size !== newLeafSet.get('leaves').size || // Different effective decorator position\n        adjustedStart !== newStart || adjustedEnd !== newEnd || // Decorator already existed and its length changed\n        newDecoratorKey != null && newEnd - newStart !== oldEnd - oldStart\n      );\n    });\n  }\n\n  if (!mustPreventNative) {\n    mustPreventNative = mustPreventDefaultForCharacter(chars);\n  }\n\n  if (!mustPreventNative) {\n    mustPreventNative = nullthrows(newEditorState.getDirectionMap()).get(anchorKey) !== nullthrows(editorState.getDirectionMap()).get(anchorKey);\n  }\n\n  if (mustPreventNative) {\n    e.preventDefault();\n    newEditorState = EditorState.set(newEditorState, {\n      forceSelection: true\n    });\n    editor.update(newEditorState);\n    return;\n  } // We made it all the way! Let the browser do its thing and insert the char.\n\n\n  newEditorState = EditorState.set(newEditorState, {\n    nativelyRenderedContent: newEditorState.getCurrentContent()\n  }); // The native event is allowed to occur. To allow user onChange handlers to\n  // change the inserted text, we wait until the text is actually inserted\n  // before we actually update our state. That way when we rerender, the text\n  // we see in the DOM will already have been inserted properly.\n\n  editor._pendingStateFromBeforeInput = newEditorState;\n  setImmediate(function () {\n    if (editor._pendingStateFromBeforeInput !== undefined) {\n      editor.update(editor._pendingStateFromBeforeInput);\n      editor._pendingStateFromBeforeInput = undefined;\n    }\n  });\n}\n\nmodule.exports = editOnBeforeInput;","module.exports = Stream;\n\nvar Parser = require(\"./Parser.js\");\n\nvar WritableStream = require(\"readable-stream\").Writable;\n\nvar StringDecoder = require(\"string_decoder\").StringDecoder;\n\nvar Buffer = require(\"buffer\").Buffer;\n\nfunction Stream(cbs, options) {\n  var parser = this._parser = new Parser(cbs, options);\n  var decoder = this._decoder = new StringDecoder();\n  WritableStream.call(this, {\n    decodeStrings: false\n  });\n  this.once(\"finish\", function () {\n    parser.end(decoder.end());\n  });\n}\n\nrequire(\"inherits\")(Stream, WritableStream);\n\nStream.prototype._write = function (chunk, encoding, cb) {\n  if (chunk instanceof Buffer) chunk = this._decoder.write(chunk);\n\n  this._parser.write(chunk);\n\n  cb();\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar Immutable = require(\"immutable\");\n\nvar Record = Immutable.Record;\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\n/* $FlowFixMe[unclear-type] This comment suppresses an error found when\n * automatically adding a type annotation with the codemod Komodo/Annotate_\n * exports. To see the error delete this comment and run Flow. */\n\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = /*#__PURE__*/function (_SelectionStateRecord) {\n  _inheritsLoose(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    return _SelectionStateRecord.apply(this, arguments) || this;\n  }\n\n  var _proto = SelectionState.prototype;\n\n  _proto.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  _proto.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  _proto.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  _proto.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  _proto.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  _proto.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  _proto.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  }\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n  ;\n\n  _proto.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionStart && selectionStart <= end || // selectionStart is between start and end, or\n      start <= selectionEnd && selectionEnd <= end // selectionEnd is between start and end\n      ;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  _proto.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  _proto.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  _proto.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  _proto.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  _proto.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;","var Parser = require(\"./Parser.js\");\n\nvar DomHandler = require(\"domhandler\");\n\nfunction defineProp(name, value) {\n  delete module.exports[name];\n  module.exports[name] = value;\n  return value;\n}\n\nmodule.exports = {\n  Parser: Parser,\n  Tokenizer: require(\"./Tokenizer.js\"),\n  ElementType: require(\"domelementtype\"),\n  DomHandler: DomHandler,\n\n  get FeedHandler() {\n    return defineProp(\"FeedHandler\", require(\"./FeedHandler.js\"));\n  },\n\n  get Stream() {\n    return defineProp(\"Stream\", require(\"./Stream.js\"));\n  },\n\n  get WritableStream() {\n    return defineProp(\"WritableStream\", require(\"./WritableStream.js\"));\n  },\n\n  get ProxyHandler() {\n    return defineProp(\"ProxyHandler\", require(\"./ProxyHandler.js\"));\n  },\n\n  get DomUtils() {\n    return defineProp(\"DomUtils\", require(\"domutils\"));\n  },\n\n  get CollectingHandler() {\n    return defineProp(\"CollectingHandler\", require(\"./CollectingHandler.js\"));\n  },\n\n  // For legacy support\n  DefaultHandler: DomHandler,\n\n  get RssHandler() {\n    return defineProp(\"RssHandler\", this.FeedHandler);\n  },\n\n  //helper methods\n  parseDOM: function parseDOM(data, options) {\n    var handler = new DomHandler(options);\n    new Parser(handler, options).end(data);\n    return handler.dom;\n  },\n  parseFeed: function parseFeed(feed, options) {\n    var handler = new module.exports.FeedHandler(options);\n    new Parser(handler, options).end(feed);\n    return handler.dom;\n  },\n  createDomStream: function createDomStream(cb, options, elementCb) {\n    var handler = new DomHandler(cb, options, elementCb);\n    return new Parser(handler, options);\n  },\n  // List of all events that the parser emits\n  EVENTS: {\n    /* Format: eventname: number of arguments */\n    attribute: 2,\n    cdatastart: 0,\n    cdataend: 0,\n    text: 1,\n    processinginstruction: 2,\n    comment: 1,\n    commentend: 0,\n    closetag: 1,\n    opentag: 2,\n    opentagname: 1,\n    error: 1,\n    end: 0\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _require = require(\"./draftKeyUtils\"),\n    notEmptyKey = _require.notEmptyKey;\n/**\n * Return the entity key that should be used when inserting text for the\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\n * and `SEGMENTED` entities should not be used for insertion behavior.\n */\n\n\nfunction getEntityKeyForSelection(contentState, targetSelection) {\n  var entityKey;\n\n  if (targetSelection.isCollapsed()) {\n    var key = targetSelection.getAnchorKey();\n    var offset = targetSelection.getAnchorOffset();\n\n    if (offset > 0) {\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\n\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\n        return null;\n      }\n\n      return filterKey(contentState.getEntityMap(), entityKey);\n    }\n\n    return null;\n  }\n\n  var startKey = targetSelection.getStartKey();\n  var startOffset = targetSelection.getStartOffset();\n  var startBlock = contentState.getBlockForKey(startKey);\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\n  return filterKey(contentState.getEntityMap(), entityKey);\n}\n/**\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\n * return it. If not, return null.\n */\n\n\nfunction filterKey(entityMap, entityKey) {\n  if (notEmptyKey(entityKey)) {\n    var entity = entityMap.__get(entityKey);\n\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\n  }\n\n  return null;\n}\n\nmodule.exports = getEntityKeyForSelection;","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer');\n\nvar Buffer = buffer.Buffer; // alternative to using Object.keys for old browsers\n\nfunction copyProps(src, dst) {\n  for (var key in src) {\n    dst[key] = src[key];\n  }\n}\n\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer;\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports);\n  exports.Buffer = SafeBuffer;\n}\n\nfunction SafeBuffer(arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length);\n} // Copy static methods from Buffer\n\n\ncopyProps(Buffer, SafeBuffer);\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number');\n  }\n\n  return Buffer(arg, encodingOrOffset, length);\n};\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  var buf = Buffer(size);\n\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding);\n    } else {\n      buf.fill(fill);\n    }\n  } else {\n    buf.fill(0);\n  }\n\n  return buf;\n};\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return Buffer(size);\n};\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number');\n  }\n\n  return buffer.SlowBuffer(size);\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n\nfunction getFragmentFromSelection(editorState) {\n  var selectionState = editorState.getSelection();\n\n  if (selectionState.isCollapsed()) {\n    return null;\n  }\n\n  return getContentStateFragment(editorState.getCurrentContent(), selectionState);\n}\n\nmodule.exports = getFragmentFromSelection;","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}","export default function buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from '../../../_lib/buildFormatLongFn/index.js';\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nexport default function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}","export default function buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}","import buildMatchPatternFn from '../../../_lib/buildMatchPatternFn/index.js';\nimport buildMatchFn from '../../../_lib/buildMatchFn/index.js';\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","export default function buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}","import formatDistance from './_lib/formatDistance/index.js';\nimport formatLong from './_lib/formatLong/index.js';\nimport formatRelative from './_lib/formatRelative/index.js';\nimport localize from './_lib/localize/index.js';\nimport match from './_lib/match/index.js';\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import buildLocalizeFn from '../../../_lib/buildLocalizeFn/index.js';\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ElementType$Text$Ele;\n\nvar _htmlparser = require('htmlparser2');\n\nvar _TextElementType = require('./TextElementType');\n\nvar _TextElementType2 = _interopRequireDefault(_TextElementType);\n\nvar _TagElementType = require('./TagElementType');\n\nvar _TagElementType2 = _interopRequireDefault(_TagElementType);\n\nvar _StyleElementType = require('./StyleElementType');\n\nvar _StyleElementType2 = _interopRequireDefault(_StyleElementType);\n\nvar _UnsupportedElementType = require('./UnsupportedElementType');\n\nvar _UnsupportedElementType2 = _interopRequireDefault(_UnsupportedElementType);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\n * Map each htmlparser2 element type to a function which will convert that element type to a React element\n * Not all of the element types are supported so the UnsupportedElementType is used for them which will not return any\n * value\n */\n\n\nexports.default = (_ElementType$Text$Ele = {}, _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Text, _TextElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Tag, _TagElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Style, _StyleElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Directive, _UnsupportedElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Comment, _UnsupportedElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Script, _UnsupportedElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.CDATA, _UnsupportedElementType2.default), _defineProperty(_ElementType$Text$Ele, _htmlparser.ElementType.Doctype, _UnsupportedElementType2.default), _ElementType$Text$Ele);","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar containsNode = require(\"./containsNode\");\n/**\n * Gets an element's bounding rect in pixels relative to the viewport.\n *\n * @param {DOMElement} elem\n * @return {object}\n */\n\n\nfunction getElementRect(elem) {\n  var docElem = elem.ownerDocument.documentElement; // FF 2, Safari 3 and Opera 9.5- do not support getBoundingClientRect().\n  // IE9- will throw if the element is not in the document.\n\n  if (!('getBoundingClientRect' in elem) || !containsNode(docElem, elem)) {\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n  } // Subtracts clientTop/Left because IE8- added a 2px border to the\n  // <html> element (see http://fburl.com/1493213). IE 7 in\n  // Quicksmode does not report clientLeft/clientTop so there\n  // will be an unaccounted offset of 2px when in quirksmode\n\n\n  var rect = elem.getBoundingClientRect();\n  return {\n    left: Math.round(rect.left) - docElem.clientLeft,\n    right: Math.round(rect.right) - docElem.clientLeft,\n    top: Math.round(rect.top) - docElem.clientTop,\n    bottom: Math.round(rect.bottom) - docElem.clientTop\n  };\n}\n\nmodule.exports = getElementRect;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar applyEntityToContentBlock = require(\"./applyEntityToContentBlock\");\n\nvar Immutable = require(\"immutable\");\n\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = applyEntityToContentState;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = StyleElementType;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _generatePropsFromAttributes = require('../utils/generatePropsFromAttributes');\n\nvar _generatePropsFromAttributes2 = _interopRequireDefault(_generatePropsFromAttributes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Converts a <style> element to a React element\n *\n * @param {Object} node The style node\n * @param {String} index The index of the React element relative to it's parent\n * @returns {React.Element} The React style element\n */\n\n\nfunction StyleElementType(node, index) {\n  // The style element only ever has a single child which is the styles so try and find this to add as\n  // a child to the style element that will be created\n  var styles = void 0;\n\n  if (node.children.length > 0) {\n    styles = node.children[0].data;\n  } // generate props\n\n\n  var props = (0, _generatePropsFromAttributes2.default)(node.attribs, index); // create and return the element\n\n  return _react2.default.createElement('style', props, styles);\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n/**\n * The user has begun using an IME input system. Switching to `composite` mode\n * allows handling composition input and disables other edit behavior.\n */\n\n\nfunction editOnCompositionStart(editor, e) {\n  editor.setMode('composite');\n  editor.update(EditorState.set(editor._latestEditorState, {\n    inCompositionMode: true\n  })); // Allow composition handler to interpret the compositionstart event\n\n  editor._onCompositionStart(e);\n}\n\nmodule.exports = editOnCompositionStart;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * Unicode-enabled replacesments for basic String functions.\n *\n * All the functions in this module assume that the input string is a valid\n * UTF-16 encoding of a Unicode sequence. If it's not the case, the behavior\n * will be undefined.\n *\n * WARNING: Since this module is typechecks-enforced, you may find new bugs\n * when replacing normal String functions with ones provided here.\n */\n'use strict';\n\nvar invariant = require(\"./invariant\"); // These two ranges are consecutive so anything in [HIGH_START, LOW_END] is a\n// surrogate code unit.\n\n\nvar SURROGATE_HIGH_START = 0xD800;\nvar SURROGATE_HIGH_END = 0xDBFF;\nvar SURROGATE_LOW_START = 0xDC00;\nvar SURROGATE_LOW_END = 0xDFFF;\nvar SURROGATE_UNITS_REGEX = /[\\uD800-\\uDFFF]/;\n/**\n * @param {number} codeUnit   A Unicode code-unit, in range [0, 0x10FFFF]\n * @return {boolean}          Whether code-unit is in a surrogate (hi/low) range\n */\n\nfunction isCodeUnitInSurrogateRange(codeUnit) {\n  return SURROGATE_HIGH_START <= codeUnit && codeUnit <= SURROGATE_LOW_END;\n}\n/**\n * Returns whether the two characters starting at `index` form a surrogate pair.\n * For example, given the string s = \"\\uD83D\\uDE0A\", (s, 0) returns true and\n * (s, 1) returns false.\n *\n * @param {string} str\n * @param {number} index\n * @return {boolean}\n */\n\n\nfunction isSurrogatePair(str, index) {\n  !(0 <= index && index < str.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isSurrogatePair: Invalid index %s for string length %s.', index, str.length) : invariant(false) : void 0;\n\n  if (index + 1 === str.length) {\n    return false;\n  }\n\n  var first = str.charCodeAt(index);\n  var second = str.charCodeAt(index + 1);\n  return SURROGATE_HIGH_START <= first && first <= SURROGATE_HIGH_END && SURROGATE_LOW_START <= second && second <= SURROGATE_LOW_END;\n}\n/**\n * @param {string} str  Non-empty string\n * @return {boolean}    True if the input includes any surrogate code units\n */\n\n\nfunction hasSurrogateUnit(str) {\n  return SURROGATE_UNITS_REGEX.test(str);\n}\n/**\n * Return the length of the original Unicode character at given position in the\n * String by looking into the UTF-16 code unit; that is equal to 1 for any\n * non-surrogate characters in BMP ([U+0000..U+D7FF] and [U+E000, U+FFFF]); and\n * returns 2 for the hi/low surrogates ([U+D800..U+DFFF]), which are in fact\n * representing non-BMP characters ([U+10000..U+10FFFF]).\n *\n * Examples:\n * - '\\u0020' => 1\n * - '\\u3020' => 1\n * - '\\uD835' => 2\n * - '\\uD835\\uDDEF' => 2\n * - '\\uDDEF' => 2\n *\n * @param {string} str  Non-empty string\n * @param {number} pos  Position in the string to look for one code unit\n * @return {number}      Number 1 or 2\n */\n\n\nfunction getUTF16Length(str, pos) {\n  return 1 + isCodeUnitInSurrogateRange(str.charCodeAt(pos));\n}\n/**\n * Fully Unicode-enabled replacement for String#length\n *\n * @param {string} str  Valid Unicode string\n * @return {number}     The number of Unicode characters in the string\n */\n\n\nfunction strlen(str) {\n  // Call the native functions if there's no surrogate char\n  if (!hasSurrogateUnit(str)) {\n    return str.length;\n  }\n\n  var len = 0;\n\n  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {\n    len++;\n  }\n\n  return len;\n}\n/**\n * Fully Unicode-enabled replacement for String#substr()\n *\n * @param {string} str      Valid Unicode string\n * @param {number} start    Location in Unicode sequence to begin extracting\n * @param {?number} length  The number of Unicode characters to extract\n *                          (default: to the end of the string)\n * @return {string}         Extracted sub-string\n */\n\n\nfunction substr(str, start, length) {\n  start = start || 0;\n  length = length === undefined ? Infinity : length || 0; // Call the native functions if there's no surrogate char\n\n  if (!hasSurrogateUnit(str)) {\n    return str.substr(start, length);\n  } // Obvious cases\n\n\n  var size = str.length;\n\n  if (size <= 0 || start > size || length <= 0) {\n    return '';\n  } // Find the actual starting position\n\n\n  var posA = 0;\n\n  if (start > 0) {\n    for (; start > 0 && posA < size; start--) {\n      posA += getUTF16Length(str, posA);\n    }\n\n    if (posA >= size) {\n      return '';\n    }\n  } else if (start < 0) {\n    for (posA = size; start < 0 && 0 < posA; start++) {\n      posA -= getUTF16Length(str, posA - 1);\n    }\n\n    if (posA < 0) {\n      posA = 0;\n    }\n  } // Find the actual ending position\n\n\n  var posB = size;\n\n  if (length < size) {\n    for (posB = posA; length > 0 && posB < size; length--) {\n      posB += getUTF16Length(str, posB);\n    }\n  }\n\n  return str.substring(posA, posB);\n}\n/**\n * Fully Unicode-enabled replacement for String#substring()\n *\n * @param {string} str    Valid Unicode string\n * @param {number} start  Location in Unicode sequence to begin extracting\n * @param {?number} end   Location in Unicode sequence to end extracting\n *                        (default: end of the string)\n * @return {string}       Extracted sub-string\n */\n\n\nfunction substring(str, start, end) {\n  start = start || 0;\n  end = end === undefined ? Infinity : end || 0;\n\n  if (start < 0) {\n    start = 0;\n  }\n\n  if (end < 0) {\n    end = 0;\n  }\n\n  var length = Math.abs(end - start);\n  start = start < end ? start : end;\n  return substr(str, start, length);\n}\n/**\n * Get a list of Unicode code-points from a String\n *\n * @param {string} str        Valid Unicode string\n * @return {array<number>}    A list of code-points in [0..0x10FFFF]\n */\n\n\nfunction getCodePoints(str) {\n  var codePoints = [];\n\n  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {\n    codePoints.push(str.codePointAt(pos));\n  }\n\n  return codePoints;\n}\n\nvar UnicodeUtils = {\n  getCodePoints: getCodePoints,\n  getUTF16Length: getUTF16Length,\n  hasSurrogateUnit: hasSurrogateUnit,\n  isCodeUnitInSurrogateRange: isCodeUnitInSurrogateRange,\n  isSurrogatePair: isSurrogatePair,\n  strlen: strlen,\n  substring: substring,\n  substr: substr\n};\nmodule.exports = UnicodeUtils;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DOMObserver = require(\"./DOMObserver\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar editOnSelect = require(\"./editOnSelect\");\n\nvar getContentEditableContainer = require(\"./getContentEditableContainer\");\n\nvar getDraftEditorSelection = require(\"./getDraftEditorSelection\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE');\n/**\n * Millisecond delay to allow `compositionstart` to fire again upon\n * `compositionend`.\n *\n * This is used for Korean input to ensure that typing can continue without\n * the editor trying to render too quickly. More specifically, Safari 7.1+\n * triggers `compositionstart` a little slower than Chrome/FF, which\n * leads to composed characters being resolved and re-render occurring\n * sooner than we want.\n */\n\nvar RESOLVE_DELAY = 20;\n/**\n * A handful of variables used to track the current composition and its\n * resolution status. These exist at the module level because it is not\n * possible to have compositions occurring in multiple editors simultaneously,\n * and it simplifies state management with respect to the DraftEditor component.\n */\n\nvar resolved = false;\nvar stillComposing = false;\nvar domObserver = null;\n\nfunction startDOMObserver(editor) {\n  if (!domObserver) {\n    domObserver = new DOMObserver(getContentEditableContainer(editor));\n    domObserver.start();\n  }\n}\n\nvar DraftEditorCompositionHandler = {\n  /**\n   * A `compositionstart` event has fired while we're still in composition\n   * mode. Continue the current composition session to prevent a re-render.\n   */\n  onCompositionStart: function onCompositionStart(editor) {\n    stillComposing = true;\n    startDOMObserver(editor);\n  },\n\n  /**\n   * Attempt to end the current composition session.\n   *\n   * Defer handling because browser will still insert the chars into active\n   * element after `compositionend`. If a `compositionstart` event fires\n   * before `resolveComposition` executes, our composition session will\n   * continue.\n   *\n   * The `resolved` flag is useful because certain IME interfaces fire the\n   * `compositionend` event multiple times, thus queueing up multiple attempts\n   * at handling the composition. Since handling the same composition event\n   * twice could break the DOM, we only use the first event. Example: Arabic\n   * Google Input Tools on Windows 8.1 fires `compositionend` three times.\n   */\n  onCompositionEnd: function onCompositionEnd(editor) {\n    resolved = false;\n    stillComposing = false;\n    setTimeout(function () {\n      if (!resolved) {\n        DraftEditorCompositionHandler.resolveComposition(editor);\n      }\n    }, RESOLVE_DELAY);\n  },\n  onSelect: editOnSelect,\n\n  /**\n   * In Safari, keydown events may fire when committing compositions. If\n   * the arrow keys are used to commit, prevent default so that the cursor\n   * doesn't move, otherwise it will jump back noticeably on re-render.\n   */\n  onKeyDown: function onKeyDown(editor, e) {\n    if (!stillComposing) {\n      // If a keydown event is received after compositionend but before the\n      // 20ms timer expires (ex: type option-E then backspace, or type A then\n      // backspace in 2-Set Korean), we should immediately resolve the\n      // composition and reinterpret the key press in edit mode.\n      DraftEditorCompositionHandler.resolveComposition(editor);\n\n      editor._onKeyDown(e);\n\n      return;\n    }\n\n    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Keypress events may fire when committing compositions. In Firefox,\n   * pressing RETURN commits the composition and inserts extra newline\n   * characters that we do not want. `preventDefault` allows the composition\n   * to be committed while preventing the extra characters.\n   */\n  onKeyPress: function onKeyPress(_editor, e) {\n    if (e.which === Keys.RETURN) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Attempt to insert composed characters into the document.\n   *\n   * If we are still in a composition session, do nothing. Otherwise, insert\n   * the characters into the document and terminate the composition session.\n   *\n   * If no characters were composed -- for instance, the user\n   * deleted all composed characters and committed nothing new --\n   * force a re-render. We also re-render when the composition occurs\n   * at the beginning of a leaf, to ensure that if the browser has\n   * created a new text node for the composition, we will discard it.\n   *\n   * Resetting innerHTML will move focus to the beginning of the editor,\n   * so we update to force it back to the correct place.\n   */\n  resolveComposition: function resolveComposition(editor) {\n    if (stillComposing) {\n      return;\n    }\n\n    var mutations = nullthrows(domObserver).stopAndFlushMutations();\n    domObserver = null;\n    resolved = true;\n    var editorState = EditorState.set(editor._latestEditorState, {\n      inCompositionMode: false\n    });\n    editor.exitCurrentMode();\n\n    if (!mutations.size) {\n      editor.update(editorState);\n      return;\n    } // TODO, check if Facebook still needs this flag or if it could be removed.\n    // Since there can be multiple mutations providing a `composedChars` doesn't\n    // apply well on this new model.\n    // if (\n    //   gkx('draft_handlebeforeinput_composed_text') &&\n    //   editor.props.handleBeforeInput &&\n    //   isEventHandled(\n    //     editor.props.handleBeforeInput(\n    //       composedChars,\n    //       editorState,\n    //       event.timeStamp,\n    //     ),\n    //   )\n    // ) {\n    //   return;\n    // }\n\n\n    var contentState = editorState.getCurrentContent();\n    mutations.forEach(function (composedChars, offsetKey) {\n      var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n          blockKey = _DraftOffsetKey$decod.blockKey,\n          decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n          leafKey = _DraftOffsetKey$decod.leafKey;\n\n      var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n          start = _editorState$getBlock.start,\n          end = _editorState$getBlock.end;\n\n      var replacementRange = editorState.getSelection().merge({\n        anchorKey: blockKey,\n        focusKey: blockKey,\n        anchorOffset: start,\n        focusOffset: end,\n        isBackward: false\n      });\n      var entityKey = getEntityKeyForSelection(contentState, replacementRange);\n      var currentStyle = contentState.getBlockForKey(blockKey).getInlineStyleAt(start);\n      contentState = DraftModifier.replaceText(contentState, replacementRange, composedChars, currentStyle, entityKey); // We need to update the editorState so the leaf node ranges are properly\n      // updated and multiple mutations are correctly applied.\n\n      editorState = EditorState.set(editorState, {\n        currentContent: contentState\n      });\n    }); // When we apply the text changes to the ContentState, the selection always\n    // goes to the end of the field, but it should just stay where it is\n    // after compositionEnd.\n\n    var documentSelection = getDraftEditorSelection(editorState, getContentEditableContainer(editor));\n    var compositionEndSelectionState = documentSelection.selectionState;\n    editor.restoreEditorDOM(); // See:\n    // - https://github.com/facebook/draft-js/issues/2093\n    // - https://github.com/facebook/draft-js/pull/2094\n    // Apply this fix only in IE for now. We can test it in\n    // other browsers in the future to ensure no regressions\n\n    var editorStateWithUpdatedSelection = isIE ? EditorState.forceSelection(editorState, compositionEndSelectionState) : EditorState.acceptSelection(editorState, compositionEndSelectionState);\n    editor.update(EditorState.push(editorStateWithUpdatedSelection, contentState, 'insert-characters'));\n  }\n};\nmodule.exports = DraftEditorCompositionHandler;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/* eslint-disable fb-www/typeof-undefined */\n\n/**\n * Same as document.activeElement but wraps in a try-catch block. In IE it is\n * not safe to call document.activeElement if there is nothing focused.\n *\n * The activeElement will be null only if the document or document body is not\n * yet defined.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\n\nfunction getActiveElement(doc)\n/*?DOMElement*/\n{\n  doc = doc || (typeof document !== 'undefined' ? document : undefined);\n\n  if (typeof doc === 'undefined') {\n    return null;\n  }\n\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\n\nmodule.exports = getActiveElement;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar _require = require(\"./draftKeyUtils\"),\n    notEmptyKey = _require.notEmptyKey;\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar keyCommandPlainBackspace = require(\"./keyCommandPlainBackspace\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isGecko = UserAgent.isEngine('Gecko');\nvar DOUBLE_NEWLINE = '\\n\\n';\n\nfunction onInputType(inputType, editorState) {\n  switch (inputType) {\n    case 'deleteContentBackward':\n      return keyCommandPlainBackspace(editorState);\n  }\n\n  return editorState;\n}\n/**\n * This function serves two purposes\n *\n * 1. To update the editorState and call onChange method with the new\n * editorState. This editorState is calculated in editOnBeforeInput but the\n * onChange method is not called with the new state until this method does it.\n * It is done to handle a specific case where certain character inputs might\n * be replaced with something else. E.g. snippets ('rc' might be replaced\n * with boilerplate code for react component). More information on the\n * exact problem can be found here -\n * https://github.com/facebook/draft-js/commit/07892ba479bd4dfc6afd1e0ed179aaf51cd138b1\n *\n * 2. intended to handle spellcheck and autocorrect changes,\n * which occur in the DOM natively without any opportunity to observe or\n * interpret the changes before they occur.\n *\n * The `input` event fires in contentEditable elements reliably for non-IE\n * browsers, immediately after changes occur to the editor DOM. Since our other\n * handlers override or otherwise handle cover other varieties of text input,\n * the DOM state should match the model in all controlled input cases. Thus,\n * when an `input` change leads to a DOM/model mismatch, the change should be\n * due to a spellcheck change, and we can incorporate it into our model.\n */\n\n\nfunction editOnInput(editor, e) {\n  if (editor._pendingStateFromBeforeInput !== undefined) {\n    editor.update(editor._pendingStateFromBeforeInput);\n    editor._pendingStateFromBeforeInput = undefined;\n  } // at this point editor is not null for sure (after input)\n\n\n  var castedEditorElement = editor.editor;\n  var domSelection = castedEditorElement.ownerDocument.defaultView.getSelection();\n  var anchorNode = domSelection.anchorNode,\n      isCollapsed = domSelection.isCollapsed;\n  var isNotTextOrElementNode = (anchorNode === null || anchorNode === void 0 ? void 0 : anchorNode.nodeType) !== Node.TEXT_NODE && (anchorNode === null || anchorNode === void 0 ? void 0 : anchorNode.nodeType) !== Node.ELEMENT_NODE;\n\n  if (anchorNode == null || isNotTextOrElementNode) {\n    // TODO: (t16149272) figure out context for this change\n    return;\n  }\n\n  if (anchorNode.nodeType === Node.TEXT_NODE && (anchorNode.previousSibling !== null || anchorNode.nextSibling !== null)) {\n    // When typing at the beginning of a visual line, Chrome splits the text\n    // nodes into two. Why? No one knows. This commit is suspicious:\n    // https://chromium.googlesource.com/chromium/src/+/a3b600981286b135632371477f902214c55a1724\n    // To work around, we'll merge the sibling text nodes back into this one.\n    var span = anchorNode.parentNode;\n\n    if (span == null) {\n      // Handle null-parent case.\n      return;\n    }\n\n    anchorNode.nodeValue = span.textContent;\n\n    for (var child = span.firstChild; child != null; child = child.nextSibling) {\n      if (child !== anchorNode) {\n        span.removeChild(child);\n      }\n    }\n  }\n\n  var domText = anchorNode.textContent;\n  var editorState = editor._latestEditorState;\n  var offsetKey = nullthrows(findAncestorOffsetKey(anchorNode));\n\n  var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n      blockKey = _DraftOffsetKey$decod.blockKey,\n      decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n      leafKey = _DraftOffsetKey$decod.leafKey;\n\n  var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n      start = _editorState$getBlock.start,\n      end = _editorState$getBlock.end;\n\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var modelText = block.getText().slice(start, end); // Special-case soft newlines here. If the DOM text ends in a soft newline,\n  // we will have manually inserted an extra soft newline in DraftEditorLeaf.\n  // We want to remove this extra newline for the purpose of our comparison\n  // of DOM and model text.\n\n  if (domText.endsWith(DOUBLE_NEWLINE)) {\n    domText = domText.slice(0, -1);\n  } // No change -- the DOM is up to date. Nothing to do here.\n\n\n  if (domText === modelText) {\n    // This can be buggy for some Android keyboards because they don't fire\n    // standard onkeydown/pressed events and only fired editOnInput\n    // so domText is already changed by the browser and ends up being equal\n    // to modelText unexpectedly.\n    // Newest versions of Android support the dom-inputevent-inputtype\n    // and we can use the `inputType` to properly apply the state changes.\n\n    /* $FlowFixMe[prop-missing] inputType is only defined on a draft of a\n     * standard. https://w3c.github.io/input-events/#dom-inputevent-inputtype\n     */\n    var inputType = e.nativeEvent.inputType;\n\n    if (inputType) {\n      var newEditorState = onInputType(inputType, editorState);\n\n      if (newEditorState !== editorState) {\n        editor.restoreEditorDOM();\n        editor.update(newEditorState);\n        return;\n      }\n    }\n\n    return;\n  }\n\n  var selection = editorState.getSelection(); // We'll replace the entire leaf with the text content of the target.\n\n  var targetRange = selection.merge({\n    anchorOffset: start,\n    focusOffset: end,\n    isBackward: false\n  });\n  var entityKey = block.getEntityAt(start);\n  var entity = notEmptyKey(entityKey) ? content.getEntity(entityKey) : null;\n  var entityType = entity != null ? entity.getMutability() : null;\n  var preserveEntity = entityType === 'MUTABLE'; // Immutable or segmented entities cannot properly be handled by the\n  // default browser undo, so we have to use a different change type to\n  // force using our internal undo method instead of falling through to the\n  // native browser undo.\n\n  var changeType = preserveEntity ? 'spellcheck-change' : 'apply-entity';\n  var newContent = DraftModifier.replaceText(content, targetRange, domText, block.getInlineStyleAt(start), preserveEntity ? block.getEntityAt(start) : null);\n  var anchorOffset, focusOffset, startOffset, endOffset;\n\n  if (isGecko) {\n    // Firefox selection does not change while the context menu is open, so\n    // we preserve the anchor and focus values of the DOM selection.\n    anchorOffset = domSelection.anchorOffset;\n    focusOffset = domSelection.focusOffset;\n    startOffset = start + Math.min(anchorOffset, focusOffset);\n    endOffset = startOffset + Math.abs(anchorOffset - focusOffset);\n    anchorOffset = startOffset;\n    focusOffset = endOffset;\n  } else {\n    // Browsers other than Firefox may adjust DOM selection while the context\n    // menu is open, and Safari autocorrect is prone to providing an inaccurate\n    // DOM selection. Don't trust it. Instead, use our existing SelectionState\n    // and adjust it based on the number of characters changed during the\n    // mutation.\n    var charDelta = domText.length - modelText.length;\n    startOffset = selection.getStartOffset();\n    endOffset = selection.getEndOffset();\n    anchorOffset = isCollapsed ? endOffset + charDelta : startOffset;\n    focusOffset = endOffset + charDelta;\n  } // Segmented entities are completely or partially removed when their\n  // text content changes. For this case we do not want any text to be selected\n  // after the change, so we are not merging the selection.\n\n\n  var contentWithAdjustedDOMSelection = newContent.merge({\n    selectionBefore: content.getSelectionAfter(),\n    selectionAfter: selection.merge({\n      anchorOffset: anchorOffset,\n      focusOffset: focusOffset\n    })\n  });\n  editor.update(EditorState.push(editorState, contentWithAdjustedDOMSelection, changeType));\n}\n\nmodule.exports = editOnInput;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar DataTransfer = require(\"fbjs/lib/DataTransfer\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftPasteProcessor = require(\"./DraftPasteProcessor\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar RichTextEditorUtil = require(\"./RichTextEditorUtil\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar getTextContentFromFiles = require(\"./getTextContentFromFiles\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar splitTextIntoTextBlocks = require(\"./splitTextIntoTextBlocks\");\n/**\n * Paste content.\n */\n\n\nfunction editOnPaste(editor, e) {\n  e.preventDefault();\n  var data = new DataTransfer(e.clipboardData); // Get files, unless this is likely to be a string the user wants inline.\n\n  if (!data.isRichText()) {\n    var files = data.getFiles();\n    var defaultFileText = data.getText();\n\n    if (files.length > 0) {\n      // Allow customized paste handling for images, etc. Otherwise, fall\n      // through to insert text contents into the editor.\n      if (editor.props.handlePastedFiles && isEventHandled(editor.props.handlePastedFiles(files))) {\n        return;\n      }\n      /* $FlowFixMe[incompatible-call] This comment suppresses an error found\n       * DataTransfer was typed. getFiles() returns an array of <Files extends\n       * Blob>, not Blob */\n\n\n      getTextContentFromFiles(files, function (\n      /*string*/\n      fileText) {\n        fileText = fileText || defaultFileText;\n\n        if (!fileText) {\n          return;\n        }\n\n        var editorState = editor._latestEditorState;\n        var blocks = splitTextIntoTextBlocks(fileText);\n        var character = CharacterMetadata.create({\n          style: editorState.getCurrentInlineStyle(),\n          entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())\n        });\n        var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);\n        var text = DraftPasteProcessor.processText(blocks, character, currentBlockType);\n        var fragment = BlockMapBuilder.createFromArray(text);\n        var withInsertedText = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment);\n        editor.update(EditorState.push(editorState, withInsertedText, 'insert-fragment'));\n      });\n      return;\n    }\n  }\n\n  var textBlocks = [];\n  var text = data.getText();\n  var html = data.getHTML();\n  var editorState = editor._latestEditorState;\n\n  if (editor.props.formatPastedText) {\n    var _editor$props$formatP = editor.props.formatPastedText(text, html),\n        formattedText = _editor$props$formatP.text,\n        formattedHtml = _editor$props$formatP.html;\n\n    text = formattedText;\n    html = formattedHtml;\n  }\n\n  if (editor.props.handlePastedText && isEventHandled(editor.props.handlePastedText(text, html, editorState))) {\n    return;\n  }\n\n  if (text) {\n    textBlocks = splitTextIntoTextBlocks(text);\n  }\n\n  if (!editor.props.stripPastedStyles) {\n    // If the text from the paste event is rich content that matches what we\n    // already have on the internal clipboard, assume that we should just use\n    // the clipboard fragment for the paste. This will allow us to preserve\n    // styling and entities, if any are present. Note that newlines are\n    // stripped during comparison -- this is because copy/paste within the\n    // editor in Firefox and IE will not include empty lines. The resulting\n    // paste will preserve the newlines correctly.\n    var internalClipboard = editor.getClipboard();\n\n    if (!editor.props.formatPastedText && data.isRichText() && internalClipboard) {\n      var _html;\n\n      if ( // If the editorKey is present in the pasted HTML, it should be safe to\n      // assume this is an internal paste.\n      ((_html = html) === null || _html === void 0 ? void 0 : _html.indexOf(editor.getEditorKey())) !== -1 || // The copy may have been made within a single block, in which case the\n      // editor key won't be part of the paste. In this case, just check\n      // whether the pasted text matches the internal clipboard.\n      textBlocks.length === 1 && internalClipboard.size === 1 && internalClipboard.first().getText() === text) {\n        editor.update(insertFragment(editor._latestEditorState, internalClipboard));\n        return;\n      }\n    } else if (internalClipboard && data.types.includes('com.apple.webarchive') && !data.types.includes('text/html') && areTextBlocksAndClipboardEqual(textBlocks, internalClipboard)) {\n      // Safari does not properly store text/html in some cases.\n      // Use the internalClipboard if present and equal to what is on\n      // the clipboard. See https://bugs.webkit.org/show_bug.cgi?id=19893.\n      editor.update(insertFragment(editor._latestEditorState, internalClipboard));\n      return;\n    } // If there is html paste data, try to parse that.\n\n\n    if (html) {\n      var htmlFragment = DraftPasteProcessor.processHTML(html, editor.props.blockRenderMap);\n\n      if (htmlFragment) {\n        var contentBlocks = htmlFragment.contentBlocks,\n            entityMap = htmlFragment.entityMap;\n\n        if (contentBlocks) {\n          var htmlMap = BlockMapBuilder.createFromArray(contentBlocks);\n          editor.update(insertFragment(editor._latestEditorState, htmlMap, entityMap));\n          return;\n        }\n      }\n    } // Otherwise, create a new fragment from our pasted text. Also\n    // empty the internal clipboard, since it's no longer valid.\n\n\n    editor.setClipboard(null);\n  }\n\n  if (textBlocks.length) {\n    var character = CharacterMetadata.create({\n      style: editorState.getCurrentInlineStyle(),\n      entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())\n    });\n    var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);\n    var textFragment = DraftPasteProcessor.processText(textBlocks, character, currentBlockType);\n    var textMap = BlockMapBuilder.createFromArray(textFragment);\n    editor.update(insertFragment(editor._latestEditorState, textMap));\n  }\n}\n\nfunction insertFragment(editorState, fragment, entityMap) {\n  var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment); // TODO: merge the entity map once we stop using DraftEntity\n  // like this:\n  // const mergedEntityMap = newContent.getEntityMap().merge(entityMap);\n\n  return EditorState.push(editorState, newContent.set('entityMap', entityMap), 'insert-fragment');\n}\n\nfunction areTextBlocksAndClipboardEqual(textBlocks, blockMap) {\n  return textBlocks.length === blockMap.size && blockMap.valueSeq().every(function (block, ii) {\n    return block.getText() === textBlocks[ii];\n  });\n}\n\nmodule.exports = editOnPaste;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nfunction isSoftNewlineEvent(e) {\n  return e.which === Keys.RETURN && (e.getModifierState('Shift') || e.getModifierState('Alt') || e.getModifierState('Control'));\n}\n\nmodule.exports = isSoftNewlineEvent;","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n  i += d;\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = e << mLen | m;\n  eLen += mLen;\n\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Given a collapsed selection, move the focus `maxDistance` backward within\n * the selected block. If the selection will go beyond the start of the block,\n * move focus to the end of the previous block, but no further.\n *\n * This function is not Unicode-aware, so surrogate pairs will be treated\n * as having length 2.\n */\n\n\nfunction moveSelectionBackward(editorState, maxDistance) {\n  var selection = editorState.getSelection(); // Should eventually make this an invariant\n\n  process.env.NODE_ENV !== \"production\" ? warning(selection.isCollapsed(), 'moveSelectionBackward should only be called with a collapsed SelectionState') : void 0;\n  var content = editorState.getCurrentContent();\n  var key = selection.getStartKey();\n  var offset = selection.getStartOffset();\n  var focusKey = key;\n  var focusOffset = 0;\n\n  if (maxDistance > offset) {\n    var keyBefore = content.getKeyBefore(key);\n\n    if (keyBefore == null) {\n      focusKey = key;\n    } else {\n      focusKey = keyBefore;\n      var blockBefore = content.getBlockForKey(keyBefore);\n      focusOffset = blockBefore.getText().length;\n    }\n  } else {\n    focusOffset = offset - maxDistance;\n  }\n\n  return selection.merge({\n    focusKey: focusKey,\n    focusOffset: focusOffset,\n    isBackward: true\n  });\n}\n\nmodule.exports = moveSelectionBackward;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar getSelectionOffsetKeyForNode = require(\"./getSelectionOffsetKeyForNode\");\n/**\n * Get the key from the node's nearest offset-aware ancestor.\n */\n\n\nfunction findAncestorOffsetKey(node) {\n  var searchNode = node;\n\n  while (searchNode && searchNode !== getCorrectDocumentFromNode(node).documentElement) {\n    var key = getSelectionOffsetKeyForNode(searchNode);\n\n    if (key != null) {\n      return key;\n    }\n\n    searchNode = searchNode.parentNode;\n  }\n\n  return null;\n}\n\nmodule.exports = findAncestorOffsetKey;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar _require = require(\"immutable\"),\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet,\n    Record = _require.Record; // Immutable.map is typed such that the value for every key in the map\n// must be the same type\n\n\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  style: EMPTY_SET,\n  entity: null\n};\nvar CharacterMetadataRecord = Record(defaultRecord);\n\nvar CharacterMetadata = /*#__PURE__*/function (_CharacterMetadataRec) {\n  _inheritsLoose(CharacterMetadata, _CharacterMetadataRec);\n\n  function CharacterMetadata() {\n    return _CharacterMetadataRec.apply(this, arguments) || this;\n  }\n\n  var _proto = CharacterMetadata.prototype;\n\n  _proto.getStyle = function getStyle() {\n    return this.get('style');\n  };\n\n  _proto.getEntity = function getEntity() {\n    return this.get('entity');\n  };\n\n  _proto.hasStyle = function hasStyle(style) {\n    return this.getStyle().includes(style);\n  };\n\n  CharacterMetadata.applyStyle = function applyStyle(record, style) {\n    var withStyle = record.set('style', record.getStyle().add(style));\n    return CharacterMetadata.create(withStyle);\n  };\n\n  CharacterMetadata.removeStyle = function removeStyle(record, style) {\n    var withoutStyle = record.set('style', record.getStyle().remove(style));\n    return CharacterMetadata.create(withoutStyle);\n  };\n\n  CharacterMetadata.applyEntity = function applyEntity(record, entityKey) {\n    var withEntity = record.getEntity() === entityKey ? record : record.set('entity', entityKey);\n    return CharacterMetadata.create(withEntity);\n  }\n  /**\n   * Use this function instead of the `CharacterMetadata` constructor.\n   * Since most content generally uses only a very small number of\n   * style/entity permutations, we can reuse these objects as often as\n   * possible.\n   */\n  ;\n\n  CharacterMetadata.create = function create(config) {\n    if (!config) {\n      return EMPTY;\n    }\n\n    var defaultConfig = {\n      style: EMPTY_SET,\n      entity: null\n    }; // Fill in unspecified properties, if necessary.\n\n    var configMap = Map(defaultConfig).merge(config);\n    var existing = pool.get(configMap);\n\n    if (existing) {\n      return existing;\n    }\n\n    var newCharacter = new CharacterMetadata(configMap);\n    pool = pool.set(configMap, newCharacter);\n    return newCharacter;\n  };\n\n  CharacterMetadata.fromJS = function fromJS(_ref) {\n    var style = _ref.style,\n        entity = _ref.entity;\n    return new CharacterMetadata({\n      style: Array.isArray(style) ? OrderedSet(style) : style,\n      entity: Array.isArray(entity) ? OrderedSet(entity) : entity\n    });\n  };\n\n  return CharacterMetadata;\n}(CharacterMetadataRecord);\n\nvar EMPTY = new CharacterMetadata();\nvar pool = Map([[Map(defaultRecord), EMPTY]]);\nCharacterMetadata.EMPTY = EMPTY;\nmodule.exports = CharacterMetadata;","import getUTCISOWeekYear from '../getUTCISOWeekYear/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport startOfUTCISOWeekYear from '../startOfUTCISOWeekYear/index.js';\nimport requiredArgs from '../requiredArgs/index.js';\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nmodule.exports = {\n  initODS: function initODS() {},\n  handleExtensionCausedError: function handleExtensionCausedError() {}\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Constants to represent text directionality\n *\n * Also defines a *global* direciton, to be used in bidi algorithms as a\n * default fallback direciton, when no better direction is found or provided.\n *\n * NOTE: Use `setGlobalDir()`, or update `initGlobalDir()`, to set the initial\n *       global direction value based on the application.\n *\n * Part of the implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n'use strict';\n\nvar invariant = require(\"./invariant\");\n\nvar NEUTRAL = 'NEUTRAL'; // No strong direction\n\nvar LTR = 'LTR'; // Left-to-Right direction\n\nvar RTL = 'RTL'; // Right-to-Left direction\n\nvar globalDir = null; // == Helpers ==\n\n/**\n * Check if a directionality value is a Strong one\n */\n\nfunction isStrong(dir) {\n  return dir === LTR || dir === RTL;\n}\n/**\n * Get string value to be used for `dir` HTML attribute or `direction` CSS\n * property.\n */\n\n\nfunction getHTMLDir(dir) {\n  !isStrong(dir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`dir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  return dir === LTR ? 'ltr' : 'rtl';\n}\n/**\n * Get string value to be used for `dir` HTML attribute or `direction` CSS\n * property, but returns null if `dir` has same value as `otherDir`.\n * `null`.\n */\n\n\nfunction getHTMLDirIfDifferent(dir, otherDir) {\n  !isStrong(dir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`dir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  !isStrong(otherDir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`otherDir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  return dir === otherDir ? null : getHTMLDir(dir);\n} // == Global Direction ==\n\n/**\n * Set the global direction.\n */\n\n\nfunction setGlobalDir(dir) {\n  globalDir = dir;\n}\n/**\n * Initialize the global direction\n */\n\n\nfunction initGlobalDir() {\n  setGlobalDir(LTR);\n}\n/**\n * Get the global direction\n */\n\n\nfunction getGlobalDir() {\n  if (!globalDir) {\n    this.initGlobalDir();\n  }\n\n  !globalDir ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Global direction not set.') : invariant(false) : void 0;\n  return globalDir;\n}\n\nvar UnicodeBidiDirection = {\n  // Values\n  NEUTRAL: NEUTRAL,\n  LTR: LTR,\n  RTL: RTL,\n  // Helpers\n  isStrong: isStrong,\n  getHTMLDir: getHTMLDir,\n  getHTMLDirIfDifferent: getHTMLDirIfDifferent,\n  // Global Direction\n  setGlobalDir: setGlobalDir,\n  initGlobalDir: initGlobalDir,\n  getGlobalDir: getGlobalDir\n};\nmodule.exports = UnicodeBidiDirection;","'use strict';\nvar $ = require('../internals/export');\nvar $trimEnd = require('../internals/string-trim').end;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimEnd');\n\nvar trimEnd = FORCED ? function trimEnd() {\n  return $trimEnd(this);\n} : ''.trimEnd;\n\n// `String.prototype.{ trimEnd, trimRight }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimEnd: trimEnd,\n  trimRight: trimEnd\n});\n","var ElementType = require(\"domelementtype\");\n\nvar isTag = exports.isTag = ElementType.isTag;\n\nexports.testElement = function (options, element) {\n  for (var key in options) {\n    if (!options.hasOwnProperty(key)) ;else if (key === \"tag_name\") {\n      if (!isTag(element) || !options.tag_name(element.name)) {\n        return false;\n      }\n    } else if (key === \"tag_type\") {\n      if (!options.tag_type(element.type)) return false;\n    } else if (key === \"tag_contains\") {\n      if (isTag(element) || !options.tag_contains(element.data)) {\n        return false;\n      }\n    } else if (!element.attribs || !options[key](element.attribs[key])) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar Checks = {\n  tag_name: function tag_name(name) {\n    if (typeof name === \"function\") {\n      return function (elem) {\n        return isTag(elem) && name(elem.name);\n      };\n    } else if (name === \"*\") {\n      return isTag;\n    } else {\n      return function (elem) {\n        return isTag(elem) && elem.name === name;\n      };\n    }\n  },\n  tag_type: function tag_type(type) {\n    if (typeof type === \"function\") {\n      return function (elem) {\n        return type(elem.type);\n      };\n    } else {\n      return function (elem) {\n        return elem.type === type;\n      };\n    }\n  },\n  tag_contains: function tag_contains(data) {\n    if (typeof data === \"function\") {\n      return function (elem) {\n        return !isTag(elem) && data(elem.data);\n      };\n    } else {\n      return function (elem) {\n        return !isTag(elem) && elem.data === data;\n      };\n    }\n  }\n};\n\nfunction getAttribCheck(attrib, value) {\n  if (typeof value === \"function\") {\n    return function (elem) {\n      return elem.attribs && value(elem.attribs[attrib]);\n    };\n  } else {\n    return function (elem) {\n      return elem.attribs && elem.attribs[attrib] === value;\n    };\n  }\n}\n\nfunction combineFuncs(a, b) {\n  return function (elem) {\n    return a(elem) || b(elem);\n  };\n}\n\nexports.getElements = function (options, element, recurse, limit) {\n  var funcs = Object.keys(options).map(function (key) {\n    var value = options[key];\n    return key in Checks ? Checks[key](value) : getAttribCheck(key, value);\n  });\n  return funcs.length === 0 ? [] : this.filter(funcs.reduce(combineFuncs), element, recurse, limit);\n};\n\nexports.getElementById = function (id, element, recurse) {\n  if (!Array.isArray(element)) element = [element];\n  return this.findOne(getAttribCheck(\"id\", id), element, recurse !== false);\n};\n\nexports.getElementsByTagName = function (name, element, recurse, limit) {\n  return this.filter(Checks.tag_name(name), element, recurse, limit);\n};\n\nexports.getElementsByTagType = function (type, element, recurse, limit) {\n  return this.filter(Checks.tag_type(type), element, recurse, limit);\n};","import React, { useState, useEffect } from \"react\";\nimport { EditorState, convertToRaw, ContentState } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport \"../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\n\nconst convertHtmltoDraft = (html) => {\n  if (html) {\n    const blocksFromHtml = htmlToDraft(html);\n    const { contentBlocks, entityMap } = blocksFromHtml;\n    const contentState = ContentState.createFromBlockArray(\n      contentBlocks,\n      entityMap\n    );\n    return EditorState.createWithContent(contentState);\n  }\n  return EditorState.createEmpty();\n};\nconst EditorComponent = ({ onChange, html }) => {\n  const [editorState, setEditorState] = useState(convertHtmltoDraft(html));\n  useEffect(() => {\n    onChange &&\n      onChange(draftToHtml(convertToRaw(editorState.getCurrentContent())));\n  }, [editorState]);\n  return (\n    <Editor\n      editorState={editorState}\n      onEditorStateChange={(s) => setEditorState(s)}\n    />\n  );\n};\n\nexport default EditorComponent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n/**\n * Transpose the characters on either side of a collapsed cursor, or\n * if the cursor is at the end of the block, transpose the last two\n * characters.\n */\n\n\nfunction keyCommandTransposeCharacters(editorState) {\n  var selection = editorState.getSelection();\n\n  if (!selection.isCollapsed()) {\n    return editorState;\n  }\n\n  var offset = selection.getAnchorOffset();\n\n  if (offset === 0) {\n    return editorState;\n  }\n\n  var blockKey = selection.getAnchorKey();\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var length = block.getLength(); // Nothing to transpose if there aren't two characters.\n\n  if (length <= 1) {\n    return editorState;\n  }\n\n  var removalRange;\n  var finalSelection;\n\n  if (offset === length) {\n    // The cursor is at the end of the block. Swap the last two characters.\n    removalRange = selection.set('anchorOffset', offset - 1);\n    finalSelection = selection;\n  } else {\n    removalRange = selection.set('focusOffset', offset + 1);\n    finalSelection = removalRange.set('anchorOffset', offset + 1);\n  } // Extract the character to move as a fragment. This preserves its\n  // styling and entity, if any.\n\n\n  var movedFragment = getContentStateFragment(content, removalRange);\n  var afterRemoval = DraftModifier.removeRange(content, removalRange, 'backward'); // After the removal, the insertion target is one character back.\n\n  var selectionAfter = afterRemoval.getSelectionAfter();\n  var targetOffset = selectionAfter.getAnchorOffset() - 1;\n  var targetRange = selectionAfter.merge({\n    anchorOffset: targetOffset,\n    focusOffset: targetOffset\n  });\n  var afterInsert = DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n  var newEditorState = EditorState.push(editorState, afterInsert, 'insert-fragment');\n  return EditorState.acceptSelection(newEditorState, finalSelection);\n}\n\nmodule.exports = keyCommandTransposeCharacters;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\n\n\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\n\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar getElementRect = require(\"./getElementRect\");\n/**\n * Gets an element's position in pixels relative to the viewport. The returned\n * object represents the position of the element's top left corner.\n *\n * @param {DOMElement} element\n * @return {object}\n */\n\n\nfunction getElementPosition(element) {\n  var rect = getElementRect(element);\n  return {\n    x: rect.left,\n    y: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n}\n\nmodule.exports = getElementPosition;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nfunction editOnFocus(editor, e) {\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n\n  if (currentSelection.getHasFocus()) {\n    return;\n  }\n\n  var selection = currentSelection.set('hasFocus', true);\n  editor.props.onFocus && editor.props.onFocus(e); // When the tab containing this text editor is hidden and the user does a\n  // find-in-page in a _different_ tab, Chrome on Mac likes to forget what the\n  // selection was right after sending this focus event and (if you let it)\n  // moves the cursor back to the beginning of the editor, so we force the\n  // selection here instead of simply accepting it in order to preserve the\n  // old cursor position. See https://crbug.com/540004.\n  // But it looks like this is fixed in Chrome 60.0.3081.0.\n  // Other browsers also don't have this bug, so we prefer to acceptSelection\n  // when possible, to ensure that unfocusing and refocusing a Draft editor\n  // doesn't preserve the selection, matching how textareas work.\n\n  if (UserAgent.isBrowser('Chrome < 60.0.3081.0')) {\n    editor.update(EditorState.forceSelection(editorState, selection));\n  } else {\n    editor.update(EditorState.acceptSelection(editorState, selection));\n  }\n}\n\nmodule.exports = editOnFocus;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * @param {DOMElement} element\n * @param {DOMDocument} doc\n * @return {boolean}\n */\n\nfunction _isViewportScrollElement(element, doc) {\n  return !!doc && (element === doc.documentElement || element === doc.body);\n}\n/**\n * Scroll Module. This class contains 4 simple static functions\n * to be used to access Element.scrollTop/scrollLeft properties.\n * To solve the inconsistencies between browsers when either\n * document.body or document.documentElement is supplied,\n * below logic will be used to alleviate the issue:\n *\n * 1. If 'element' is either 'document.body' or 'document.documentElement,\n *    get whichever element's 'scroll{Top,Left}' is larger.\n * 2. If 'element' is either 'document.body' or 'document.documentElement',\n *    set the 'scroll{Top,Left}' on both elements.\n */\n\n\nvar Scroll = {\n  /**\n   * @param {DOMElement} element\n   * @return {number}\n   */\n  getTop: function getTop(element) {\n    var doc = element.ownerDocument;\n    return _isViewportScrollElement(element, doc) ? // In practice, they will either both have the same value,\n    // or one will be zero and the other will be the scroll position\n    // of the viewport. So we can use `X || Y` instead of `Math.max(X, Y)`\n    doc.body.scrollTop || doc.documentElement.scrollTop : element.scrollTop;\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @param {number} newTop\n   */\n  setTop: function setTop(element, newTop) {\n    var doc = element.ownerDocument;\n\n    if (_isViewportScrollElement(element, doc)) {\n      doc.body.scrollTop = doc.documentElement.scrollTop = newTop;\n    } else {\n      element.scrollTop = newTop;\n    }\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @return {number}\n   */\n  getLeft: function getLeft(element) {\n    var doc = element.ownerDocument;\n    return _isViewportScrollElement(element, doc) ? doc.body.scrollLeft || doc.documentElement.scrollLeft : element.scrollLeft;\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @param {number} newLeft\n   */\n  setLeft: function setLeft(element, newLeft) {\n    var doc = element.ownerDocument;\n\n    if (_isViewportScrollElement(element, doc)) {\n      doc.body.scrollLeft = doc.documentElement.scrollLeft = newLeft;\n    } else {\n      element.scrollLeft = newLeft;\n    }\n  }\n};\nmodule.exports = Scroll;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @legacyServerCallableInstance\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar Immutable = require(\"immutable\");\n\nvar Record = Immutable.Record;\nvar DraftEntityInstanceRecord = Record({\n  type: 'TOKEN',\n  mutability: 'IMMUTABLE',\n  data: Object\n});\n/**\n * An instance of a document entity, consisting of a `type` and relevant\n * `data`, metadata about the entity.\n *\n * For instance, a \"link\" entity might provide a URI, and a \"mention\"\n * entity might provide the mentioned user's ID. These pieces of data\n * may be used when rendering the entity as part of a ContentBlock DOM\n * representation. For a link, the data would be used as an href for\n * the rendered anchor. For a mention, the ID could be used to retrieve\n * a hovercard.\n */\n\nvar DraftEntityInstance = /*#__PURE__*/function (_DraftEntityInstanceR) {\n  _inheritsLoose(DraftEntityInstance, _DraftEntityInstanceR);\n\n  function DraftEntityInstance() {\n    return _DraftEntityInstanceR.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEntityInstance.prototype;\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getMutability = function getMutability() {\n    return this.get('mutability');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  return DraftEntityInstance;\n}(DraftEntityInstanceRecord);\n\nmodule.exports = DraftEntityInstance;","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\nvar warning = require(\"fbjs/lib/warning\");\n\nvar DraftTreeInvariants = {\n  /**\n   * Check if the block is valid\n   */\n  isValidBlock: function isValidBlock(block, blockMap) {\n    var key = block.getKey(); // is its parent's child\n\n    var parentKey = block.getParentKey();\n\n    if (parentKey != null) {\n      var parent = blockMap.get(parentKey);\n\n      if (!parent.getChildKeys().includes(key)) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is missing parent -> child pointer on %s', key) : void 0;\n        return false;\n      }\n    } // is its children's parent\n\n\n    var children = block.getChildKeys().map(function (k) {\n      return blockMap.get(k);\n    });\n\n    if (!children.every(function (c) {\n      return c.getParentKey() === key;\n    })) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is missing child -> parent pointer on %s', key) : void 0;\n      return false;\n    } // is its previous sibling's next sibling\n\n\n    var prevSiblingKey = block.getPrevSiblingKey();\n\n    if (prevSiblingKey != null) {\n      var prevSibling = blockMap.get(prevSiblingKey);\n\n      if (prevSibling.getNextSiblingKey() !== key) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Tree is missing nextSibling pointer on %s's prevSibling\", key) : void 0;\n        return false;\n      }\n    } // is its next sibling's previous sibling\n\n\n    var nextSiblingKey = block.getNextSiblingKey();\n\n    if (nextSiblingKey != null) {\n      var nextSibling = blockMap.get(nextSiblingKey);\n\n      if (nextSibling.getPrevSiblingKey() !== key) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Tree is missing prevSibling pointer on %s's nextSibling\", key) : void 0;\n        return false;\n      }\n    } // no 2-node cycles\n\n\n    if (nextSiblingKey !== null && prevSiblingKey !== null) {\n      if (prevSiblingKey === nextSiblingKey) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree has a two-node cycle at %s', key) : void 0;\n        return false;\n      }\n    } // if it's a leaf node, it has text but no children\n\n\n    if (block.text != '') {\n      if (block.getChildKeys().size > 0) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, 'Leaf node %s has children', key) : void 0;\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\n   * Checks that this is a connected tree on all the blocks\n   * starting from the first block, traversing nextSibling and child pointers\n   * should be a tree (preorder traversal - parent, then children)\n   * num of connected node === number of blocks\n   */\n  isConnectedTree: function isConnectedTree(blockMap) {\n    // exactly one node has no previous sibling + no parent\n    var eligibleFirstNodes = blockMap.toArray().filter(function (block) {\n      return block.getParentKey() == null && block.getPrevSiblingKey() == null;\n    });\n\n    if (eligibleFirstNodes.length !== 1) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is not connected. More or less than one first node') : void 0;\n      return false;\n    }\n\n    var firstNode = eligibleFirstNodes.shift();\n    var nodesSeen = 0;\n    var currentKey = firstNode.getKey();\n    var visitedStack = [];\n\n    while (currentKey != null) {\n      var currentNode = blockMap.get(currentKey);\n      var childKeys = currentNode.getChildKeys();\n      var nextSiblingKey = currentNode.getNextSiblingKey(); // if the node has children, add parent's next sibling to stack and go to children\n\n      if (childKeys.size > 0) {\n        if (nextSiblingKey != null) {\n          visitedStack.unshift(nextSiblingKey);\n        }\n\n        var children = childKeys.map(function (k) {\n          return blockMap.get(k);\n        });\n\n        var _firstNode = children.find(function (block) {\n          return block.getPrevSiblingKey() == null;\n        });\n\n        if (_firstNode == null) {\n          process.env.NODE_ENV !== \"production\" ? warning(true, '%s has no first child', currentKey) : void 0;\n          return false;\n        }\n\n        currentKey = _firstNode.getKey(); // TODO(T32490138): Deal with multi-node cycles here\n      } else {\n        if (currentNode.getNextSiblingKey() != null) {\n          currentKey = currentNode.getNextSiblingKey();\n        } else {\n          currentKey = visitedStack.shift();\n        }\n      }\n\n      nodesSeen++;\n    }\n\n    if (nodesSeen !== blockMap.size) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is not connected. %s nodes were seen instead of %s', nodesSeen, blockMap.size) : void 0;\n      return false;\n    }\n\n    return true;\n  },\n\n  /**\n   * Checks that the block map is a connected tree with valid blocks\n   */\n  isValidTree: function isValidTree(blockMap) {\n    var _this = this;\n\n    var blocks = blockMap.toArray();\n\n    if (!blocks.every(function (block) {\n      return _this.isValidBlock(block, blockMap);\n    })) {\n      return false;\n    }\n\n    return this.isConnectedTree(blockMap);\n  }\n};\nmodule.exports = DraftTreeInvariants;","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar invariant = require(\"./invariant\");\n/**\n * Convert array-like objects to arrays.\n *\n * This API assumes the caller knows the contents of the data type. For less\n * well defined inputs use createArrayFromMixed.\n *\n * @param {object|function|filelist} obj\n * @return {array}\n */\n\n\nfunction toArray(obj) {\n  var length = obj.length; // Some browsers builtin objects can report typeof 'function' (e.g. NodeList\n  // in old versions of Safari).\n\n  !(!Array.isArray(obj) && (typeof obj === 'object' || typeof obj === 'function')) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Array-like object expected') : invariant(false) : void 0;\n  !(typeof length === 'number') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Object needs a length property') : invariant(false) : void 0;\n  !(length === 0 || length - 1 in obj) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Object should have keys for indices') : invariant(false) : void 0;\n  !(typeof obj.callee !== 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Object can\\'t be `arguments`. Use rest params ' + '(function(...args) {}) or Array.from() instead.') : invariant(false) : void 0; // Old IE doesn't give collections access to hasOwnProperty. Assume inputs\n  // without method will throw during the slice call and skip straight to the\n  // fallback.\n\n  if (obj.hasOwnProperty) {\n    try {\n      return Array.prototype.slice.call(obj);\n    } catch (e) {// IE < 9 does not support Array#slice on collections objects\n    }\n  } // Fall back to copying key by key. This assumes all keys have a value,\n  // so will not preserve sparsely populated inputs.\n\n\n  var ret = Array(length);\n\n  for (var ii = 0; ii < length; ii++) {\n    ret[ii] = obj[ii];\n  }\n\n  return ret;\n}\n/**\n * Perform a heuristic test to determine if an object is \"array-like\".\n *\n *   A monk asked Joshu, a Zen master, \"Has a dog Buddha nature?\"\n *   Joshu replied: \"Mu.\"\n *\n * This function determines if its argument has \"array nature\": it returns\n * true if the argument is an actual array, an `arguments' object, or an\n * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).\n *\n * It will return false for other array-like objects like Filelist.\n *\n * @param {*} obj\n * @return {boolean}\n */\n\n\nfunction hasArrayNature(obj) {\n  return (// not null/false\n    !!obj && ( // arrays are objects, NodeLists are functions in Safari\n    typeof obj == 'object' || typeof obj == 'function') && // quacks like an array\n    'length' in obj && // not window\n    !('setInterval' in obj) && // no DOM node should be considered an array-like\n    // a 'select' element has 'length' and 'item' properties on IE8\n    typeof obj.nodeType != 'number' && ( // a real array\n    Array.isArray(obj) || // arguments\n    'callee' in obj || // HTMLCollection/NodeList\n    'item' in obj)\n  );\n}\n/**\n * Ensure that the argument is an array by wrapping it in an array if it is not.\n * Creates a copy of the argument if it is already an array.\n *\n * This is mostly useful idiomatically:\n *\n *   var createArrayFromMixed = require('createArrayFromMixed');\n *\n *   function takesOneOrMoreThings(things) {\n *     things = createArrayFromMixed(things);\n *     ...\n *   }\n *\n * This allows you to treat `things' as an array, but accept scalars in the API.\n *\n * If you need to convert an array-like object, like `arguments`, into an array\n * use toArray instead.\n *\n * @param {*} obj\n * @return {array}\n */\n\n\nfunction createArrayFromMixed(obj) {\n  if (!hasArrayNature(obj)) {\n    return [obj];\n  } else if (Array.isArray(obj)) {\n    return obj.slice();\n  } else {\n    return toArray(obj);\n  }\n}\n\nmodule.exports = createArrayFromMixed;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = processNodes;\n\nvar _isEmptyTextNode = require('./utils/isEmptyTextNode');\n\nvar _isEmptyTextNode2 = _interopRequireDefault(_isEmptyTextNode);\n\nvar _convertNodeToElement = require('./convertNodeToElement');\n\nvar _convertNodeToElement2 = _interopRequireDefault(_convertNodeToElement);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Processes the nodes generated by htmlparser2 and convert them all into React elements\n *\n * @param {Object[]} nodes List of nodes to process\n * @param {Function} transform Transform function to optionally apply to nodes\n * @returns {React.Element[]} The list of processed React elements\n */\n\n\nfunction processNodes(nodes, transform) {\n  return nodes.filter(function (node) {\n    return !(0, _isEmptyTextNode2.default)(node);\n  }).map(function (node, index) {\n    // return the result of the transform function if applicable\n    var transformed = void 0;\n\n    if (typeof transform === 'function') {\n      transformed = transform(node, index);\n\n      if (transformed === null || !!transformed) {\n        return transformed;\n      }\n    } // otherwise convert the node as standard\n\n\n    return (0, _convertNodeToElement2.default)(node, index, transform);\n  });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * List of void elements\n * These elements are not allowed to have children\n * @type {Array}\n */\n\nexports.default = ['area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'];","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar _require = require(\"immutable\"),\n    Map = _require.Map;\n\nvar UL_WRAP = React.createElement(\"ul\", {\n  className: cx('public/DraftStyleDefault/ul')\n});\nvar OL_WRAP = React.createElement(\"ol\", {\n  className: cx('public/DraftStyleDefault/ol')\n});\nvar PRE_WRAP = React.createElement(\"pre\", {\n  className: cx('public/DraftStyleDefault/pre')\n});\nvar DefaultDraftBlockRenderMap = Map({\n  'header-one': {\n    element: 'h1'\n  },\n  'header-two': {\n    element: 'h2'\n  },\n  'header-three': {\n    element: 'h3'\n  },\n  'header-four': {\n    element: 'h4'\n  },\n  'header-five': {\n    element: 'h5'\n  },\n  'header-six': {\n    element: 'h6'\n  },\n  section: {\n    element: 'section'\n  },\n  article: {\n    element: 'article'\n  },\n  'unordered-list-item': {\n    element: 'li',\n    wrapper: UL_WRAP\n  },\n  'ordered-list-item': {\n    element: 'li',\n    wrapper: OL_WRAP\n  },\n  blockquote: {\n    element: 'blockquote'\n  },\n  atomic: {\n    element: 'figure'\n  },\n  'code-block': {\n    element: 'pre',\n    wrapper: PRE_WRAP\n  },\n  unstyled: {\n    element: 'div',\n    aliasedElements: ['p']\n  }\n});\nmodule.exports = DefaultDraftBlockRenderMap;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar seenKeys = {};\nvar MULTIPLIER = Math.pow(2, 24);\n\nfunction generateRandomKey() {\n  var key;\n\n  while (key === undefined || seenKeys.hasOwnProperty(key) || !isNaN(+key)) {\n    key = Math.floor(Math.random() * MULTIPLIER).toString(32);\n  }\n\n  seenKeys[key] = true;\n  return key;\n}\n\nmodule.exports = generateRandomKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks static-only\n */\n'use strict';\n/**\n * Memoizes the return value of a function that accepts one string argument.\n */\n\nfunction memoizeStringOnly(callback) {\n  var cache = {};\n  return function (string) {\n    if (!cache.hasOwnProperty(string)) {\n      cache[string] = callback.call(this, string);\n    }\n\n    return cache[string];\n  };\n}\n\nmodule.exports = memoizeStringOnly;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = HtmlParser;\n\nvar _htmlparser = require('htmlparser2');\n\nvar _htmlparser2 = _interopRequireDefault(_htmlparser);\n\nvar _processNodes = require('./processNodes');\n\nvar _processNodes2 = _interopRequireDefault(_processNodes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Parses a HTML string and returns a list of React components generated from it\n *\n * @param {String} html The HTML to convert into React component\n * @param {Object} options Options to pass\n * @returns {Array} List of top level React elements\n */\n\n\nfunction HtmlParser(html) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$decodeEntities = _ref.decodeEntities,\n      decodeEntities = _ref$decodeEntities === undefined ? true : _ref$decodeEntities,\n      transform = _ref.transform,\n      _ref$preprocessNodes = _ref.preprocessNodes,\n      preprocessNodes = _ref$preprocessNodes === undefined ? function (nodes) {\n    return nodes;\n  } : _ref$preprocessNodes;\n\n  var nodes = preprocessNodes(_htmlparser2.default.parseDOM(html, {\n    decodeEntities: decodeEntities\n  }));\n  return (0, _processNodes2.default)(nodes, transform);\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar isSoftNewlineEvent = require(\"./isSoftNewlineEvent\");\n\nvar isOSX = UserAgent.isPlatform('Mac OS X');\nvar KeyBindingUtil = {\n  /**\n   * Check whether the ctrlKey modifier is *not* being used in conjunction with\n   * the altKey modifier. If they are combined, the result is an `altGraph`\n   * key modifier, which should not be handled by this set of key bindings.\n   */\n  isCtrlKeyCommand: function isCtrlKeyCommand(e) {\n    return !!e.ctrlKey && !e.altKey;\n  },\n  isOptionKeyCommand: function isOptionKeyCommand(e) {\n    return isOSX && e.altKey;\n  },\n  usesMacOSHeuristics: function usesMacOSHeuristics() {\n    return isOSX;\n  },\n  hasCommandModifier: function hasCommandModifier(e) {\n    return isOSX ? !!e.metaKey && !e.altKey : KeyBindingUtil.isCtrlKeyCommand(e);\n  },\n  isSoftNewlineEvent: isSoftNewlineEvent\n};\nmodule.exports = KeyBindingUtil;","import toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}","import addLeadingZeros from '../../addLeadingZeros/index.js';\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n      case 'aaa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import lightFormatters from '../lightFormatters/index.js';\nimport getUTCDayOfYear from '../../../_lib/getUTCDayOfYear/index.js';\nimport getUTCISOWeek from '../../../_lib/getUTCISOWeek/index.js';\nimport getUTCISOWeekYear from '../../../_lib/getUTCISOWeekYear/index.js';\nimport getUTCWeek from '../../../_lib/getUTCWeek/index.js';\nimport getUTCWeekYear from '../../../_lib/getUTCWeekYear/index.js';\nimport addLeadingZeros from '../../addLeadingZeros/index.js';\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nexport default formatters;","import toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js';\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import isValid from '../isValid/index.js';\nimport defaultLocale from '../locale/en-US/index.js';\nimport subMilliseconds from '../subMilliseconds/index.js';\nimport toDate from '../toDate/index.js';\nimport formatters from '../_lib/format/formatters/index.js';\nimport longFormatters from '../_lib/format/longFormatters/index.js';\nimport getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from '../_lib/protectedTokens/index.js';\nimport toInteger from '../_lib/toInteger/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js'; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aaa  | AM, PM                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 05/29/1453                        | 7     |\n * |                                 | PP      | May 29, 1453                      | 7     |\n * |                                 | PPP     | May 29th, 1453                    | 7     |\n * |                                 | PPPP    | Sunday, May 29th, 1453            | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 05/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | May 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | May 29th, 1453 at ...             | 7     |\n * |                                 | PPPPpppp| Sunday, May 29th, 1453 at ...     | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks\n */\n\nfunction getViewportWidth() {\n  var width;\n\n  if (document.documentElement) {\n    width = document.documentElement.clientWidth;\n  }\n\n  if (!width && document.body) {\n    width = document.body.clientWidth;\n  }\n\n  return width || 0;\n}\n\nfunction getViewportHeight() {\n  var height;\n\n  if (document.documentElement) {\n    height = document.documentElement.clientHeight;\n  }\n\n  if (!height && document.body) {\n    height = document.body.clientHeight;\n  }\n\n  return height || 0;\n}\n/**\n * Gets the viewport dimensions including any scrollbars.\n */\n\n\nfunction getViewportDimensions() {\n  return {\n    width: window.innerWidth || getViewportWidth(),\n    height: window.innerHeight || getViewportHeight()\n  };\n}\n/**\n * Gets the viewport dimensions excluding any scrollbars.\n */\n\n\ngetViewportDimensions.withoutScrollbars = function () {\n  return {\n    width: getViewportWidth(),\n    height: getViewportHeight()\n  };\n};\n\nmodule.exports = getViewportDimensions;","export default function assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  dirtyObject = dirtyObject || {};\n\n  for (var property in dirtyObject) {\n    if (dirtyObject.hasOwnProperty(property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n\n  return target;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCDay(dirtyDate, dirtyDay, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = toInteger(dirtyDay);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}","import getUTCWeekYear from '../../../_lib/getUTCWeekYear/index.js';\nimport setUTCDay from '../../../_lib/setUTCDay/index.js';\nimport setUTCISODay from '../../../_lib/setUTCISODay/index.js';\nimport setUTCISOWeek from '../../../_lib/setUTCISOWeek/index.js';\nimport setUTCWeek from '../../../_lib/setUTCWeek/index.js';\nimport startOfUTCISOWeek from '../../../_lib/startOfUTCISOWeek/index.js';\nimport startOfUTCWeek from '../../../_lib/startOfUTCWeek/index.js';\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar MILLISECONDS_IN_SECOND = 1000;\nvar numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/,\n  // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,\n  // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/,\n  // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/,\n  // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/,\n  // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/,\n  // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  minute: /^[0-5]?\\d/,\n  // 0 to 59\n  second: /^[0-5]?\\d/,\n  // 0 to 59\n  singleDigit: /^\\d/,\n  // 0 to 9\n  twoDigits: /^\\d{1,2}/,\n  // 0 to 99\n  threeDigits: /^\\d{1,3}/,\n  // 0 to 999\n  fourDigits: /^\\d{1,4}/,\n  // 0 to 9999\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/,\n  // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/,\n  // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/,\n  // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/ // 0 to 9999, -0 to -9999\n\n};\nvar timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/\n};\n\nfunction parseNumericPattern(pattern, string, valueCallback) {\n  var matchResult = string.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  var value = parseInt(matchResult[0], 10);\n  return {\n    value: valueCallback ? valueCallback(value) : value,\n    rest: string.slice(matchResult[0].length)\n  };\n}\n\nfunction parseTimezonePattern(pattern, string) {\n  var matchResult = string.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  } // Input is 'Z'\n\n\n  if (matchResult[0] === 'Z') {\n    return {\n      value: 0,\n      rest: string.slice(1)\n    };\n  }\n\n  var sign = matchResult[1] === '+' ? 1 : -1;\n  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n  return {\n    value: sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * MILLISECONDS_IN_SECOND),\n    rest: string.slice(matchResult[0].length)\n  };\n}\n\nfunction parseAnyDigitsSigned(string, valueCallback) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, string, valueCallback);\n}\n\nfunction parseNDigits(n, string, valueCallback) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, string, valueCallback);\n\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, string, valueCallback);\n\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, string, valueCallback);\n\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, string, valueCallback);\n\n    default:\n      return parseNumericPattern(new RegExp('^\\\\d{1,' + n + '}'), string, valueCallback);\n  }\n}\n\nfunction parseNDigitsSigned(n, string, valueCallback) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, string, valueCallback);\n\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, string, valueCallback);\n\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, string, valueCallback);\n\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, string, valueCallback);\n\n    default:\n      return parseNumericPattern(new RegExp('^-?\\\\d{1,' + n + '}'), string, valueCallback);\n  }\n}\n\nfunction dayPeriodEnumToHours(enumValue) {\n  switch (enumValue) {\n    case 'morning':\n      return 4;\n\n    case 'evening':\n      return 17;\n\n    case 'pm':\n    case 'noon':\n    case 'afternoon':\n      return 12;\n\n    case 'am':\n    case 'midnight':\n    case 'night':\n    default:\n      return 0;\n  }\n}\n\nfunction normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  var isCommonEra = currentYear > 0; // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n\n  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n  var result;\n\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    var rangeEnd = absCurrentYear + 50;\n    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;\n    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n\n  return isCommonEra ? result : 1 - result;\n}\n\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; // User for validation\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\n\n\nvar parsers = {\n  // Era\n  G: {\n    priority: 140,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        // AD, BC\n        case 'G':\n        case 'GG':\n        case 'GGG':\n          return match.era(string, {\n            width: 'abbreviated'\n          }) || match.era(string, {\n            width: 'narrow'\n          });\n        // A, B\n\n        case 'GGGGG':\n          return match.era(string, {\n            width: 'narrow'\n          });\n        // Anno Domini, Before Christ\n\n        case 'GGGG':\n        default:\n          return match.era(string, {\n            width: 'wide'\n          }) || match.era(string, {\n            width: 'abbreviated'\n          }) || match.era(string, {\n            width: 'narrow'\n          });\n      }\n    },\n    set: function set(date, flags, value, _options) {\n      flags.era = value;\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['R', 'u', 't', 'T']\n  },\n  // Year\n  y: {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    priority: 130,\n    parse: function parse(string, token, match, _options) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'yy'\n        };\n      };\n\n      switch (token) {\n        case 'y':\n          return parseNDigits(4, string, valueCallback);\n\n        case 'yo':\n          return match.ordinalNumber(string, {\n            unit: 'year',\n            valueCallback: valueCallback\n          });\n\n        default:\n          return parseNDigits(token.length, string, valueCallback);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value.isTwoDigitYear || value.year > 0;\n    },\n    set: function set(date, flags, value, _options) {\n      var currentYear = date.getUTCFullYear();\n\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n        return date;\n      }\n\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']\n  },\n  // Local week-numbering year\n  Y: {\n    priority: 130,\n    parse: function parse(string, token, match, _options) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'YY'\n        };\n      };\n\n      switch (token) {\n        case 'Y':\n          return parseNDigits(4, string, valueCallback);\n\n        case 'Yo':\n          return match.ordinalNumber(string, {\n            unit: 'year',\n            valueCallback: valueCallback\n          });\n\n        default:\n          return parseNDigits(token.length, string, valueCallback);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value.isTwoDigitYear || value.year > 0;\n    },\n    set: function set(date, flags, value, options) {\n      var currentYear = getUTCWeekYear(date, options);\n\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);\n        date.setUTCHours(0, 0, 0, 0);\n        return startOfUTCWeek(date, options);\n      }\n\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);\n      date.setUTCHours(0, 0, 0, 0);\n      return startOfUTCWeek(date, options);\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']\n  },\n  // ISO week-numbering year\n  R: {\n    priority: 130,\n    parse: function parse(string, token, _match, _options) {\n      if (token === 'R') {\n        return parseNDigitsSigned(4, string);\n      }\n\n      return parseNDigitsSigned(token.length, string);\n    },\n    set: function set(_date, _flags, value, _options) {\n      var firstWeekOfYear = new Date(0);\n      firstWeekOfYear.setUTCFullYear(value, 0, 4);\n      firstWeekOfYear.setUTCHours(0, 0, 0, 0);\n      return startOfUTCISOWeek(firstWeekOfYear);\n    },\n    incompatibleTokens: ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']\n  },\n  // Extended year\n  u: {\n    priority: 130,\n    parse: function parse(string, token, _match, _options) {\n      if (token === 'u') {\n        return parseNDigitsSigned(4, string);\n      }\n\n      return parseNDigitsSigned(token.length, string);\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']\n  },\n  // Quarter\n  Q: {\n    priority: 120,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'Q':\n        case 'QQ':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, string);\n        // 1st, 2nd, 3rd, 4th\n\n        case 'Qo':\n          return match.ordinalNumber(string, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n\n        case 'QQQ':\n          return match.quarter(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n        case 'QQQQQ':\n          return match.quarter(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1st quarter, 2nd quarter, ...\n\n        case 'QQQQ':\n        default:\n          return match.quarter(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.quarter(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 4;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Stand-alone quarter\n  q: {\n    priority: 120,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'q':\n        case 'qq':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, string);\n        // 1st, 2nd, 3rd, 4th\n\n        case 'qo':\n          return match.ordinalNumber(string, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n\n        case 'qqq':\n          return match.quarter(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n        case 'qqqqq':\n          return match.quarter(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1st quarter, 2nd quarter, ...\n\n        case 'qqqq':\n        default:\n          return match.quarter(string, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.quarter(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 4;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Month\n  M: {\n    priority: 110,\n    parse: function parse(string, token, match, _options) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'M':\n          return parseNumericPattern(numericPatterns.month, string, valueCallback);\n        // 01, 02, ..., 12\n\n        case 'MM':\n          return parseNDigits(2, string, valueCallback);\n        // 1st, 2nd, ..., 12th\n\n        case 'Mo':\n          return match.ordinalNumber(string, {\n            unit: 'month',\n            valueCallback: valueCallback\n          });\n        // Jan, Feb, ..., Dec\n\n        case 'MMM':\n          return match.month(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // J, F, ..., D\n\n        case 'MMMMM':\n          return match.month(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // January, February, ..., December\n\n        case 'MMMM':\n        default:\n          return match.month(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.month(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 11;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Stand-alone month\n  L: {\n    priority: 110,\n    parse: function parse(string, token, match, _options) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'L':\n          return parseNumericPattern(numericPatterns.month, string, valueCallback);\n        // 01, 02, ..., 12\n\n        case 'LL':\n          return parseNDigits(2, string, valueCallback);\n        // 1st, 2nd, ..., 12th\n\n        case 'Lo':\n          return match.ordinalNumber(string, {\n            unit: 'month',\n            valueCallback: valueCallback\n          });\n        // Jan, Feb, ..., Dec\n\n        case 'LLL':\n          return match.month(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // J, F, ..., D\n\n        case 'LLLLL':\n          return match.month(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // January, February, ..., December\n\n        case 'LLLL':\n        default:\n          return match.month(string, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.month(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 11;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Local week of year\n  w: {\n    priority: 100,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'w':\n          return parseNumericPattern(numericPatterns.week, string);\n\n        case 'wo':\n          return match.ordinalNumber(string, {\n            unit: 'week'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 53;\n    },\n    set: function set(date, _flags, value, options) {\n      return startOfUTCWeek(setUTCWeek(date, value, options), options);\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']\n  },\n  // ISO week of year\n  I: {\n    priority: 100,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'I':\n          return parseNumericPattern(numericPatterns.week, string);\n\n        case 'Io':\n          return match.ordinalNumber(string, {\n            unit: 'week'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 53;\n    },\n    set: function set(date, _flags, value, options) {\n      return startOfUTCISOWeek(setUTCISOWeek(date, value, options), options);\n    },\n    incompatibleTokens: ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']\n  },\n  // Day of the month\n  d: {\n    priority: 90,\n    subPriority: 1,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'd':\n          return parseNumericPattern(numericPatterns.date, string);\n\n        case 'do':\n          return match.ordinalNumber(string, {\n            unit: 'date'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(date, value, _options) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      var month = date.getUTCMonth();\n\n      if (isLeapYear) {\n        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n      } else {\n        return value >= 1 && value <= DAYS_IN_MONTH[month];\n      }\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCDate(value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Day of year\n  D: {\n    priority: 90,\n    subPriority: 1,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'D':\n        case 'DD':\n          return parseNumericPattern(numericPatterns.dayOfYear, string);\n\n        case 'Do':\n          return match.ordinalNumber(string, {\n            unit: 'date'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(date, value, _options) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n\n      if (isLeapYear) {\n        return value >= 1 && value <= 366;\n      } else {\n        return value >= 1 && value <= 365;\n      }\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMonth(0, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']\n  },\n  // Day of week\n  E: {\n    priority: 90,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        // Tue\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n\n        case 'EEEEE':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n\n        case 'EEEEEE':\n          return match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n\n        case 'EEEE':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 6;\n    },\n    set: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Local day of week\n  e: {\n    priority: 90,\n    parse: function parse(string, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n\n      switch (token) {\n        // 3\n        case 'e':\n        case 'ee':\n          // 03\n          return parseNDigits(token.length, string, valueCallback);\n        // 3rd\n\n        case 'eo':\n          return match.ordinalNumber(string, {\n            unit: 'day',\n            valueCallback: valueCallback\n          });\n        // Tue\n\n        case 'eee':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n\n        case 'eeeee':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n\n        case 'eeeeee':\n          return match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n\n        case 'eeee':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 6;\n    },\n    set: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']\n  },\n  // Stand-alone local day of week\n  c: {\n    priority: 90,\n    parse: function parse(string, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n\n      switch (token) {\n        // 3\n        case 'c':\n        case 'cc':\n          // 03\n          return parseNDigits(token.length, string, valueCallback);\n        // 3rd\n\n        case 'co':\n          return match.ordinalNumber(string, {\n            unit: 'day',\n            valueCallback: valueCallback\n          });\n        // Tue\n\n        case 'ccc':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // T\n\n        case 'ccccc':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tu\n\n        case 'cccccc':\n          return match.day(string, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tuesday\n\n        case 'cccc':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 6;\n    },\n    set: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']\n  },\n  // ISO day of week\n  i: {\n    priority: 90,\n    parse: function parse(string, token, match, _options) {\n      var valueCallback = function valueCallback(value) {\n        if (value === 0) {\n          return 7;\n        }\n\n        return value;\n      };\n\n      switch (token) {\n        // 2\n        case 'i':\n        case 'ii':\n          // 02\n          return parseNDigits(token.length, string);\n        // 2nd\n\n        case 'io':\n          return match.ordinalNumber(string, {\n            unit: 'day'\n          });\n        // Tue\n\n        case 'iii':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n        // T\n\n        case 'iiiii':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n        // Tu\n\n        case 'iiiiii':\n          return match.day(string, {\n            width: 'short',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n        // Tuesday\n\n        case 'iiii':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 7;\n    },\n    set: function set(date, _flags, value, options) {\n      date = setUTCISODay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']\n  },\n  // AM or PM\n  a: {\n    priority: 80,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'a':\n        case 'aa':\n        case 'aaa':\n          return match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'aaaaa':\n          return match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'aaaa':\n        default:\n          return match.dayPeriod(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['b', 'B', 'H', 'K', 'k', 't', 'T']\n  },\n  // AM, PM, midnight\n  b: {\n    priority: 80,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'b':\n        case 'bb':\n        case 'bbb':\n          return match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'bbbbb':\n          return match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'bbbb':\n        default:\n          return match.dayPeriod(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'B', 'H', 'K', 'k', 't', 'T']\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: {\n    priority: 80,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'B':\n        case 'BB':\n        case 'BBB':\n          return match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'BBBBB':\n          return match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'BBBB':\n        default:\n          return match.dayPeriod(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 't', 'T']\n  },\n  // Hour [1-12]\n  h: {\n    priority: 70,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'h':\n          return parseNumericPattern(numericPatterns.hour12h, string);\n\n        case 'ho':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 12;\n    },\n    set: function set(date, _flags, value, _options) {\n      var isPM = date.getUTCHours() >= 12;\n\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else if (!isPM && value === 12) {\n        date.setUTCHours(0, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n\n      return date;\n    },\n    incompatibleTokens: ['H', 'K', 'k', 't', 'T']\n  },\n  // Hour [0-23]\n  H: {\n    priority: 70,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'H':\n          return parseNumericPattern(numericPatterns.hour23h, string);\n\n        case 'Ho':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 23;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCHours(value, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 'h', 'K', 'k', 't', 'T']\n  },\n  // Hour [0-11]\n  K: {\n    priority: 70,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'K':\n          return parseNumericPattern(numericPatterns.hour11h, string);\n\n        case 'Ko':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 11;\n    },\n    set: function set(date, _flags, value, _options) {\n      var isPM = date.getUTCHours() >= 12;\n\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 'h', 'H', 'k', 't', 'T']\n  },\n  // Hour [1-24]\n  k: {\n    priority: 70,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'k':\n          return parseNumericPattern(numericPatterns.hour24h, string);\n\n        case 'ko':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 1 && value <= 24;\n    },\n    set: function set(date, _flags, value, _options) {\n      var hours = value <= 24 ? value % 24 : value;\n      date.setUTCHours(hours, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 'h', 'H', 'K', 't', 'T']\n  },\n  // Minute\n  m: {\n    priority: 60,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 'm':\n          return parseNumericPattern(numericPatterns.minute, string);\n\n        case 'mo':\n          return match.ordinalNumber(string, {\n            unit: 'minute'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 59;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMinutes(value, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['t', 'T']\n  },\n  // Second\n  s: {\n    priority: 50,\n    parse: function parse(string, token, match, _options) {\n      switch (token) {\n        case 's':\n          return parseNumericPattern(numericPatterns.second, string);\n\n        case 'so':\n          return match.ordinalNumber(string, {\n            unit: 'second'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function validate(_date, value, _options) {\n      return value >= 0 && value <= 59;\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCSeconds(value, 0);\n      return date;\n    },\n    incompatibleTokens: ['t', 'T']\n  },\n  // Fraction of second\n  S: {\n    priority: 30,\n    parse: function parse(string, token, _match, _options) {\n      var valueCallback = function valueCallback(value) {\n        return Math.floor(value * Math.pow(10, -token.length + 3));\n      };\n\n      return parseNDigits(token.length, string, valueCallback);\n    },\n    set: function set(date, _flags, value, _options) {\n      date.setUTCMilliseconds(value);\n      return date;\n    },\n    incompatibleTokens: ['t', 'T']\n  },\n  // Timezone (ISO-8601. +00:00 is `'Z'`)\n  X: {\n    priority: 10,\n    parse: function parse(string, token, _match, _options) {\n      switch (token) {\n        case 'X':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, string);\n\n        case 'XX':\n          return parseTimezonePattern(timezonePatterns.basic, string);\n\n        case 'XXXX':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, string);\n\n        case 'XXXXX':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, string);\n\n        case 'XXX':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, string);\n      }\n    },\n    set: function set(date, flags, value, _options) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n\n      return new Date(date.getTime() - value);\n    },\n    incompatibleTokens: ['t', 'T', 'x']\n  },\n  // Timezone (ISO-8601)\n  x: {\n    priority: 10,\n    parse: function parse(string, token, _match, _options) {\n      switch (token) {\n        case 'x':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, string);\n\n        case 'xx':\n          return parseTimezonePattern(timezonePatterns.basic, string);\n\n        case 'xxxx':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, string);\n\n        case 'xxxxx':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, string);\n\n        case 'xxx':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, string);\n      }\n    },\n    set: function set(date, flags, value, _options) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n\n      return new Date(date.getTime() - value);\n    },\n    incompatibleTokens: ['t', 'T', 'X']\n  },\n  // Seconds timestamp\n  t: {\n    priority: 40,\n    parse: function parse(string, _token, _match, _options) {\n      return parseAnyDigitsSigned(string);\n    },\n    set: function set(_date, _flags, value, _options) {\n      return [new Date(value * 1000), {\n        timestampIsSet: true\n      }];\n    },\n    incompatibleTokens: '*'\n  },\n  // Milliseconds timestamp\n  T: {\n    priority: 20,\n    parse: function parse(string, _token, _match, _options) {\n      return parseAnyDigitsSigned(string);\n    },\n    set: function set(_date, _flags, value, _options) {\n      return [new Date(value), {\n        timestampIsSet: true\n      }];\n    },\n    incompatibleTokens: '*'\n  }\n};\nexport default parsers;","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport getUTCWeek from '../getUTCWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCWeek(dirtyDate, dirtyWeek, options) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var week = toInteger(dirtyWeek);\n  var diff = getUTCWeek(date, options) - week;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport getUTCISOWeek from '../getUTCISOWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCISOWeek(dirtyDate, dirtyISOWeek) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var isoWeek = toInteger(dirtyISOWeek);\n  var diff = getUTCISOWeek(date) - isoWeek;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCISODay(dirtyDate, dirtyDay) {\n  requiredArgs(2, arguments);\n  var day = toInteger(dirtyDay);\n\n  if (day % 7 === 0) {\n    day = day - 7;\n  }\n\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}","import defaultLocale from '../locale/en-US/index.js';\nimport subMilliseconds from '../subMilliseconds/index.js';\nimport toDate from '../toDate/index.js';\nimport assign from '../_lib/assign/index.js';\nimport longFormatters from '../_lib/format/longFormatters/index.js';\nimport getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from '../_lib/protectedTokens/index.js';\nimport toInteger from '../_lib/toInteger/index.js';\nimport parsers from './_lib/parsers/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\nvar TIMEZONE_UNIT_PRIORITY = 10; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar notWhitespaceRegExp = /\\S/;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name parse\n * @category Common Helpers\n * @summary Parse the date.\n *\n * @description\n * Return the date parsed from string using the given format string.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n *\n * Format of the format string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 5 below the table).\n *\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\n *\n * ```javascript\n * parse('23 AM', 'HH a', new Date())\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\n * ```\n *\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\n *\n * Accepted format string patterns:\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\n * |---------------------------------|-----|---------|-----------------------------------|-------|\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 |     | GGGGG   | A, B                              |       |\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\n * |                                 |     | yyyyy   | ...                               | 2,4   |\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\n * |                                 |     | YYYYY   | ...                               | 2,4   |\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\n * |                                 |     | uuuuu   | ...                               | 2,4   |\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 |     | DDDD    | ...                               | 2     |\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 5     |\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\n * |                                 |     | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\n * |                                 |     | tt      | ...                               | 2     |\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\n * |                                 |     | SSS     | 000, 0001, ..., 999               |       |\n * |                                 |     | SSSS    | ...                               | 2     |\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\n * |                                 |     | TT      | ...                               | 2     |\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\n * |                                 |     | PP      | May 29, 1453                      |       |\n * |                                 |     | PPP     | May 29th, 1453                    |       |\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\n * |                                 |     | pp      | 12:00:00 AM                       |       |\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\n *    In `format` function, they will produce different result:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n *    `parse` will try to match both formatting and stand-alone units interchangably.\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table:\n *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number\n *      as wide as the sequence\n *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.\n *      These variations are marked with \"2\" in the last column of the table.\n *\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 4. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\n *\n *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`\n *\n *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`\n *\n *    while `uu` will just assign the year as is:\n *\n *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`\n *\n *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear]{@link https://date-fns.org/docs/setISOWeekYear}\n *    and [setWeekYear]{@link https://date-fns.org/docs/setWeekYear}).\n *\n * 5. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 7. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\n *    on the given locale.\n *\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\n *    using `en-US` locale: `p` => `hh:mm a`\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\n *    using `pt-BR` locale: `p` => `HH:mm`\n *\n * Values will be assigned to the date in the descending order of its unit's priority.\n * Units of an equal priority overwrite each other in the order of appearance.\n *\n * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),\n * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.\n *\n * `referenceDate` must be passed for correct work of the function.\n * If you're not sure which `referenceDate` to supply, create a new instance of Date:\n * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`\n * In this case parsing will be done in the context of the current date.\n * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,\n * then `Invalid Date` will be returned.\n *\n * The result may vary by locale.\n *\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\n *\n * If parsing failed, `Invalid Date` will be returned.\n * Invalid Date is a Date, whose time value is NaN.\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Old `parse` was renamed to `toDate`.\n *   Now `parse` is a new function which parses a string using a provided format.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   toDate('2016-01-01')\n *   parse('2016-01-01', 'yyyy-MM-dd', new Date())\n *   ```\n *\n * @param {String} dateString - the string to parse\n * @param {String} formatString - the string of tokens\n * @param {Date|Number} referenceDate - defines values missing from the parsed dateString\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {Date} the parsed date\n * @throws {TypeError} 3 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} `options.locale` must contain `match` property\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Parse 11 February 2014 from middle-endian format:\n * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())\n * //=> Tue Feb 11 2014 00:00:00\n *\n * @example\n * // Parse 28th of February in Esperanto locale in the context of 2010 year:\n * import eo from 'date-fns/locale/eo'\n * var result = parse('28-a de februaro', \"do 'de' MMMM\", new Date(2010, 0, 1), {\n *   locale: eo\n * })\n * //=> Sun Feb 28 2010 00:00:00\n */\n\nexport default function parse(dirtyDateString, dirtyFormatString, dirtyReferenceDate, dirtyOptions) {\n  requiredArgs(3, arguments);\n  var dateString = String(dirtyDateString);\n  var formatString = String(dirtyFormatString);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.match) {\n    throw new RangeError('locale must contain match property');\n  }\n\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (formatString === '') {\n    if (dateString === '') {\n      return toDate(dirtyReferenceDate);\n    } else {\n      return new Date(NaN);\n    }\n  }\n\n  var subFnOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale // If timezone isn't specified, it will be set to the system timezone\n\n  };\n  var setters = [{\n    priority: TIMEZONE_UNIT_PRIORITY,\n    subPriority: -1,\n    set: dateToSystemTimezone,\n    index: 0\n  }];\n  var i;\n  var tokens = formatString.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, subFnOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp);\n  var usedTokens = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token)) {\n      throwProtectedError(token, formatString, dirtyDateString);\n    }\n\n    if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {\n      throwProtectedError(token, formatString, dirtyDateString);\n    }\n\n    var firstCharacter = token[0];\n    var parser = parsers[firstCharacter];\n\n    if (parser) {\n      var incompatibleTokens = parser.incompatibleTokens;\n\n      if (Array.isArray(incompatibleTokens)) {\n        var incompatibleToken = void 0;\n\n        for (var _i = 0; _i < usedTokens.length; _i++) {\n          var usedToken = usedTokens[_i].token;\n\n          if (incompatibleTokens.indexOf(usedToken) !== -1 || usedToken === firstCharacter) {\n            incompatibleToken = usedTokens[_i];\n            break;\n          }\n        }\n\n        if (incompatibleToken) {\n          throw new RangeError(\"The format string mustn't contain `\".concat(incompatibleToken.fullToken, \"` and `\").concat(token, \"` at the same time\"));\n        }\n      } else if (parser.incompatibleTokens === '*' && usedTokens.length) {\n        throw new RangeError(\"The format string mustn't contain `\".concat(token, \"` and any other token at the same time\"));\n      }\n\n      usedTokens.push({\n        token: firstCharacter,\n        fullToken: token\n      });\n      var parseResult = parser.parse(dateString, token, locale.match, subFnOptions);\n\n      if (!parseResult) {\n        return new Date(NaN);\n      }\n\n      setters.push({\n        priority: parser.priority,\n        subPriority: parser.subPriority || 0,\n        set: parser.set,\n        validate: parser.validate,\n        value: parseResult.value,\n        index: setters.length\n      });\n      dateString = parseResult.rest;\n    } else {\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n      } // Replace two single quote characters with one single quote character\n\n\n      if (token === \"''\") {\n        token = \"'\";\n      } else if (firstCharacter === \"'\") {\n        token = cleanEscapedString(token);\n      } // Cut token from string, or, if string doesn't match the token, return Invalid Date\n\n\n      if (dateString.indexOf(token) === 0) {\n        dateString = dateString.slice(token.length);\n      } else {\n        return new Date(NaN);\n      }\n    }\n  } // Check if the remaining input contains something other than whitespace\n\n\n  if (dateString.length > 0 && notWhitespaceRegExp.test(dateString)) {\n    return new Date(NaN);\n  }\n\n  var uniquePrioritySetters = setters.map(function (setter) {\n    return setter.priority;\n  }).sort(function (a, b) {\n    return b - a;\n  }).filter(function (priority, index, array) {\n    return array.indexOf(priority) === index;\n  }).map(function (priority) {\n    return setters.filter(function (setter) {\n      return setter.priority === priority;\n    }).sort(function (a, b) {\n      return b.subPriority - a.subPriority;\n    });\n  }).map(function (setterArray) {\n    return setterArray[0];\n  });\n  var date = toDate(dirtyReferenceDate);\n\n  if (isNaN(date)) {\n    return new Date(NaN);\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/37\n\n\n  var utcDate = subMilliseconds(date, getTimezoneOffsetInMilliseconds(date));\n  var flags = {};\n\n  for (i = 0; i < uniquePrioritySetters.length; i++) {\n    var setter = uniquePrioritySetters[i];\n\n    if (setter.validate && !setter.validate(utcDate, setter.value, subFnOptions)) {\n      return new Date(NaN);\n    }\n\n    var result = setter.set(utcDate, flags, setter.value, subFnOptions); // Result is tuple (date, flags)\n\n    if (result[0]) {\n      utcDate = result[0];\n      assign(flags, result[1]); // Result is date\n    } else {\n      utcDate = result;\n    }\n  }\n\n  return utcDate;\n}\n\nfunction dateToSystemTimezone(date, flags) {\n  if (flags.timestampIsSet) {\n    return date;\n  }\n\n  var convertedDate = new Date(0);\n  convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n  convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n  return convertedDate;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","import React, { useState, useEffect } from \"react\";\nimport {\n  TextInput,\n  Box,\n  Button,\n  Select,\n  Text,\n  DateInput,\n  MaskedInput,\n} from \"grommet\";\nimport { format, parseISO, parse } from \"date-fns\";\n\nconst daysInMonth = (month) => new Date(2019, month, 0).getDate();\n\nconst DateTimePicker = ({ value, onChange }) => {\n  const [date, setDate] = useState(format(value, \"yyyy-MM-dd\"));\n  const [time, setTime] = useState(format(value, \"HH:mm\"));\n\n  useEffect(() => {\n    const obj = parse(`${date} ${time}`, \"yyyy-MM-dd HH:mm\", new Date());\n    if (obj && !isNaN(obj.getTime())) {\n      onChange && onChange(obj);\n    }\n  }, [date, time]);\n\n  return (\n    <>\n      {JSON.stringify()}\n      <MaskedInput\n        mask={[\n          {\n            length: 4,\n            options: Array.from({ length: 100 }, (v, k) => 2019 + k),\n            regexp: /^[1-2]$|^19$|^20$|^19[0-9]$|^20[0-9]$|^19[0-9][0-9]$|^20[0-9][0-9]$/,\n            placeholder: \"yyyy\",\n          },\n          { fixed: \"-\" },\n          {\n            length: 2,\n            options: Array.from({ length: 12 }, (v, k) =>\n              `${k + 1}`.padStart(2, 0)\n            ),\n            regexp: /^1[0,1-2]$|^0?[1-9]$|^0$/,\n            placeholder: \"mm\",\n          },\n          { fixed: \"-\" },\n          {\n            length: 2,\n            options: Array.from(\n              {\n                length: daysInMonth(parseInt(date.split(\"/\")[0], 10)),\n              },\n              (v, k) => `${k + 1}`.padStart(2, 0)\n            ),\n            regexp: /^[1-2][0-9]$|^3[0-1]$|^0?[1-9]$|^0$/,\n            placeholder: \"dd\",\n          },\n        ]}\n        value={date}\n        onChange={(event) => setDate(event.target.value)}\n      />\n      <MaskedInput\n        mask={[\n          {\n            length: 2,\n            options: Array.from({ length: 24 }, (v, k) =>\n              `${k}`.padStart(2, 0)\n            ),\n            regexp: /^1[0,1-2]$|^0?[1-9]$|^0$/,\n            placeholder: \"hh\",\n          },\n          { fixed: \":\" },\n          {\n            length: 2,\n            options: Array.from({ length: 60 }, (v, k) =>\n              `${k}`.padStart(2, 0)\n            ),\n            regexp: /^[0-9][0-9]$|^[0-9]$/,\n            placeholder: \"mm\",\n          },\n        ]}\n        value={time}\n        onChange={(event) => setTime(event.target.value)}\n      />\n    </>\n  );\n};\n\nexport default DateTimePicker;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n\n/* eslint-disable no-proto */\n'use strict';\n\nvar base64 = require('base64-js');\n\nvar ieee754 = require('ieee754');\n\nvar isArray = require('isarray');\n\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\n\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n/*\n * Export kMaxLength after typed array support is determined.\n */\n\nexports.kMaxLength = kMaxLength();\n\nfunction typedArraySupport() {\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = {\n      __proto__: Uint8Array.prototype,\n      foo: function foo() {\n        return 42;\n      }\n    };\n    return arr.foo() === 42 && // typed array instances can be augmented\n    typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n    arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction kMaxLength() {\n  return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n}\n\nfunction createBuffer(that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length');\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n\n    that.length = length;\n  }\n\n  return that;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\n\nfunction Buffer(arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length);\n  } // Common case.\n\n\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error('If encoding is specified then the first argument must be a string');\n    }\n\n    return allocUnsafe(this, arg);\n  }\n\n  return from(this, arg, encodingOrOffset, length);\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n// TODO: Legacy, not needed anymore. Remove in next major version.\n\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr;\n};\n\nfunction from(that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset);\n  }\n\n  return fromObject(that, value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\n\n\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length);\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    });\n  }\n}\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n}\n\nfunction alloc(that, size, fill, encoding) {\n  assertSize(size);\n\n  if (size <= 0) {\n    return createBuffer(that, size);\n  }\n\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n  }\n\n  return createBuffer(that, size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\n\n\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding);\n};\n\nfunction allocUnsafe(that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n\n  return that;\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\n\n\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\n\n\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size);\n};\n\nfunction fromString(that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding');\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n\n  return that;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n\n  return that;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that;\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n\n  return Buffer.alloc(+length);\n}\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nBuffer.compare = function compare(a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers');\n  }\n\n  if (a === b) return 0;\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0; // Use a for loop to avoid recursion\n\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length;\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n\n      case 'hex':\n        return len >>> 1;\n\n      case 'base64':\n        return base64ToBytes(string).length;\n\n      default:\n        if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\nBuffer.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n  if (start === undefined || start < 0) {\n    start = 0;\n  } // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n\n\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  } // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n} // The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\n\n\nBuffer.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16() {\n  var len = this.length;\n\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap32 = function swap32() {\n  var len = this.length;\n\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap64 = function swap64() {\n  var len = this.length;\n\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n\n  return this;\n};\n\nBuffer.prototype.toString = function toString() {\n  var length = this.length | 0;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer.prototype.equals = function equals(b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer.compare(this, b) === 0;\n};\n\nBuffer.prototype.inspect = function inspect() {\n  var str = '';\n  var max = exports.INSPECT_MAX_BYTES;\n\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n\n  return '<Buffer ' + str + '>';\n};\n\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer');\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n  if (this === target) return 0;\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n}; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\n\n\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1; // Normalize byteOffset\n\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n\n  byteOffset = +byteOffset; // Coerce to Number.\n\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  } // Normalize val\n\n\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n\n    if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n\n  if (dir) {\n    var foundIndex = -1;\n\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break;\n        }\n      }\n\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n\n    if (length > remaining) {\n      length = remaining;\n    }\n  } // must be an even number of digits\n\n\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction latin1Write(buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    } // legacy write(string, encoding, offset, length) - remove in v0.13\n\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf);\n  } else {\n    return base64.fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n  var i = start;\n\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n\n          break;\n\n        case 2:\n          secondByte = buf[i + 1];\n\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n} // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\n\n\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n  var res = '';\n  var i = 0;\n\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n  var out = '';\n\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n\n  return res;\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\n\n\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, true, 23, 4);\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, false, 23, 4);\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, true, 52, 8);\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n}; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n}; // Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\n\n\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (code < 256) {\n        val = code;\n      }\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n}; // HELPER FUNCTIONS\n// ================\n\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n  if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n\n  return str;\n}\n\nfunction stringtrim(str) {\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction toHex(n) {\n  if (n < 16) return '0' + n.toString(16);\n  return n.toString(16);\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return base64.toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}","import toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar moveSelectionForward = require(\"./moveSelectionForward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Remove the selected range. If the cursor is collapsed, remove the following\n * character. This operation is Unicode-aware, so removing a single character\n * will remove a surrogate pair properly as well.\n */\n\n\nfunction keyCommandPlainDelete(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var content = strategyState.getCurrentContent();\n    var key = selection.getAnchorKey();\n    var offset = selection.getAnchorOffset();\n    var charAhead = content.getBlockForKey(key).getText()[offset];\n    return moveSelectionForward(strategyState, charAhead ? UnicodeUtils.getUTF16Length(charAhead, 0) : 1);\n  }, 'forward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  var selection = editorState.getSelection();\n  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'delete-character' : 'remove-range');\n}\n\nmodule.exports = keyCommandPlainDelete;","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","\"use strict\";\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n\nvar ReactDOMComet = require(\"react-dom\");\n\nvar flushControlled = ReactDOMComet.unstable_flushControlled;\nmodule.exports = flushControlled;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar ContentState = require(\"./ContentState\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar DraftTreeAdapter = require(\"./DraftTreeAdapter\");\n\nvar DraftTreeInvariants = require(\"./DraftTreeInvariants\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar createCharacterList = require(\"./createCharacterList\");\n\nvar decodeEntityRanges = require(\"./decodeEntityRanges\");\n\nvar decodeInlineStyleRanges = require(\"./decodeInlineStyleRanges\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedMap = Immutable.OrderedMap;\n\nvar decodeBlockNodeConfig = function decodeBlockNodeConfig(block, entityMap) {\n  var key = block.key,\n      type = block.type,\n      data = block.data,\n      text = block.text,\n      depth = block.depth;\n  var blockNodeConfig = {\n    text: text,\n    depth: depth || 0,\n    type: type || 'unstyled',\n    key: key || generateRandomKey(),\n    data: Map(data),\n    characterList: decodeCharacterList(block, entityMap)\n  };\n  return blockNodeConfig;\n};\n\nvar decodeCharacterList = function decodeCharacterList(block, entityMap) {\n  var text = block.text,\n      rawEntityRanges = block.entityRanges,\n      rawInlineStyleRanges = block.inlineStyleRanges;\n  var entityRanges = rawEntityRanges || [];\n  var inlineStyleRanges = rawInlineStyleRanges || []; // Translate entity range keys to the DraftEntity map.\n\n  return createCharacterList(decodeInlineStyleRanges(text, inlineStyleRanges), decodeEntityRanges(text, entityRanges.filter(function (range) {\n    return entityMap.hasOwnProperty(range.key);\n  }).map(function (range) {\n    return _objectSpread({}, range, {\n      key: entityMap[range.key]\n    });\n  })));\n};\n\nvar addKeyIfMissing = function addKeyIfMissing(block) {\n  return _objectSpread({}, block, {\n    key: block.key || generateRandomKey()\n  });\n};\n/**\n * Node stack is responsible to ensure we traverse the tree only once\n * in depth order, while also providing parent refs to inner nodes to\n * construct their links.\n */\n\n\nvar updateNodeStack = function updateNodeStack(stack, nodes, parentRef) {\n  var nodesWithParentRef = nodes.map(function (block) {\n    return _objectSpread({}, block, {\n      parentRef: parentRef\n    });\n  }); // since we pop nodes from the stack we need to insert them in reverse\n\n  return stack.concat(nodesWithParentRef.reverse());\n};\n/**\n * This will build a tree draft content state by creating the node\n * reference links into a single tree walk. Each node has a link\n * reference to \"parent\", \"children\", \"nextSibling\" and \"prevSibling\"\n * blockMap will be created using depth ordering.\n */\n\n\nvar decodeContentBlockNodes = function decodeContentBlockNodes(blocks, entityMap) {\n  return blocks // ensure children have valid keys to enable sibling links\n  .map(addKeyIfMissing).reduce(function (blockMap, block, index) {\n    !Array.isArray(block.children) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'invalid RawDraftContentBlock can not be converted to ContentBlockNode') : invariant(false) : void 0; // ensure children have valid keys to enable sibling links\n\n    var children = block.children.map(addKeyIfMissing); // root level nodes\n\n    var contentBlockNode = new ContentBlockNode(_objectSpread({}, decodeBlockNodeConfig(block, entityMap), {\n      prevSibling: index === 0 ? null : blocks[index - 1].key,\n      nextSibling: index === blocks.length - 1 ? null : blocks[index + 1].key,\n      children: List(children.map(function (child) {\n        return child.key;\n      }))\n    })); // push root node to blockMap\n\n    blockMap = blockMap.set(contentBlockNode.getKey(), contentBlockNode); // this stack is used to ensure we visit all nodes respecting depth ordering\n\n    var stack = updateNodeStack([], children, contentBlockNode); // start computing children nodes\n\n    while (stack.length > 0) {\n      // we pop from the stack and start processing this node\n      var node = stack.pop(); // parentRef already points to a converted ContentBlockNode\n\n      var parentRef = node.parentRef;\n      var siblings = parentRef.getChildKeys();\n\n      var _index = siblings.indexOf(node.key);\n\n      var isValidBlock = Array.isArray(node.children);\n\n      if (!isValidBlock) {\n        !isValidBlock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'invalid RawDraftContentBlock can not be converted to ContentBlockNode') : invariant(false) : void 0;\n        break;\n      } // ensure children have valid keys to enable sibling links\n\n\n      var _children = node.children.map(addKeyIfMissing);\n\n      var _contentBlockNode = new ContentBlockNode(_objectSpread({}, decodeBlockNodeConfig(node, entityMap), {\n        parent: parentRef.getKey(),\n        children: List(_children.map(function (child) {\n          return child.key;\n        })),\n        prevSibling: _index === 0 ? null : siblings.get(_index - 1),\n        nextSibling: _index === siblings.size - 1 ? null : siblings.get(_index + 1)\n      })); // push node to blockMap\n\n\n      blockMap = blockMap.set(_contentBlockNode.getKey(), _contentBlockNode); // this stack is used to ensure we visit all nodes respecting depth ordering\n\n      stack = updateNodeStack(stack, _children, _contentBlockNode);\n    }\n\n    return blockMap;\n  }, OrderedMap());\n};\n\nvar decodeContentBlocks = function decodeContentBlocks(blocks, entityMap) {\n  return OrderedMap(blocks.map(function (block) {\n    var contentBlock = new ContentBlock(decodeBlockNodeConfig(block, entityMap));\n    return [contentBlock.getKey(), contentBlock];\n  }));\n};\n\nvar decodeRawBlocks = function decodeRawBlocks(rawState, entityMap) {\n  var isTreeRawBlock = rawState.blocks.find(function (block) {\n    return Array.isArray(block.children) && block.children.length > 0;\n  });\n  var rawBlocks = experimentalTreeDataSupport && !isTreeRawBlock ? DraftTreeAdapter.fromRawStateToRawTreeState(rawState).blocks : rawState.blocks;\n\n  if (!experimentalTreeDataSupport) {\n    return decodeContentBlocks(isTreeRawBlock ? DraftTreeAdapter.fromRawTreeStateToRawState(rawState).blocks : rawBlocks, entityMap);\n  }\n\n  var blockMap = decodeContentBlockNodes(rawBlocks, entityMap); // in dev mode, check that the tree invariants are met\n\n  if (process.env.NODE_ENV !== \"production\") {\n    !DraftTreeInvariants.isValidTree(blockMap) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should be a valid tree') : invariant(false) : void 0;\n  }\n\n  return blockMap;\n};\n\nvar decodeRawEntityMap = function decodeRawEntityMap(rawState) {\n  var rawEntityMap = rawState.entityMap;\n  var entityMap = {}; // TODO: Update this once we completely remove DraftEntity\n\n  Object.keys(rawEntityMap).forEach(function (rawEntityKey) {\n    var _rawEntityMap$rawEnti = rawEntityMap[rawEntityKey],\n        type = _rawEntityMap$rawEnti.type,\n        mutability = _rawEntityMap$rawEnti.mutability,\n        data = _rawEntityMap$rawEnti.data; // get the key reference to created entity\n\n    entityMap[rawEntityKey] = DraftEntity.__create(type, mutability, data || {});\n  });\n  return entityMap;\n};\n\nvar convertFromRawToDraftState = function convertFromRawToDraftState(rawState) {\n  !Array.isArray(rawState.blocks) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'invalid RawDraftContentState') : invariant(false) : void 0; // decode entities\n\n  var entityMap = decodeRawEntityMap(rawState); // decode blockMap\n\n  var blockMap = decodeRawBlocks(rawState, entityMap); // create initial selection\n\n  var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());\n  return new ContentState({\n    blockMap: blockMap,\n    entityMap: entityMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n};\n\nmodule.exports = convertFromRawToDraftState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n/**\n * Collapse selection at the start of the first selected block. This is used\n * for Firefox versions that attempt to navigate forward/backward instead of\n * moving the cursor. Other browsers are able to move the cursor natively.\n */\n\n\nfunction keyCommandMoveSelectionToStartOfBlock(editorState) {\n  var selection = editorState.getSelection();\n  var startKey = selection.getStartKey();\n  return EditorState.set(editorState, {\n    selection: selection.merge({\n      anchorKey: startKey,\n      anchorOffset: 0,\n      focusKey: startKey,\n      focusOffset: 0,\n      isBackward: false\n    }),\n    forceSelection: true\n  });\n}\n\nmodule.exports = keyCommandMoveSelectionToStartOfBlock;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n'use strict';\n\nvar AtomicBlockUtils = require(\"./AtomicBlockUtils\");\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar CompositeDraftDecorator = require(\"./CompositeDraftDecorator\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentState = require(\"./ContentState\");\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditor = require(\"./DraftEditor.react\");\n\nvar DraftEditorBlock = require(\"./DraftEditorBlock.react\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftEntityInstance = require(\"./DraftEntityInstance\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar KeyBindingUtil = require(\"./KeyBindingUtil\");\n\nvar RawDraftContentState = require(\"./RawDraftContentState\");\n\nvar RichTextEditorUtil = require(\"./RichTextEditorUtil\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar convertFromDraftStateToRaw = require(\"./convertFromDraftStateToRaw\");\n\nvar convertFromRawToDraftState = require(\"./convertFromRawToDraftState\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getVisibleSelectionRect = require(\"./getVisibleSelectionRect\");\n\nvar convertFromHTML = require(\"./convertFromHTMLToContentBlocks\");\n\nvar DraftPublic = {\n  Editor: DraftEditor,\n  EditorBlock: DraftEditorBlock,\n  EditorState: EditorState,\n  CompositeDecorator: CompositeDraftDecorator,\n  Entity: DraftEntity,\n  EntityInstance: DraftEntityInstance,\n  BlockMapBuilder: BlockMapBuilder,\n  CharacterMetadata: CharacterMetadata,\n  ContentBlock: ContentBlock,\n  ContentState: ContentState,\n  RawDraftContentState: RawDraftContentState,\n  SelectionState: SelectionState,\n  AtomicBlockUtils: AtomicBlockUtils,\n  KeyBindingUtil: KeyBindingUtil,\n  Modifier: DraftModifier,\n  RichUtils: RichTextEditorUtil,\n  DefaultDraftBlockRenderMap: DefaultDraftBlockRenderMap,\n  DefaultDraftInlineStyle: DefaultDraftInlineStyle,\n  convertFromHTML: convertFromHTML,\n  convertFromRaw: convertFromRawToDraftState,\n  convertToRaw: convertFromDraftStateToRaw,\n  genKey: generateRandomKey,\n  getDefaultKeyBinding: getDefaultKeyBinding,\n  getVisibleSelectionRect: getVisibleSelectionRect\n};\nmodule.exports = DraftPublic;","module.exports = ProxyHandler;\n\nfunction ProxyHandler(cbs) {\n  this._cbs = cbs || {};\n}\n\nvar EVENTS = require(\"./\").EVENTS;\n\nObject.keys(EVENTS).forEach(function (name) {\n  if (EVENTS[name] === 0) {\n    name = \"on\" + name;\n\n    ProxyHandler.prototype[name] = function () {\n      if (this._cbs[name]) this._cbs[name]();\n    };\n  } else if (EVENTS[name] === 1) {\n    name = \"on\" + name;\n\n    ProxyHandler.prototype[name] = function (a) {\n      if (this._cbs[name]) this._cbs[name](a);\n    };\n  } else if (EVENTS[name] === 2) {\n    name = \"on\" + name;\n\n    ProxyHandler.prototype[name] = function (a, b) {\n      if (this._cbs[name]) this._cbs[name](a, b);\n    };\n  } else {\n    throw Error(\"wrong number of arguments\");\n  }\n});","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nfunction applyEntityToContentBlock(contentBlock, startArg, end, entityKey) {\n  var start = startArg;\n  var characterList = contentBlock.getCharacterList();\n\n  while (start < end) {\n    characterList = characterList.set(start, CharacterMetadata.applyEntity(characterList.get(start), entityKey));\n    start++;\n  }\n\n  return contentBlock.set('characterList', characterList);\n}\n\nmodule.exports = applyEntityToContentBlock;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftRemovableWord = require(\"./DraftRemovableWord\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar moveSelectionBackward = require(\"./moveSelectionBackward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Delete the word that is left of the cursor, as well as any spaces or\n * punctuation after the word.\n */\n\n\nfunction keyCommandBackspaceWord(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var offset = selection.getStartOffset(); // If there are no words before the cursor, remove the preceding newline.\n\n    if (offset === 0) {\n      return moveSelectionBackward(strategyState, 1);\n    }\n\n    var key = selection.getStartKey();\n    var content = strategyState.getCurrentContent();\n    var text = content.getBlockForKey(key).getText().slice(0, offset);\n    var toRemove = DraftRemovableWord.getBackward(text);\n    return moveSelectionBackward(strategyState, toRemove.length || 1);\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandBackspaceWord;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = generatePropsFromAttributes;\n\nvar _htmlAttributesToReact = require('./htmlAttributesToReact');\n\nvar _htmlAttributesToReact2 = _interopRequireDefault(_htmlAttributesToReact);\n\nvar _inlineStyleToObject = require('./inlineStyleToObject');\n\nvar _inlineStyleToObject2 = _interopRequireDefault(_inlineStyleToObject);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Generates props for a React element from an object of HTML attributes\n *\n * @param {Object} attributes The HTML attributes\n * @param {String} key The key to give the react element\n */\n\n\nfunction generatePropsFromAttributes(attributes, key) {\n  // generate props\n  var props = _extends({}, (0, _htmlAttributesToReact2.default)(attributes), {\n    key: key\n  }); // if there is an inline/string style prop then convert it to a React style object\n  // otherwise, it is invalid and omitted\n\n\n  if (typeof props.style === 'string' || props.style instanceof String) {\n    props.style = (0, _inlineStyleToObject2.default)(props.style);\n  } else {\n    delete props.style;\n  }\n\n  return props;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isOldIE = UserAgent.isBrowser('IE <= 9'); // Provides a dom node that will not execute scripts\n// https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation.createHTMLDocument\n// https://developer.mozilla.org/en-US/Add-ons/Code_snippets/HTML_to_DOM\n\nfunction getSafeBodyFromHTML(html) {\n  var doc;\n  var root = null; // Provides a safe context\n\n  if (!isOldIE && document.implementation && document.implementation.createHTMLDocument) {\n    doc = document.implementation.createHTMLDocument('foo');\n    !doc.documentElement ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing doc.documentElement') : invariant(false) : void 0;\n    doc.documentElement.innerHTML = html;\n    root = doc.getElementsByTagName('body')[0];\n  }\n\n  return root;\n}\n\nmodule.exports = getSafeBodyFromHTML;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DraftEditorDecoratedLeaves = require(\"./DraftEditorDecoratedLeaves.react\");\n\nvar DraftEditorLeaf = require(\"./DraftEditorLeaf.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar List = Immutable.List;\n\nvar DraftEditorNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorNode, _React$Component);\n\n  function DraftEditorNode() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorNode.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        block = _this$props.block,\n        contentState = _this$props.contentState,\n        customStyleFn = _this$props.customStyleFn,\n        customStyleMap = _this$props.customStyleMap,\n        decorator = _this$props.decorator,\n        direction = _this$props.direction,\n        forceSelection = _this$props.forceSelection,\n        hasSelection = _this$props.hasSelection,\n        selection = _this$props.selection,\n        tree = _this$props.tree;\n    var blockKey = block.getKey();\n    var text = block.getText();\n    var lastLeafSet = tree.size - 1;\n    var children = this.props.children || tree.map(function (leafSet, ii) {\n      var decoratorKey = leafSet.get('decoratorKey');\n      var leavesForLeafSet = leafSet.get('leaves');\n      var lastLeaf = leavesForLeafSet.size - 1;\n      var Leaves = leavesForLeafSet.map(function (leaf, jj) {\n        var offsetKey = DraftOffsetKey.encode(blockKey, ii, jj);\n        var start = leaf.get('start');\n        var end = leaf.get('end');\n        return React.createElement(DraftEditorLeaf, {\n          key: offsetKey,\n          offsetKey: offsetKey,\n          block: block,\n          start: start,\n          selection: hasSelection ? selection : null,\n          forceSelection: forceSelection,\n          text: text.slice(start, end),\n          styleSet: block.getInlineStyleAt(start),\n          customStyleMap: customStyleMap,\n          customStyleFn: customStyleFn,\n          isLast: decoratorKey === lastLeafSet && jj === lastLeaf\n        });\n      }).toArray();\n\n      if (!decoratorKey || !decorator) {\n        return Leaves;\n      }\n\n      return React.createElement(DraftEditorDecoratedLeaves, {\n        block: block,\n        children: Leaves,\n        contentState: contentState,\n        decorator: decorator,\n        decoratorKey: decoratorKey,\n        direction: direction,\n        leafSet: leafSet,\n        text: text,\n        key: ii\n      });\n    }).toArray();\n    return React.createElement(\"div\", {\n      \"data-offset-key\": DraftOffsetKey.encode(blockKey, 0, 0),\n      className: cx({\n        'public/DraftStyleDefault/block': true,\n        'public/DraftStyleDefault/ltr': direction === 'LTR',\n        'public/DraftStyleDefault/rtl': direction === 'RTL'\n      })\n    }, children);\n  };\n\n  return DraftEditorNode;\n}(React.Component);\n\nmodule.exports = DraftEditorNode;","import styled from 'styled-components';\nimport { disabledStyle, getInputPadBySide, inputStyle, plainInputStyle } from '../../utils';\nexport var StyledMaskedInput = styled.input.withConfig({\n  displayName: \"StyledMaskedInput\",\n  componentId: \"sc-99vkfa-0\"\n})([\"\", \" \", \" \", \" \", \" \", \";\"], inputStyle, function (props) {\n  return props.plain && plainInputStyle;\n}, function (props) {\n  return props.icon && (props.reverse ? \"padding-right: \" + props.theme.global.edgeSize.large + \";\" : \"padding-left: \" + props.theme.global.edgeSize.large + \";\");\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.maskedInput.disabled && props.theme.maskedInput.disabled.opacity);\n}, function (props) {\n  return props.theme.maskedInput && props.theme.maskedInput.extend;\n});\nexport var StyledMaskedInputContainer = styled.div.withConfig({\n  displayName: \"StyledMaskedInput__StyledMaskedInputContainer\",\n  componentId: \"sc-99vkfa-1\"\n})([\"position:relative;width:100%;\"]);\nexport var StyledIcon = styled.div.withConfig({\n  displayName: \"StyledMaskedInput__StyledIcon\",\n  componentId: \"sc-99vkfa-2\"\n})([\"position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;\", \"\"], function (props) {\n  return props.reverse ? \"right: \" + getInputPadBySide(props, 'right') + \";\" : \"left: \" + getInputPadBySide(props, 'left') + \";\";\n});","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { useForwardedRef } from '../../utils';\nimport { StyledMaskedInput, StyledMaskedInputContainer, StyledIcon } from './StyledMaskedInput';\n\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n\n  var valueIndex = 0;\n  var maskIndex = 0;\n\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n\n    if (item.fixed) {\n      var length = item.fixed.length; // grab however much of value (starting at valueIndex) matches\n      // item.fixed. If none matches it and there is more in value\n      // add in the fixed item.\n\n      var matching = 0;\n\n      while (matching < length && value[valueIndex + matching] === item.fixed[matching]) {\n        matching += 1;\n      }\n\n      if (matching > 0) {\n        var part = value.slice(valueIndex, valueIndex + matching);\n\n        if (valueIndex + matching < value.length) {\n          // matched part of the fixed portion but there's more stuff\n          // after it. Go ahead and fill in the entire fixed chunk\n          part = item.fixed;\n        }\n\n        valueParts.push({\n          part: part,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + matching - 1\n        });\n        valueIndex += matching;\n      } else {\n        valueParts.push({\n          part: item.fixed,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + length - 1\n        });\n      }\n\n      maskIndex += 1;\n      found = true;\n    } else if (item.options) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n\n          _length -= 1;\n        }\n\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n\n  return valueParts;\n};\n\nvar defaultMask = [{\n  regexp: /[^]*/\n}];\nvar dropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar MaskedInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      focusProp = _ref.focus,\n      icon = _ref.icon,\n      id = _ref.id,\n      _ref$mask = _ref.mask,\n      mask = _ref$mask === void 0 ? defaultMask : _ref$mask,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      reverse = _ref.reverse,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"focus\", \"icon\", \"id\", \"mask\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"placeholder\", \"plain\", \"reverse\", \"value\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var _useState = useState(parseValue(mask, value)),\n      valueParts = _useState[0],\n      setValueParts = _useState[1];\n\n  useEffect(function () {\n    setValueParts(parseValue(mask, value));\n  }, [mask, value]);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef();\n\n  var _useState2 = useState(focusProp),\n      focus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var _useState3 = useState(),\n      activeMaskIndex = _useState3[0],\n      setActiveMaskIndex = _useState3[1];\n\n  var _useState4 = useState(),\n      activeOptionIndex = _useState4[0],\n      setActiveOptionIndex = _useState4[1];\n\n  var _useState5 = useState(),\n      showDrop = _useState5[0],\n      setShowDrop = _useState5[1];\n\n  useEffect(function () {\n    if (focus) {\n      var timer = setTimeout(function () {\n        // determine which mask element the caret is at\n        var caretIndex = inputRef.current.selectionStart;\n        var maskIndex;\n        valueParts.some(function (part, index) {\n          if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n            maskIndex = index;\n            return true;\n          }\n\n          return false;\n        });\n\n        if (maskIndex === undefined && valueParts.length < mask.length) {\n          maskIndex = valueParts.length; // first unused one\n        }\n\n        if (maskIndex && mask[maskIndex].fixed) {\n          maskIndex -= 1; // fixed mask parts are never \"active\"\n        }\n\n        if (maskIndex !== activeMaskIndex) {\n          setActiveMaskIndex(maskIndex);\n          setActiveOptionIndex(-1);\n          setShowDrop(maskIndex >= 0 && mask[maskIndex].options && true);\n        }\n      }, 10); // 10ms empirically chosen\n\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [activeMaskIndex, focus, inputRef, mask, valueParts]);\n  var setInputValue = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210 &&\n    // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, [inputRef]); // This could be due to a paste or as the user is typing.\n\n  var onChangeInput = useCallback(function (event) {\n    // Align with the mask.\n    var nextValueParts = parseValue(mask, event.target.value);\n    var nextValue = nextValueParts.map(function (part) {\n      return part.part;\n    }).join('');\n\n    if (nextValue !== event.target.value) {\n      // The mask required inserting something, change the input.\n      // This will re-trigger this callback with the next value\n      setInputValue(nextValue);\n    } else if (value !== nextValue) {\n      setValue(nextValue);\n      if (onChange) onChange(event);\n    }\n  }, [mask, onChange, setInputValue, setValue, value]);\n  var onOption = useCallback(function (option) {\n    return function () {\n      var nextValueParts = [].concat(valueParts);\n      nextValueParts[activeMaskIndex] = {\n        part: option\n      }; // add any fixed parts that follow\n\n      var index = activeMaskIndex + 1;\n\n      while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n        nextValueParts[index] = {\n          part: mask[index].fixed\n        };\n        index += 1;\n      }\n\n      var nextValue = nextValueParts.map(function (part) {\n        return part.part;\n      }).join('');\n      setInputValue(nextValue); // restore focus to input\n\n      inputRef.current.focus();\n    };\n  }, [activeMaskIndex, inputRef, mask, setInputValue, valueParts]);\n  var onNextOption = useCallback(function (event) {\n    var item = mask[activeMaskIndex];\n\n    if (item && item.options) {\n      event.preventDefault();\n      var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onPreviousOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n      event.preventDefault();\n      var index = Math.max(activeOptionIndex - 1, 0);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n      event.preventDefault();\n      var option = mask[activeMaskIndex].options[activeOptionIndex];\n      onOption(option)();\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask, onOption]);\n  var onEsc = useCallback(function (event) {\n    if (showDrop) {\n      // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this input\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n      setShowDrop(false);\n    }\n  }, [showDrop]);\n  var onHideDrop = useCallback(function () {\n    return setShowDrop(false);\n  }, []);\n\n  var renderPlaceholder = function renderPlaceholder() {\n    return mask.map(function (item) {\n      return item.placeholder || item.fixed;\n    }).join('');\n  };\n\n  return /*#__PURE__*/React.createElement(StyledMaskedInputContainer, {\n    plain: plain\n  }, icon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, icon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc,\n    onTab: showDrop ? function () {\n      return setShowDrop(false);\n    } : undefined,\n    onLeft: undefined,\n    onRight: undefined,\n    onUp: onPreviousOption,\n    onDown: showDrop ? onNextOption : function () {\n      return setShowDrop(true);\n    },\n    onEnter: onSelectOption,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledMaskedInput, _extends({\n    ref: inputRef,\n    \"aria-label\": a11yTitle,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    plain: plain,\n    placeholder: placeholder || renderPlaceholder(),\n    icon: icon,\n    reverse: reverse,\n    focus: focus\n  }, rest, {\n    value: value,\n    theme: theme,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      setShowDrop(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false); // This will be called when the user clicks on a suggestion,\n      // check for that and don't remove the drop in that case.\n      // Drop will already have removed itself if the user has focused\n      // outside of the Drop.\n\n      if (!dropRef.current) setShowDrop(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: onChangeInput\n  }))), showDrop && mask[activeMaskIndex] && mask[activeMaskIndex].options && /*#__PURE__*/React.createElement(Drop, {\n    id: id ? \"masked-input-drop__\" + id : undefined,\n    align: dropAlign,\n    responsive: false,\n    target: inputRef.current,\n    onClickOutside: onHideDrop,\n    onEsc: onHideDrop\n  }, /*#__PURE__*/React.createElement(Box, {\n    ref: dropRef\n  }, mask[activeMaskIndex].options.map(function (option, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      pad: {\n        horizontal: 'small',\n        vertical: 'xsmall'\n      }\n    }, option) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(Box, {\n      key: option,\n      flex: false\n    }, /*#__PURE__*/React.createElement(Button, {\n      tabIndex: \"-1\",\n      onClick: onOption(option),\n      onMouseOver: function onMouseOver() {\n        return setActiveOptionIndex(index);\n      },\n      onFocus: function onFocus() {},\n      active: index === activeOptionIndex,\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? option : undefined\n    }, child));\n  }))));\n});\nMaskedInput.displayName = 'MaskedInput';\nvar MaskedInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  MaskedInputDoc = require('./doc').doc(MaskedInput);\n}\n\nvar MaskedInputWrapper = MaskedInputDoc || MaskedInput;\nexport { MaskedInputWrapper as MaskedInput };","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar areEqual = function areEqual(a, b) {\n  return a === b;\n};\n\nvar isTruthy = function isTruthy(a) {\n  return !!a;\n};\n\nvar EMPTY_ARRAY = [];\n/**\n * Helper function for getting encoded styles for each inline style. Convert\n * to UTF-8 character counts for storage.\n */\n\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\n  var ranges = []; // Obtain an array with ranges for only the specified style.\n\n  var filteredInlines = styleList.map(function (style) {\n    return style.has(styleToEncode);\n  }).toList();\n  findRangesImmutable(filteredInlines, areEqual, // We only want to keep ranges with nonzero style values.\n  isTruthy, function (start, end) {\n    var text = block.getText();\n    ranges.push({\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\n      length: UnicodeUtils.strlen(text.slice(start, end)),\n      style: styleToEncode\n    });\n  });\n  return ranges;\n}\n/*\n * Retrieve the encoded arrays of inline styles, with each individual style\n * treated separately.\n */\n\n\nfunction encodeInlineStyleRanges(block) {\n  var styleList = block.getCharacterList().map(function (c) {\n    return c.getStyle();\n  }).toList();\n  var ranges = styleList.flatten().toSet().map(function (style) {\n    return getEncodedInlinesForType(block, styleList, style);\n  });\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\n}\n\nmodule.exports = encodeInlineStyleRanges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Get offset key from a node or it's child nodes. Return the first offset key\n * found on the DOM tree of given node.\n */\n\nvar isElement = require(\"./isElement\");\n\nfunction getSelectionOffsetKeyForNode(node) {\n  if (isElement(node)) {\n    var castedNode = node;\n    var offsetKey = castedNode.getAttribute('data-offset-key');\n\n    if (offsetKey) {\n      return offsetKey;\n    }\n\n    for (var ii = 0; ii < castedNode.childNodes.length; ii++) {\n      var childOffsetKey = getSelectionOffsetKeyForNode(castedNode.childNodes[ii]);\n\n      if (childOffsetKey) {\n        return childOffsetKey;\n      }\n    }\n  }\n\n  return null;\n}\n\nmodule.exports = getSelectionOffsetKeyForNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getRangeClientRects = require(\"./getRangeClientRects\");\n/**\n * Like range.getBoundingClientRect() but normalizes for browser bugs.\n */\n\n\nfunction getRangeBoundingClientRect(range) {\n  // \"Return a DOMRect object describing the smallest rectangle that includes\n  // the first rectangle in list and all of the remaining rectangles of which\n  // the height or width is not zero.\"\n  // http://www.w3.org/TR/cssom-view/#dom-range-getboundingclientrect\n  var rects = getRangeClientRects(range);\n  var top = 0;\n  var right = 0;\n  var bottom = 0;\n  var left = 0;\n\n  if (rects.length) {\n    // If the first rectangle has 0 width, we use the second, this is needed\n    // because Chrome renders a 0 width rectangle when the selection contains\n    // a line break.\n    if (rects.length > 1 && rects[0].width === 0) {\n      var _rects$ = rects[1];\n      top = _rects$.top;\n      right = _rects$.right;\n      bottom = _rects$.bottom;\n      left = _rects$.left;\n    } else {\n      var _rects$2 = rects[0];\n      top = _rects$2.top;\n      right = _rects$2.right;\n      bottom = _rects$2.bottom;\n      left = _rects$2.left;\n    }\n\n    for (var ii = 1; ii < rects.length; ii++) {\n      var rect = rects[ii];\n\n      if (rect.height !== 0 && rect.width !== 0) {\n        top = Math.min(top, rect.top);\n        right = Math.max(right, rect.right);\n        bottom = Math.max(bottom, rect.bottom);\n        left = Math.min(left, rect.left);\n      }\n    }\n  }\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top\n  };\n}\n\nmodule.exports = getRangeBoundingClientRect;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = htmlAttributesToReact;\n\nvar _BooleanAttributes = require('../dom/attributes/BooleanAttributes');\n\nvar _BooleanAttributes2 = _interopRequireDefault(_BooleanAttributes);\n\nvar _ReactAttributes = require('../dom/attributes/ReactAttributes');\n\nvar _ReactAttributes2 = _interopRequireDefault(_ReactAttributes);\n\nvar _isValidTagOrAttributeName = require('./isValidTagOrAttributeName');\n\nvar _isValidTagOrAttributeName2 = _interopRequireDefault(_isValidTagOrAttributeName);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Returns the parsed attribute value taking into account things like boolean attributes\n *\n * @param {String} attribute The name of the attribute\n * @param {*} value The value of the attribute from the HTML\n * @returns {*} The parsed attribute value\n */\n\n\nvar getParsedAttributeValue = function getParsedAttributeValue(attribute, value) {\n  // if the attribute if a boolean then it's value should be the same as it's name\n  // e.g. disabled=\"disabled\"\n  var lowerBooleanAttributes = _BooleanAttributes2.default.map(function (attr) {\n    return attr.toLowerCase();\n  });\n\n  if (lowerBooleanAttributes.indexOf(attribute.toLowerCase()) >= 0) {\n    value = attribute;\n  }\n\n  return value;\n};\n/**\n * Takes an object of standard HTML property names and converts them to their React counterpart. If the react\n * version does not exist for an attribute then just use it as it is\n *\n * @param {Object} attributes The HTML attributes to convert\n * @returns {Object} The React attributes\n */\n\n\nfunction htmlAttributesToReact(attributes) {\n  return Object.keys(attributes).filter(function (attr) {\n    return (0, _isValidTagOrAttributeName2.default)(attr);\n  }).reduce(function (mappedAttributes, attribute) {\n    // lowercase the attribute name and find it in the react attribute map\n    var lowerCaseAttribute = attribute.toLowerCase(); // format the attribute name\n\n    var name = _ReactAttributes2.default[lowerCaseAttribute] || lowerCaseAttribute; // add the parsed attribute value to the mapped attributes\n\n    mappedAttributes[name] = getParsedAttributeValue(name, attributes[attribute]);\n    return mappedAttributes;\n  }, {});\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getRangeBoundingClientRect = require(\"./getRangeBoundingClientRect\");\n/**\n * Return the bounding ClientRect for the visible DOM selection, if any.\n * In cases where there are no selected ranges or the bounding rect is\n * temporarily invalid, return null.\n *\n * When using from an iframe, you should pass the iframe window object\n */\n\n\nfunction getVisibleSelectionRect(global) {\n  var selection = global.getSelection();\n\n  if (!selection.rangeCount) {\n    return null;\n  }\n\n  var range = selection.getRangeAt(0);\n  var boundingRect = getRangeBoundingClientRect(range);\n  var top = boundingRect.top,\n      right = boundingRect.right,\n      bottom = boundingRect.bottom,\n      left = boundingRect.left; // When a re-render leads to a node being removed, the DOM selection will\n  // temporarily be placed on an ancestor node, which leads to an invalid\n  // bounding rect. Discard this state.\n\n  if (top === 0 && right === 0 && bottom === 0 && left === 0) {\n    return null;\n  }\n\n  return boundingRect;\n}\n\nmodule.exports = getVisibleSelectionRect;"],"sourceRoot":""}