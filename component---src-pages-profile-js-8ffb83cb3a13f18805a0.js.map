{"version":3,"file":"component---src-pages-profile-js-8ffb83cb3a13f18805a0.js","mappings":"sLAgEA,UAvDkB,WAChB,OAAkDA,EAAAA,EAAAA,UAAS,IAApDC,EAAP,KAA0BC,EAA1B,KAyBA,OAvBAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MAAkBC,MAAK,SAACC,GACtB,IAAMC,EAAOD,EAAEE,MACb,SAACC,GAAD,OAAOA,EAAEC,IAAI,UAAN,QAA0BC,EAAAA,GAAAA,KAAAA,UAAqBC,MAEpDL,IACFM,EAAAA,EAAAA,IAAa,oBAAqB,CAChCC,MAAO,EACPP,KAAM,CACJQ,EAAG,UACHC,EAAG,UACHC,EAAGV,EAAKK,GACRM,EAAG,WAEJb,MAAK,SAACc,GAAD,OACNA,GAAWA,EAAQ,GACfjB,EAAqBiB,EAAQ,IAC7BjB,EAAqB,YAI9B,IAGD,gCACE,gBAAC,IAAD,CACEkB,WAAW,yBACXC,QAAQ,yBACRC,KAAMrB,EAAkBW,GAAK,SAAW,SACxCW,QAAS,SAACC,EAAQC,GAChB,MAAe,WAAXD,GACKE,EAAAA,EAAAA,IAAa,oBAAqBD,GAG5B,WAAXD,GACKG,EAAAA,EAAAA,IAAa,oBAAqBF,QAD3C,GAIFA,MAAOxB,EAAkBW,GAAKX,EAAkB2B,SAAW,GAC3DC,WAAY,CACVC,OAAQ,CACN,CACEC,SAAU,OACVC,WAAY","sources":["webpack://gatsby-starter-hello-world/./src/pages/profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Anchor } from \"grommet\";\nimport Parse, {\n  getMyRoleObject,\n  searchObject,\n  updateObject,\n  createObject,\n} from \"../library/parse\";\nimport CRUDForm from \"../containers/CRUDForm\";\nconst Component = () => {\n  const [rolePublicProfile, setRolePublicProfile] = useState({});\n\n  useEffect(() => {\n    getMyRoleObject().then((e) => {\n      const role = e.find(\n        (o) => o.get(\"name\") === `User-${Parse.User.current().id}`\n      );\n      if (role) {\n        searchObject(\"RolePublicProfile\", {\n          limit: 1,\n          role: {\n            f: \"equalTo\",\n            t: \"pointer\",\n            v: role.id,\n            c: \"_Role\",\n          },\n        }).then((objects) =>\n          objects && objects[0]\n            ? setRolePublicProfile(objects[0])\n            : setRolePublicProfile({})\n        );\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <CRUDForm\n        buttonText=\"Update Contact Details\"\n        heading=\"Update Contact Details\"\n        mode={rolePublicProfile.id ? \"update\" : \"create\"}\n        onClick={(action, model) => {\n          if (action === \"create\") {\n            return createObject(\"RolePublicProfile\", model);\n          }\n\n          if (action === \"update\") {\n            return updateObject(\"RolePublicProfile\", model);\n          }\n        }}\n        model={rolePublicProfile.id ? rolePublicProfile.toJSON() : {}}\n        formConfig={{\n          config: [\n            {\n              property: \"name\",\n              headerText: \"Name\",\n            },\n          ],\n        }}\n      />\n    </>\n  );\n};\n\nexport default Component;\n"],"names":["useState","rolePublicProfile","setRolePublicProfile","useEffect","getMyRoleObject","then","e","role","find","o","get","Parse","id","searchObject","limit","f","t","v","c","objects","buttonText","heading","mode","onClick","action","model","createObject","updateObject","toJSON","formConfig","config","property","headerText"],"sourceRoot":""}